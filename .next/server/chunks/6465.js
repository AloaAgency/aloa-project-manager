exports.id=6465,exports.ids=[6465],exports.modules={72514:(e,r,s)=>{Promise.resolve().then(s.bind(s,74636))},11109:(e,r,s)=>{Promise.resolve().then(s.bind(s,46376))},14382:(e,r,s)=>{Promise.resolve().then(s.bind(s,23684)),Promise.resolve().then(s.bind(s,16741)),Promise.resolve().then(s.bind(s,40381))},24422:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},74636:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(10326);function a({error:e,reset:r}){return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong!"}),t.jsx("button",{onClick:()=>r(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Try again"})]})})}s(17577)},46376:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(10326);function a({error:e,reset:r}){return t.jsx("html",{children:t.jsx("body",{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong!"}),t.jsx("button",{onClick:()=>r(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Try again"})]})})})})}},23684:(e,r,s)=>{"use strict";s.d(r,{default:()=>f});var t=s(10326),a=s(16741),o=s(90434),i=s(35047),n=s(26754),l=s(83855),c=s(36283),d=s(1572),m=s(24061),u=s(79635),h=s(88378),x=s(71810),g=s(17577);function f(){let{user:e,profile:r,signOut:s,isSuperAdmin:f,isProjectAdmin:p,isTeamMember:b}=(0,a.a)(),j=(0,i.usePathname)(),[w,y]=(0,g.useState)(!1);if(j.startsWith("/auth/")||!e)return null;let v=[{href:"/dashboard",label:"Dashboard",icon:n.Z},{href:"/create",label:"Create Form",icon:l.Z,show:b},{href:"/responses",label:"Responses",icon:c.Z,show:b},{href:"/ai-analysis",label:"AI Analysis",icon:d.Z,show:b},{href:"/admin",label:"Admin",icon:m.Z,show:f}].filter(e=>!1!==e.show);return(0,t.jsxs)("nav",{className:"bg-aloa-dark border-b-2 border-aloa-dark",children:[t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex",children:[t.jsx(o.default,{href:"/dashboard",className:"flex items-center px-2 py-2 text-aloa-cream font-bold text-xl",children:"Aloa\xae"}),t.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-4",children:v.map(e=>{let r=e.icon,s=j===e.href;return(0,t.jsxs)(o.default,{href:e.href,className:`inline-flex items-center px-3 py-2 text-sm font-medium transition-colors ${s?"text-aloa-cream border-b-2 border-aloa-cream":"text-gray-300 hover:text-aloa-cream"}`,children:[t.jsx(r,{className:"w-4 h-4 mr-2"}),e.label]},e.href)})})]}),t.jsx("div",{className:"flex items-center",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx("button",{onClick:()=>y(!w),className:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-aloa-dark focus:ring-aloa-cream",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-800 transition-colors",children:[(0,t.jsxs)("div",{className:"text-right hidden sm:block",children:[t.jsx("p",{className:"text-sm font-medium text-aloa-cream",children:r?.full_name||e.email}),t.jsx("p",{className:"text-xs text-gray-400",children:r?.role?.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})]}),t.jsx("div",{className:"h-8 w-8 rounded-full bg-aloa-cream flex items-center justify-center",children:t.jsx(u.Z,{className:"h-5 w-5 text-aloa-dark"})})]})}),w&&t.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:(0,t.jsxs)("div",{className:"py-1",role:"menu",children:[(0,t.jsxs)(o.default,{href:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:[t.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"Profile"]}),(0,t.jsxs)(o.default,{href:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:[t.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Settings"]}),t.jsx("hr",{className:"my-1"}),(0,t.jsxs)("button",{onClick:()=>{y(!1),s()},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 text-left",children:[t.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]})})]})}),t.jsx("div",{className:"sm:hidden border-t border-gray-700",children:t.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:v.map(e=>{let r=e.icon,s=j===e.href;return(0,t.jsxs)(o.default,{href:e.href,className:`flex items-center px-3 py-2 rounded-md text-base font-medium transition-colors ${s?"bg-gray-900 text-aloa-cream":"text-gray-300 hover:bg-gray-700 hover:text-aloa-cream"}`,children:[t.jsx(r,{className:"w-5 h-5 mr-3"}),e.label]},e.href)})})})]})}},16741:(e,r,s)=>{"use strict";s.d(r,{UserProvider:()=>l,a:()=>c});var t=s(10326),a=s(17577),o=s(35047),i=s(69201);let n=(0,a.createContext)({});function l({children:e}){let[r,s]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[d,m]=(0,a.useState)(!0);(0,o.useRouter)();let u=(0,i.eI)(),h=async e=>{if(r)try{let{data:s,error:t}=await u.from("aloa_user_profiles").update(e).eq("id",r.id).select().single();if(t)throw t;return c(s),{data:s,error:null}}catch(e){return console.error("Error updating profile:",e),{data:null,error:e}}},x=async(e,s)=>{if(!r)return!1;try{let{data:t}=await u.from("aloa_project_members").select("project_role").eq("user_id",r.id).eq("project_id",e).single();if(!t)return!1;let a=["viewer","editor","admin","owner"],o=a.indexOf(s);return a.indexOf(t.project_role)>=o}catch(e){return console.error("Error checking project role:",e),!1}},g={user:r,profile:l,loading:d,signOut:async()=>{try{let{error:e}=await u.auth.signOut();if(e)throw e}catch(e){console.error("Error signing out:",e)}},updateProfile:h,hasRole:e=>l?.role===e,hasProjectRole:x,isAuthenticated:!!r,isSuperAdmin:l?.role==="super_admin",isProjectAdmin:l?.role==="project_admin"||l?.role==="super_admin",isTeamMember:["team_member","project_admin","super_admin"].includes(l?.role),isClient:l?.role==="client"};return t.jsx(n.Provider,{value:g,children:e})}function c(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},69201:(e,r,s)=>{"use strict";s.d(r,{RN:()=>o,c0:()=>n,eI:()=>a,gQ:()=>l,y1:()=>i});var t=s(70474);function a(){let e="https://eycgzjqwowrdmjlzqqyg.supabase.co",r="sb_publishable_eG0lH_ACpyOjqG44mN_5PA_1-oFLr5n";if(console.log("Creating Supabase client with:",{url:e,keyPrefix:r?r.substring(0,20)+"...":"NO KEY"}),!e||!r)throw console.error("Missing Supabase environment variables"),Error("Supabase configuration is missing");return(0,t.createBrowserClient)(e,r)}async function o(e){let r=a(),{error:s}=await r.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});return s?{error:s.message}:{success:!0}}async function i(e,r,s=""){let t=a(),{data:o,error:i}=await t.auth.signUp({email:e,password:r,options:{data:{full_name:s},emailRedirectTo:`${window.location.origin}/auth/callback`}});return i?{error:i.message}:o.user&&o.user.identities&&0===o.user.identities.length?{error:"A user with this email already exists. Please sign in instead.",userExists:!0}:{user:o.user}}async function n(e){let r=a();console.log("Attempting to reset password for:",e);let{data:s,error:t}=await r.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/update-password`});return(console.log("Reset password response:",{data:s,error:t}),t)?(console.error("Reset password error:",t),{error:t.message}):{success:!0}}async function l(e){let r=a(),{error:s}=await r.auth.updateUser({password:e});return s?{error:s.message}:{success:!0}}},20784:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/error.js#default`)},87506:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(68570).createProxy)(String.raw`/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/global-error.js#default`)},68874:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c,metadata:()=>l});var t=s(19510);s(67272);var a=s(19125),o=s(68570);let i=(0,o.createProxy)(String.raw`/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/UserContext.js#UserProvider`);(0,o.createProxy)(String.raw`/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/UserContext.js#useUser`);let n=(0,o.createProxy)(String.raw`/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/Navigation.js#default`),l={title:"Aloa\xae Project Manager",description:"Gamified project management system for Aloa web design projects.",robots:{index:!1,follow:!1,googleBot:{index:!1,follow:!1}}};function c({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:"bg-aloa-cream",children:(0,t.jsxs)(i,{children:[t.jsx(n,{}),t.jsx(a.x7,{position:"top-right",toastOptions:{style:{background:"#0A0A0A",color:"#FAF6F0",borderRadius:"0",border:"2px solid #0A0A0A"}}}),e]})})})}},67272:()=>{}};