"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_lib_pdfGenerator_js";
exports.ids = ["_ssr_lib_pdfGenerator_js"];
exports.modules = {

/***/ "(ssr)/./lib/pdfGenerator.js":
/*!*****************************!*\
  !*** ./lib/pdfGenerator.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateAnalysisPDF: () => (/* binding */ generateAnalysisPDF),\n/* harmony export */   parseAnalysisText: () => (/* binding */ parseAnalysisText)\n/* harmony export */ });\n/* harmony import */ var jspdf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jspdf */ \"(ssr)/./node_modules/jspdf/dist/jspdf.es.min.js\");\n\nfunction generateAnalysisPDF(analysisData, formTitle) {\n    const doc = new jspdf__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    const pageWidth = doc.internal.pageSize.getWidth();\n    const pageHeight = doc.internal.pageSize.getHeight();\n    const margin = 20;\n    const lineHeight = 7;\n    let yPosition = margin;\n    // Helper function to add text with word wrap\n    const addWrappedText = (text, fontSize = 12, fontStyle = \"normal\", maxWidth = pageWidth - 2 * margin)=>{\n        doc.setFontSize(fontSize);\n        doc.setFont(undefined, fontStyle);\n        const lines = doc.splitTextToSize(text, maxWidth);\n        lines.forEach((line)=>{\n            // Check if we need a new page\n            if (yPosition + lineHeight > pageHeight - margin) {\n                doc.addPage();\n                yPosition = margin;\n            }\n            doc.text(line, margin, yPosition);\n            yPosition += lineHeight;\n        });\n        return yPosition;\n    };\n    // Add spacing\n    const addSpacing = (space = 10)=>{\n        yPosition += space;\n        if (yPosition > pageHeight - margin) {\n            doc.addPage();\n            yPosition = margin;\n        }\n    };\n    // Header with branding\n    doc.setFillColor(0, 0, 0); // Black header\n    doc.rect(0, 0, pageWidth, 30, \"F\");\n    doc.setTextColor(255, 248, 232); // Cream text\n    doc.setFontSize(20);\n    doc.setFont(undefined, \"bold\");\n    doc.text(\"AI Analysis Report\", pageWidth / 2, 18, {\n        align: \"center\"\n    });\n    // Reset text color\n    doc.setTextColor(0, 0, 0);\n    yPosition = 45;\n    // Form title\n    doc.setFontSize(16);\n    doc.setFont(undefined, \"bold\");\n    doc.text(formTitle, margin, yPosition);\n    yPosition += 10;\n    // Date\n    doc.setFontSize(10);\n    doc.setFont(undefined, \"normal\");\n    doc.setTextColor(100, 100, 100);\n    doc.text(`Generated: ${new Date().toLocaleDateString(\"en-US\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\"\n    })}`, margin, yPosition);\n    doc.setTextColor(0, 0, 0);\n    addSpacing(15);\n    // Parse the analysis data\n    if (analysisData.summary) {\n        // Executive Summary\n        doc.setFontSize(14);\n        doc.setFont(undefined, \"bold\");\n        doc.text(\"Executive Summary\", margin, yPosition);\n        yPosition += 8;\n        doc.setFontSize(11);\n        doc.setFont(undefined, \"normal\");\n        yPosition = addWrappedText(analysisData.summary, 11);\n        addSpacing(15);\n    }\n    // Key Insights\n    if (analysisData.insights && analysisData.insights.length > 0) {\n        doc.setFontSize(14);\n        doc.setFont(undefined, \"bold\");\n        doc.text(\"Key Insights\", margin, yPosition);\n        yPosition += 8;\n        analysisData.insights.forEach((insight, index)=>{\n            doc.setFontSize(11);\n            doc.setFont(undefined, \"normal\");\n            // Add bullet point\n            doc.text(\"•\", margin + 5, yPosition);\n            // Add insight text with indent\n            const oldMargin = margin;\n            doc.text(\"\", margin + 12, yPosition);\n            yPosition = addWrappedText(insight, 11, \"normal\", pageWidth - margin - 12 - 20);\n            addSpacing(5);\n        });\n        addSpacing(10);\n    }\n    // Trends and Patterns\n    if (analysisData.trends && analysisData.trends.length > 0) {\n        doc.setFontSize(14);\n        doc.setFont(undefined, \"bold\");\n        doc.text(\"Trends & Patterns\", margin, yPosition);\n        yPosition += 8;\n        analysisData.trends.forEach((trend)=>{\n            doc.setFontSize(11);\n            doc.setFont(undefined, \"normal\");\n            doc.text(\"•\", margin + 5, yPosition);\n            yPosition = addWrappedText(trend, 11, \"normal\", pageWidth - margin - 12 - 20);\n            addSpacing(5);\n        });\n        addSpacing(10);\n    }\n    // Recommendations\n    if (analysisData.recommendations && analysisData.recommendations.length > 0) {\n        doc.setFontSize(14);\n        doc.setFont(undefined, \"bold\");\n        doc.text(\"Recommendations\", margin, yPosition);\n        yPosition += 8;\n        analysisData.recommendations.forEach((rec, index)=>{\n            doc.setFontSize(11);\n            doc.setFont(undefined, \"bold\");\n            doc.text(`${index + 1}.`, margin + 5, yPosition);\n            yPosition = addWrappedText(rec, 11, \"normal\", pageWidth - margin - 15 - 20);\n            addSpacing(5);\n        });\n        addSpacing(10);\n    }\n    // Response Statistics\n    if (analysisData.statistics) {\n        doc.setFontSize(14);\n        doc.setFont(undefined, \"bold\");\n        doc.text(\"Response Statistics\", margin, yPosition);\n        yPosition += 8;\n        doc.setFontSize(11);\n        doc.setFont(undefined, \"normal\");\n        if (analysisData.statistics.totalResponses !== undefined) {\n            doc.text(`Total Responses: ${analysisData.statistics.totalResponses}`, margin + 5, yPosition);\n            yPosition += 7;\n        }\n        if (analysisData.statistics.completionRate !== undefined) {\n            doc.text(`Completion Rate: ${analysisData.statistics.completionRate}%`, margin + 5, yPosition);\n            yPosition += 7;\n        }\n        if (analysisData.statistics.averageTime !== undefined) {\n            doc.text(`Average Completion Time: ${analysisData.statistics.averageTime}`, margin + 5, yPosition);\n            yPosition += 7;\n        }\n        addSpacing(10);\n    }\n    // Footer\n    const footerY = pageHeight - 15;\n    doc.setFontSize(8);\n    doc.setTextColor(150, 150, 150);\n    doc.text(\"Generated by Aloa\\xae Custom Forms\", pageWidth / 2, footerY, {\n        align: \"center\"\n    });\n    doc.text(`Page ${doc.internal.getCurrentPageInfo().pageNumber}`, pageWidth - margin, footerY, {\n        align: \"right\"\n    });\n    return doc;\n}\n// Parse AI analysis text into structured data\nfunction parseAnalysisText(analysisText) {\n    const data = {\n        summary: \"\",\n        insights: [],\n        trends: [],\n        recommendations: [],\n        statistics: {}\n    };\n    if (!analysisText) return data;\n    // Split by sections\n    const sections = analysisText.split(/##\\s+/);\n    sections.forEach((section)=>{\n        const lines = section.trim().split(\"\\n\");\n        const sectionTitle = lines[0].toLowerCase();\n        const content = lines.slice(1).join(\"\\n\").trim();\n        if (sectionTitle.includes(\"summary\") || sectionTitle.includes(\"overview\")) {\n            data.summary = content.replace(/^[-•*]\\s*/gm, \"\").trim();\n        } else if (sectionTitle.includes(\"insight\") || sectionTitle.includes(\"finding\")) {\n            const insights = content.split(/^[-•*]\\s+/m).filter(Boolean);\n            data.insights = insights.map((i)=>i.trim());\n        } else if (sectionTitle.includes(\"trend\") || sectionTitle.includes(\"pattern\")) {\n            const trends = content.split(/^[-•*]\\s+/m).filter(Boolean);\n            data.trends = trends.map((t)=>t.trim());\n        } else if (sectionTitle.includes(\"recommend\") || sectionTitle.includes(\"suggestion\")) {\n            const recs = content.split(/^[\\d.]+\\s+/m).filter(Boolean);\n            data.recommendations = recs.map((r)=>r.trim());\n        } else if (sectionTitle.includes(\"statistic\") || sectionTitle.includes(\"metric\")) {\n            // Parse statistics from content\n            const statLines = content.split(\"\\n\");\n            statLines.forEach((line)=>{\n                if (line.includes(\"Total\") && line.includes(\"Response\")) {\n                    const match = line.match(/\\d+/);\n                    if (match) data.statistics.totalResponses = parseInt(match[0]);\n                }\n                if (line.includes(\"Completion\") && line.includes(\"Rate\")) {\n                    const match = line.match(/(\\d+(?:\\.\\d+)?)\\s*%/);\n                    if (match) data.statistics.completionRate = parseFloat(match[1]);\n                }\n                if (line.includes(\"Average\") && line.includes(\"Time\")) {\n                    const match = line.match(/(\\d+(?:\\.\\d+)?)\\s*(minute|second|hour)/i);\n                    if (match) data.statistics.averageTime = `${match[1]} ${match[2]}s`;\n                }\n            });\n        }\n    });\n    // If no structured data found, treat entire text as summary\n    if (!data.summary && data.insights.length === 0 && data.trends.length === 0) {\n        data.summary = analysisText;\n    }\n    return data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c0QsS0FBSyxDQUFDO29CQUN6QixJQUFJQSxPQUFPcEIsS0FBS1QsVUFBVSxDQUFDQyxjQUFjLEdBQUc2QixTQUFTRCxLQUFLLENBQUMsRUFBRTtnQkFDL0Q7Z0JBQ0EsSUFBSXRELEtBQUs0QyxRQUFRLENBQUMsaUJBQWlCNUMsS0FBSzRDLFFBQVEsQ0FBQyxTQUFTO29CQUN4RCxNQUFNVSxRQUFRdEQsS0FBS3NELEtBQUssQ0FBQztvQkFDekIsSUFBSUEsT0FBT3BCLEtBQUtULFVBQVUsQ0FBQ0UsY0FBYyxHQUFHNkIsV0FBV0YsS0FBSyxDQUFDLEVBQUU7Z0JBQ2pFO2dCQUNBLElBQUl0RCxLQUFLNEMsUUFBUSxDQUFDLGNBQWM1QyxLQUFLNEMsUUFBUSxDQUFDLFNBQVM7b0JBQ3JELE1BQU1VLFFBQVF0RCxLQUFLc0QsS0FBSyxDQUFDO29CQUN6QixJQUFJQSxPQUFPcEIsS0FBS1QsVUFBVSxDQUFDRyxXQUFXLEdBQUcsQ0FBQyxFQUFFMEIsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUVBLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNyRTtZQUNGO1FBQ0Y7SUFDRjtJQUVBLDREQUE0RDtJQUM1RCxJQUFJLENBQUNwQixLQUFLbkIsT0FBTyxJQUFJbUIsS0FBS2xCLFFBQVEsQ0FBQ0MsTUFBTSxLQUFLLEtBQUtpQixLQUFLYixNQUFNLENBQUNKLE1BQU0sS0FBSyxHQUFHO1FBQzNFaUIsS0FBS25CLE9BQU8sR0FBR2tCO0lBQ2pCO0lBRUEsT0FBT0M7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2N1c3RvbS1mb3Jtcy8uL2xpYi9wZGZHZW5lcmF0b3IuanM/NmE5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQganNQREYgZnJvbSAnanNwZGYnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVBbmFseXNpc1BERihhbmFseXNpc0RhdGEsIGZvcm1UaXRsZSkge1xuICBjb25zdCBkb2MgPSBuZXcganNQREYoKTtcbiAgY29uc3QgcGFnZVdpZHRoID0gZG9jLmludGVybmFsLnBhZ2VTaXplLmdldFdpZHRoKCk7XG4gIGNvbnN0IHBhZ2VIZWlnaHQgPSBkb2MuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCk7XG4gIGNvbnN0IG1hcmdpbiA9IDIwO1xuICBjb25zdCBsaW5lSGVpZ2h0ID0gNztcbiAgbGV0IHlQb3NpdGlvbiA9IG1hcmdpbjtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gYWRkIHRleHQgd2l0aCB3b3JkIHdyYXBcbiAgY29uc3QgYWRkV3JhcHBlZFRleHQgPSAodGV4dCwgZm9udFNpemUgPSAxMiwgZm9udFN0eWxlID0gJ25vcm1hbCcsIG1heFdpZHRoID0gcGFnZVdpZHRoIC0gMiAqIG1hcmdpbikgPT4ge1xuICAgIGRvYy5zZXRGb250U2l6ZShmb250U2l6ZSk7XG4gICAgZG9jLnNldEZvbnQodW5kZWZpbmVkLCBmb250U3R5bGUpO1xuICAgIFxuICAgIGNvbnN0IGxpbmVzID0gZG9jLnNwbGl0VGV4dFRvU2l6ZSh0ZXh0LCBtYXhXaWR0aCk7XG4gICAgXG4gICAgbGluZXMuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgYSBuZXcgcGFnZVxuICAgICAgaWYgKHlQb3NpdGlvbiArIGxpbmVIZWlnaHQgPiBwYWdlSGVpZ2h0IC0gbWFyZ2luKSB7XG4gICAgICAgIGRvYy5hZGRQYWdlKCk7XG4gICAgICAgIHlQb3NpdGlvbiA9IG1hcmdpbjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZG9jLnRleHQobGluZSwgbWFyZ2luLCB5UG9zaXRpb24pO1xuICAgICAgeVBvc2l0aW9uICs9IGxpbmVIZWlnaHQ7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHlQb3NpdGlvbjtcbiAgfTtcblxuICAvLyBBZGQgc3BhY2luZ1xuICBjb25zdCBhZGRTcGFjaW5nID0gKHNwYWNlID0gMTApID0+IHtcbiAgICB5UG9zaXRpb24gKz0gc3BhY2U7XG4gICAgaWYgKHlQb3NpdGlvbiA+IHBhZ2VIZWlnaHQgLSBtYXJnaW4pIHtcbiAgICAgIGRvYy5hZGRQYWdlKCk7XG4gICAgICB5UG9zaXRpb24gPSBtYXJnaW47XG4gICAgfVxuICB9O1xuXG4gIC8vIEhlYWRlciB3aXRoIGJyYW5kaW5nXG4gIGRvYy5zZXRGaWxsQ29sb3IoMCwgMCwgMCk7IC8vIEJsYWNrIGhlYWRlclxuICBkb2MucmVjdCgwLCAwLCBwYWdlV2lkdGgsIDMwLCAnRicpO1xuICBcbiAgZG9jLnNldFRleHRDb2xvcigyNTUsIDI0OCwgMjMyKTsgLy8gQ3JlYW0gdGV4dFxuICBkb2Muc2V0Rm9udFNpemUoMjApO1xuICBkb2Muc2V0Rm9udCh1bmRlZmluZWQsICdib2xkJyk7XG4gIGRvYy50ZXh0KCdBSSBBbmFseXNpcyBSZXBvcnQnLCBwYWdlV2lkdGggLyAyLCAxOCwgeyBhbGlnbjogJ2NlbnRlcicgfSk7XG4gIFxuICAvLyBSZXNldCB0ZXh0IGNvbG9yXG4gIGRvYy5zZXRUZXh0Q29sb3IoMCwgMCwgMCk7XG4gIHlQb3NpdGlvbiA9IDQ1O1xuXG4gIC8vIEZvcm0gdGl0bGVcbiAgZG9jLnNldEZvbnRTaXplKDE2KTtcbiAgZG9jLnNldEZvbnQodW5kZWZpbmVkLCAnYm9sZCcpO1xuICBkb2MudGV4dChmb3JtVGl0bGUsIG1hcmdpbiwgeVBvc2l0aW9uKTtcbiAgeVBvc2l0aW9uICs9IDEwO1xuXG4gIC8vIERhdGVcbiAgZG9jLnNldEZvbnRTaXplKDEwKTtcbiAgZG9jLnNldEZvbnQodW5kZWZpbmVkLCAnbm9ybWFsJyk7XG4gIGRvYy5zZXRUZXh0Q29sb3IoMTAwLCAxMDAsIDEwMCk7XG4gIGRvYy50ZXh0KGBHZW5lcmF0ZWQ6ICR7bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgeyBcbiAgICB5ZWFyOiAnbnVtZXJpYycsIFxuICAgIG1vbnRoOiAnbG9uZycsIFxuICAgIGRheTogJ251bWVyaWMnLFxuICAgIGhvdXI6ICcyLWRpZ2l0JyxcbiAgICBtaW51dGU6ICcyLWRpZ2l0J1xuICB9KX1gLCBtYXJnaW4sIHlQb3NpdGlvbik7XG4gIGRvYy5zZXRUZXh0Q29sb3IoMCwgMCwgMCk7XG4gIFxuICBhZGRTcGFjaW5nKDE1KTtcblxuICAvLyBQYXJzZSB0aGUgYW5hbHlzaXMgZGF0YVxuICBpZiAoYW5hbHlzaXNEYXRhLnN1bW1hcnkpIHtcbiAgICAvLyBFeGVjdXRpdmUgU3VtbWFyeVxuICAgIGRvYy5zZXRGb250U2l6ZSgxNCk7XG4gICAgZG9jLnNldEZvbnQodW5kZWZpbmVkLCAnYm9sZCcpO1xuICAgIGRvYy50ZXh0KCdFeGVjdXRpdmUgU3VtbWFyeScsIG1hcmdpbiwgeVBvc2l0aW9uKTtcbiAgICB5UG9zaXRpb24gKz0gODtcbiAgICBcbiAgICBkb2Muc2V0Rm9udFNpemUoMTEpO1xuICAgIGRvYy5zZXRGb250KHVuZGVmaW5lZCwgJ25vcm1hbCcpO1xuICAgIHlQb3NpdGlvbiA9IGFkZFdyYXBwZWRUZXh0KGFuYWx5c2lzRGF0YS5zdW1tYXJ5LCAxMSk7XG4gICAgYWRkU3BhY2luZygxNSk7XG4gIH1cblxuICAvLyBLZXkgSW5zaWdodHNcbiAgaWYgKGFuYWx5c2lzRGF0YS5pbnNpZ2h0cyAmJiBhbmFseXNpc0RhdGEuaW5zaWdodHMubGVuZ3RoID4gMCkge1xuICAgIGRvYy5zZXRGb250U2l6ZSgxNCk7XG4gICAgZG9jLnNldEZvbnQodW5kZWZpbmVkLCAnYm9sZCcpO1xuICAgIGRvYy50ZXh0KCdLZXkgSW5zaWdodHMnLCBtYXJnaW4sIHlQb3NpdGlvbik7XG4gICAgeVBvc2l0aW9uICs9IDg7XG4gICAgXG4gICAgYW5hbHlzaXNEYXRhLmluc2lnaHRzLmZvckVhY2goKGluc2lnaHQsIGluZGV4KSA9PiB7XG4gICAgICBkb2Muc2V0Rm9udFNpemUoMTEpO1xuICAgICAgZG9jLnNldEZvbnQodW5kZWZpbmVkLCAnbm9ybWFsJyk7XG4gICAgICBcbiAgICAgIC8vIEFkZCBidWxsZXQgcG9pbnRcbiAgICAgIGRvYy50ZXh0KCfigKInLCBtYXJnaW4gKyA1LCB5UG9zaXRpb24pO1xuICAgICAgXG4gICAgICAvLyBBZGQgaW5zaWdodCB0ZXh0IHdpdGggaW5kZW50XG4gICAgICBjb25zdCBvbGRNYXJnaW4gPSBtYXJnaW47XG4gICAgICBkb2MudGV4dCgnJywgbWFyZ2luICsgMTIsIHlQb3NpdGlvbik7XG4gICAgICB5UG9zaXRpb24gPSBhZGRXcmFwcGVkVGV4dChpbnNpZ2h0LCAxMSwgJ25vcm1hbCcsIHBhZ2VXaWR0aCAtIG1hcmdpbiAtIDEyIC0gMjApO1xuICAgICAgYWRkU3BhY2luZyg1KTtcbiAgICB9KTtcbiAgICBhZGRTcGFjaW5nKDEwKTtcbiAgfVxuXG4gIC8vIFRyZW5kcyBhbmQgUGF0dGVybnNcbiAgaWYgKGFuYWx5c2lzRGF0YS50cmVuZHMgJiYgYW5hbHlzaXNEYXRhLnRyZW5kcy5sZW5ndGggPiAwKSB7XG4gICAgZG9jLnNldEZvbnRTaXplKDE0KTtcbiAgICBkb2Muc2V0Rm9udCh1bmRlZmluZWQsICdib2xkJyk7XG4gICAgZG9jLnRleHQoJ1RyZW5kcyAmIFBhdHRlcm5zJywgbWFyZ2luLCB5UG9zaXRpb24pO1xuICAgIHlQb3NpdGlvbiArPSA4O1xuICAgIFxuICAgIGFuYWx5c2lzRGF0YS50cmVuZHMuZm9yRWFjaCgodHJlbmQpID0+IHtcbiAgICAgIGRvYy5zZXRGb250U2l6ZSgxMSk7XG4gICAgICBkb2Muc2V0Rm9udCh1bmRlZmluZWQsICdub3JtYWwnKTtcbiAgICAgIGRvYy50ZXh0KCfigKInLCBtYXJnaW4gKyA1LCB5UG9zaXRpb24pO1xuICAgICAgeVBvc2l0aW9uID0gYWRkV3JhcHBlZFRleHQodHJlbmQsIDExLCAnbm9ybWFsJywgcGFnZVdpZHRoIC0gbWFyZ2luIC0gMTIgLSAyMCk7XG4gICAgICBhZGRTcGFjaW5nKDUpO1xuICAgIH0pO1xuICAgIGFkZFNwYWNpbmcoMTApO1xuICB9XG5cbiAgLy8gUmVjb21tZW5kYXRpb25zXG4gIGlmIChhbmFseXNpc0RhdGEucmVjb21tZW5kYXRpb25zICYmIGFuYWx5c2lzRGF0YS5yZWNvbW1lbmRhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIGRvYy5zZXRGb250U2l6ZSgxNCk7XG4gICAgZG9jLnNldEZvbnQodW5kZWZpbmVkLCAnYm9sZCcpO1xuICAgIGRvYy50ZXh0KCdSZWNvbW1lbmRhdGlvbnMnLCBtYXJnaW4sIHlQb3NpdGlvbik7XG4gICAgeVBvc2l0aW9uICs9IDg7XG4gICAgXG4gICAgYW5hbHlzaXNEYXRhLnJlY29tbWVuZGF0aW9ucy5mb3JFYWNoKChyZWMsIGluZGV4KSA9PiB7XG4gICAgICBkb2Muc2V0Rm9udFNpemUoMTEpO1xuICAgICAgZG9jLnNldEZvbnQodW5kZWZpbmVkLCAnYm9sZCcpO1xuICAgICAgZG9jLnRleHQoYCR7aW5kZXggKyAxfS5gLCBtYXJnaW4gKyA1LCB5UG9zaXRpb24pO1xuICAgICAgeVBvc2l0aW9uID0gYWRkV3JhcHBlZFRleHQocmVjLCAxMSwgJ25vcm1hbCcsIHBhZ2VXaWR0aCAtIG1hcmdpbiAtIDE1IC0gMjApO1xuICAgICAgYWRkU3BhY2luZyg1KTtcbiAgICB9KTtcbiAgICBhZGRTcGFjaW5nKDEwKTtcbiAgfVxuXG4gIC8vIFJlc3BvbnNlIFN0YXRpc3RpY3NcbiAgaWYgKGFuYWx5c2lzRGF0YS5zdGF0aXN0aWNzKSB7XG4gICAgZG9jLnNldEZvbnRTaXplKDE0KTtcbiAgICBkb2Muc2V0Rm9udCh1bmRlZmluZWQsICdib2xkJyk7XG4gICAgZG9jLnRleHQoJ1Jlc3BvbnNlIFN0YXRpc3RpY3MnLCBtYXJnaW4sIHlQb3NpdGlvbik7XG4gICAgeVBvc2l0aW9uICs9IDg7XG4gICAgXG4gICAgZG9jLnNldEZvbnRTaXplKDExKTtcbiAgICBkb2Muc2V0Rm9udCh1bmRlZmluZWQsICdub3JtYWwnKTtcbiAgICBcbiAgICBpZiAoYW5hbHlzaXNEYXRhLnN0YXRpc3RpY3MudG90YWxSZXNwb25zZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZG9jLnRleHQoYFRvdGFsIFJlc3BvbnNlczogJHthbmFseXNpc0RhdGEuc3RhdGlzdGljcy50b3RhbFJlc3BvbnNlc31gLCBtYXJnaW4gKyA1LCB5UG9zaXRpb24pO1xuICAgICAgeVBvc2l0aW9uICs9IDc7XG4gICAgfVxuICAgIFxuICAgIGlmIChhbmFseXNpc0RhdGEuc3RhdGlzdGljcy5jb21wbGV0aW9uUmF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkb2MudGV4dChgQ29tcGxldGlvbiBSYXRlOiAke2FuYWx5c2lzRGF0YS5zdGF0aXN0aWNzLmNvbXBsZXRpb25SYXRlfSVgLCBtYXJnaW4gKyA1LCB5UG9zaXRpb24pO1xuICAgICAgeVBvc2l0aW9uICs9IDc7XG4gICAgfVxuICAgIFxuICAgIGlmIChhbmFseXNpc0RhdGEuc3RhdGlzdGljcy5hdmVyYWdlVGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkb2MudGV4dChgQXZlcmFnZSBDb21wbGV0aW9uIFRpbWU6ICR7YW5hbHlzaXNEYXRhLnN0YXRpc3RpY3MuYXZlcmFnZVRpbWV9YCwgbWFyZ2luICsgNSwgeVBvc2l0aW9uKTtcbiAgICAgIHlQb3NpdGlvbiArPSA3O1xuICAgIH1cbiAgICBcbiAgICBhZGRTcGFjaW5nKDEwKTtcbiAgfVxuXG4gIC8vIEZvb3RlclxuICBjb25zdCBmb290ZXJZID0gcGFnZUhlaWdodCAtIDE1O1xuICBkb2Muc2V0Rm9udFNpemUoOCk7XG4gIGRvYy5zZXRUZXh0Q29sb3IoMTUwLCAxNTAsIDE1MCk7XG4gIGRvYy50ZXh0KCdHZW5lcmF0ZWQgYnkgQWxvYcKuIEN1c3RvbSBGb3JtcycsIHBhZ2VXaWR0aCAvIDIsIGZvb3RlclksIHsgYWxpZ246ICdjZW50ZXInIH0pO1xuICBkb2MudGV4dChgUGFnZSAke2RvYy5pbnRlcm5hbC5nZXRDdXJyZW50UGFnZUluZm8oKS5wYWdlTnVtYmVyfWAsIHBhZ2VXaWR0aCAtIG1hcmdpbiwgZm9vdGVyWSwgeyBhbGlnbjogJ3JpZ2h0JyB9KTtcblxuICByZXR1cm4gZG9jO1xufVxuXG4vLyBQYXJzZSBBSSBhbmFseXNpcyB0ZXh0IGludG8gc3RydWN0dXJlZCBkYXRhXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBbmFseXNpc1RleHQoYW5hbHlzaXNUZXh0KSB7XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgc3VtbWFyeTogJycsXG4gICAgaW5zaWdodHM6IFtdLFxuICAgIHRyZW5kczogW10sXG4gICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICBzdGF0aXN0aWNzOiB7fVxuICB9O1xuXG4gIGlmICghYW5hbHlzaXNUZXh0KSByZXR1cm4gZGF0YTtcblxuICAvLyBTcGxpdCBieSBzZWN0aW9uc1xuICBjb25zdCBzZWN0aW9ucyA9IGFuYWx5c2lzVGV4dC5zcGxpdCgvIyNcXHMrLyk7XG4gIFxuICBzZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4ge1xuICAgIGNvbnN0IGxpbmVzID0gc2VjdGlvbi50cmltKCkuc3BsaXQoJ1xcbicpO1xuICAgIGNvbnN0IHNlY3Rpb25UaXRsZSA9IGxpbmVzWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgY29udGVudCA9IGxpbmVzLnNsaWNlKDEpLmpvaW4oJ1xcbicpLnRyaW0oKTtcbiAgICBcbiAgICBpZiAoc2VjdGlvblRpdGxlLmluY2x1ZGVzKCdzdW1tYXJ5JykgfHwgc2VjdGlvblRpdGxlLmluY2x1ZGVzKCdvdmVydmlldycpKSB7XG4gICAgICBkYXRhLnN1bW1hcnkgPSBjb250ZW50LnJlcGxhY2UoL15bLeKAoipdXFxzKi9nbSwgJycpLnRyaW0oKTtcbiAgICB9IGVsc2UgaWYgKHNlY3Rpb25UaXRsZS5pbmNsdWRlcygnaW5zaWdodCcpIHx8IHNlY3Rpb25UaXRsZS5pbmNsdWRlcygnZmluZGluZycpKSB7XG4gICAgICBjb25zdCBpbnNpZ2h0cyA9IGNvbnRlbnQuc3BsaXQoL15bLeKAoipdXFxzKy9tKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICBkYXRhLmluc2lnaHRzID0gaW5zaWdodHMubWFwKGkgPT4gaS50cmltKCkpO1xuICAgIH0gZWxzZSBpZiAoc2VjdGlvblRpdGxlLmluY2x1ZGVzKCd0cmVuZCcpIHx8IHNlY3Rpb25UaXRsZS5pbmNsdWRlcygncGF0dGVybicpKSB7XG4gICAgICBjb25zdCB0cmVuZHMgPSBjb250ZW50LnNwbGl0KC9eWy3igKIqXVxccysvbSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgZGF0YS50cmVuZHMgPSB0cmVuZHMubWFwKHQgPT4gdC50cmltKCkpO1xuICAgIH0gZWxzZSBpZiAoc2VjdGlvblRpdGxlLmluY2x1ZGVzKCdyZWNvbW1lbmQnKSB8fCBzZWN0aW9uVGl0bGUuaW5jbHVkZXMoJ3N1Z2dlc3Rpb24nKSkge1xuICAgICAgY29uc3QgcmVjcyA9IGNvbnRlbnQuc3BsaXQoL15bXFxkLl0rXFxzKy9tKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICBkYXRhLnJlY29tbWVuZGF0aW9ucyA9IHJlY3MubWFwKHIgPT4gci50cmltKCkpO1xuICAgIH0gZWxzZSBpZiAoc2VjdGlvblRpdGxlLmluY2x1ZGVzKCdzdGF0aXN0aWMnKSB8fCBzZWN0aW9uVGl0bGUuaW5jbHVkZXMoJ21ldHJpYycpKSB7XG4gICAgICAvLyBQYXJzZSBzdGF0aXN0aWNzIGZyb20gY29udGVudFxuICAgICAgY29uc3Qgc3RhdExpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XG4gICAgICBzdGF0TGluZXMuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgICAgaWYgKGxpbmUuaW5jbHVkZXMoJ1RvdGFsJykgJiYgbGluZS5pbmNsdWRlcygnUmVzcG9uc2UnKSkge1xuICAgICAgICAgIGNvbnN0IG1hdGNoID0gbGluZS5tYXRjaCgvXFxkKy8pO1xuICAgICAgICAgIGlmIChtYXRjaCkgZGF0YS5zdGF0aXN0aWNzLnRvdGFsUmVzcG9uc2VzID0gcGFyc2VJbnQobWF0Y2hbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5lLmluY2x1ZGVzKCdDb21wbGV0aW9uJykgJiYgbGluZS5pbmNsdWRlcygnUmF0ZScpKSB7XG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC8oXFxkKyg/OlxcLlxcZCspPylcXHMqJS8pO1xuICAgICAgICAgIGlmIChtYXRjaCkgZGF0YS5zdGF0aXN0aWNzLmNvbXBsZXRpb25SYXRlID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmUuaW5jbHVkZXMoJ0F2ZXJhZ2UnKSAmJiBsaW5lLmluY2x1ZGVzKCdUaW1lJykpIHtcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2goLyhcXGQrKD86XFwuXFxkKyk/KVxccyoobWludXRlfHNlY29uZHxob3VyKS9pKTtcbiAgICAgICAgICBpZiAobWF0Y2gpIGRhdGEuc3RhdGlzdGljcy5hdmVyYWdlVGltZSA9IGAke21hdGNoWzFdfSAke21hdGNoWzJdfXNgO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIElmIG5vIHN0cnVjdHVyZWQgZGF0YSBmb3VuZCwgdHJlYXQgZW50aXJlIHRleHQgYXMgc3VtbWFyeVxuICBpZiAoIWRhdGEuc3VtbWFyeSAmJiBkYXRhLmluc2lnaHRzLmxlbmd0aCA9PT0gMCAmJiBkYXRhLnRyZW5kcy5sZW5ndGggPT09IDApIHtcbiAgICBkYXRhLnN1bW1hcnkgPSBhbmFseXNpc1RleHQ7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn0iXSwibmFtZXMiOlsianNQREYiLCJnZW5lcmF0ZUFuYWx5c2lzUERGIiwiYW5hbHlzaXNEYXRhIiwiZm9ybVRpdGxlIiwiZG9jIiwicGFnZVdpZHRoIiwiaW50ZXJuYWwiLCJwYWdlU2l6ZSIsImdldFdpZHRoIiwicGFnZUhlaWdodCIsImdldEhlaWdodCIsIm1hcmdpbiIsImxpbmVIZWlnaHQiLCJ5UG9zaXRpb24iLCJhZGRXcmFwcGVkVGV4dCIsInRleHQiLCJmb250U2l6ZSIsImZvbnRTdHlsZSIsIm1heFdpZHRoIiwic2V0Rm9udFNpemUiLCJzZXRGb250IiwidW5kZWZpbmVkIiwibGluZXMiLCJzcGxpdFRleHRUb1NpemUiLCJmb3JFYWNoIiwibGluZSIsImFkZFBhZ2UiLCJhZGRTcGFjaW5nIiwic3BhY2UiLCJzZXRGaWxsQ29sb3IiLCJyZWN0Iiwic2V0VGV4dENvbG9yIiwiYWxpZ24iLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsInN1bW1hcnkiLCJpbnNpZ2h0cyIsImxlbmd0aCIsImluc2lnaHQiLCJpbmRleCIsIm9sZE1hcmdpbiIsInRyZW5kcyIsInRyZW5kIiwicmVjb21tZW5kYXRpb25zIiwicmVjIiwic3RhdGlzdGljcyIsInRvdGFsUmVzcG9uc2VzIiwiY29tcGxldGlvblJhdGUiLCJhdmVyYWdlVGltZSIsImZvb3RlclkiLCJnZXRDdXJyZW50UGFnZUluZm8iLCJwYWdlTnVtYmVyIiwicGFyc2VBbmFseXNpc1RleHQiLCJhbmFseXNpc1RleHQiLCJkYXRhIiwic2VjdGlvbnMiLCJzcGxpdCIsInNlY3Rpb24iLCJ0cmltIiwic2VjdGlvblRpdGxlIiwidG9Mb3dlckNhc2UiLCJjb250ZW50Iiwic2xpY2UiLCJqb2luIiwiaW5jbHVkZXMiLCJyZXBsYWNlIiwiZmlsdGVyIiwiQm9vbGVhbiIsIm1hcCIsImkiLCJ0IiwicmVjcyIsInIiLCJzdGF0TGluZXMiLCJtYXRjaCIsInBhcnNlSW50IiwicGFyc2VGbG9hdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/pdfGenerator.js\n");

/***/ })

};
;