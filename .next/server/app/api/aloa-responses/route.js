"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/aloa-responses/route";
exports.ids = ["app/api/aloa-responses/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faloa-responses%2Froute&page=%2Fapi%2Faloa-responses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faloa-responses%2Froute.js&appDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faloa-responses%2Froute&page=%2Fapi%2Faloa-responses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faloa-responses%2Froute.js&appDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_rosspalmer_Ross_GitHub_Projects_aloa_web_design_project_manager_app_api_aloa_responses_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/aloa-responses/route.js */ \"(rsc)/./app/api/aloa-responses/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/aloa-responses/route\",\n        pathname: \"/api/aloa-responses\",\n        filename: \"route\",\n        bundlePath: \"app/api/aloa-responses/route\"\n    },\n    resolvedPagePath: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/api/aloa-responses/route.js\",\n    nextConfigOutput,\n    userland: _Users_rosspalmer_Ross_GitHub_Projects_aloa_web_design_project_manager_app_api_aloa_responses_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/aloa-responses/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbG9hLXJlc3BvbnNlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWxvYS1yZXNwb25zZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhbG9hLXJlc3BvbnNlcyUyRnJvdXRlLmpzJmFwcERpcj0lMkZVc2VycyUyRnJvc3NwYWxtZXIlMkZSb3NzJTIwR2l0SHViJTIwUHJvamVjdHMlMkZhbG9hLXdlYi1kZXNpZ24tcHJvamVjdC1tYW5hZ2VyJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnJvc3NwYWxtZXIlMkZSb3NzJTIwR2l0SHViJTIwUHJvamVjdHMlMkZhbG9hLXdlYi1kZXNpZ24tcHJvamVjdC1tYW5hZ2VyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzRDtBQUNuSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2Fsb2EtcHJvamVjdC1tYW5hZ2VyLz84MjAxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9yb3NzcGFsbWVyL1Jvc3MgR2l0SHViIFByb2plY3RzL2Fsb2Etd2ViLWRlc2lnbi1wcm9qZWN0LW1hbmFnZXIvYXBwL2FwaS9hbG9hLXJlc3BvbnNlcy9yb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWxvYS1yZXNwb25zZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbG9hLXJlc3BvbnNlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWxvYS1yZXNwb25zZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvcm9zc3BhbG1lci9Sb3NzIEdpdEh1YiBQcm9qZWN0cy9hbG9hLXdlYi1kZXNpZ24tcHJvamVjdC1tYW5hZ2VyL2FwcC9hcGkvYWxvYS1yZXNwb25zZXMvcm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2Fsb2EtcmVzcG9uc2VzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faloa-responses%2Froute&page=%2Fapi%2Faloa-responses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faloa-responses%2Froute.js&appDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/aloa-responses/route.js":
/*!*****************************************!*\
  !*** ./app/api/aloa-responses/route.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.js\");\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const formId = searchParams.get(\"formId\") || searchParams.get(\"form_id\");\n        const userId = searchParams.get(\"userId\") || searchParams.get(\"user_id\");\n        if (!formId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Form ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate UUID format\n        const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n        if (!uuidRegex.test(formId)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid form ID format\"\n            }, {\n                status: 400\n            });\n        }\n        // Fetch responses from aloa_form_responses ONLY\n        let query = _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_form_responses\").select(`\n        *,\n        aloa_form_response_answers (\n          id,\n          field_name,\n          field_value\n        )\n      `).eq(\"aloa_form_id\", formId);\n        // Filter by user_id if provided\n        if (userId) {\n            query = query.eq(\"user_id\", userId);\n        }\n        const { data: responses, error } = await query.order(\"submitted_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        // Format responses for frontend\n        const formattedResponses = responses.map((response)=>{\n            const dataObject = {};\n            response.aloa_form_response_answers?.forEach((answer)=>{\n                if (answer.field_name) {\n                    // Parse JSON values for arrays/objects\n                    try {\n                        const parsedValue = JSON.parse(answer.field_value);\n                        dataObject[answer.field_name] = parsedValue;\n                    } catch  {\n                        // If not JSON, use as-is\n                        dataObject[answer.field_name] = answer.field_value;\n                    }\n                }\n            });\n            return {\n                id: response.id,\n                submittedAt: response.submitted_at,\n                response_data: dataObject,\n                data: dataObject // Keep for backward compatibility\n            };\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            responses: formattedResponses\n        });\n    } catch (error) {\n        console.error(\"Error fetching aloa responses:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch responses\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Validate form ID\n        if (!body.formId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Form ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate UUID format\n        const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n        if (!uuidRegex.test(body.formId)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid form ID format\"\n            }, {\n                status: 400\n            });\n        }\n        // Verify CSRF token\n        const csrfToken = request.headers.get(\"X-CSRF-Token\");\n        const cookieToken = request.cookies.get(\"csrf-token\")?.value;\n        if (!csrfToken || !cookieToken || csrfToken !== cookieToken) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid CSRF token\"\n            }, {\n                status: 403\n            });\n        }\n        const userId = body.userId || body.user_id || null;\n        let response;\n        let isUpdate = false;\n        // Check if user already has a response for this form\n        if (userId) {\n            const { data: existingResponse } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_form_responses\").select(\"id\").eq(\"aloa_form_id\", body.formId).eq(\"user_id\", userId).single();\n            if (existingResponse) {\n                isUpdate = true;\n                // Update existing response\n                const { data: updatedResponse, error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_form_responses\").update({\n                    responses: body.data || {},\n                    submitted_at: new Date().toISOString(),\n                    ip_address: request.headers.get(\"x-forwarded-for\") || request.headers.get(\"x-real-ip\"),\n                    user_agent: request.headers.get(\"user-agent\")\n                }).eq(\"id\", existingResponse.id).select().single();\n                if (updateError) {\n                    console.error(\"Error updating response:\", updateError);\n                    throw updateError;\n                }\n                response = updatedResponse;\n                // Delete old answers for this response\n                await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_form_response_answers\").delete().eq(\"response_id\", response.id);\n            }\n        }\n        // If no existing response, create a new one\n        if (!response) {\n            const { data: newResponse, error: responseError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_form_responses\").insert([\n                {\n                    aloa_form_id: body.formId,\n                    aloa_project_id: body.projectId || null,\n                    user_id: userId,\n                    responses: body.data || {},\n                    submitted_at: new Date().toISOString(),\n                    ip_address: request.headers.get(\"x-forwarded-for\") || request.headers.get(\"x-real-ip\"),\n                    user_agent: request.headers.get(\"user-agent\")\n                }\n            ]).select().single();\n            if (responseError) {\n                console.error(\"Error creating response:\", responseError);\n                throw responseError;\n            }\n            response = newResponse;\n        }\n        // Store/update answers in aloa_form_response_answers\n        const answers = [];\n        Object.entries(body.data || {}).forEach(([fieldName, value])=>{\n            if (value !== undefined && value !== null && value !== \"\") {\n                answers.push({\n                    response_id: response.id,\n                    field_name: fieldName,\n                    field_value: typeof value === \"object\" ? JSON.stringify(value) : String(value)\n                });\n            }\n        });\n        if (answers.length > 0) {\n            const { error: answersError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_form_response_answers\").insert(answers);\n            if (answersError) {\n                console.error(\"Error storing answers:\", answersError);\n                throw answersError;\n            }\n        }\n        // Only update submission count for new responses, not edits\n        if (!isUpdate) {\n            const { error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_forms\").update({\n                submission_count: _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.raw(\"submission_count + 1\"),\n                updated_at: new Date().toISOString()\n            }).eq(\"id\", body.formId);\n            if (updateError) {\n                console.error(\"Error updating submission count:\", updateError);\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Form response submitted successfully\",\n            responseId: response.id\n        });\n    } catch (error) {\n        console.error(\"Error submitting aloa response:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to submit response\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T1gscURBQVlBLENBQUNVLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUE0QixHQUNyQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Fsb2EtcHJvamVjdC1tYW5hZ2VyLy4vYXBwL2FwaS9hbG9hLXJlc3BvbnNlcy9yb3V0ZS5qcz80NjM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgY29uc3QgZm9ybUlkID0gc2VhcmNoUGFyYW1zLmdldCgnZm9ybUlkJykgfHwgc2VhcmNoUGFyYW1zLmdldCgnZm9ybV9pZCcpO1xuICAgIGNvbnN0IHVzZXJJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3VzZXJJZCcpIHx8IHNlYXJjaFBhcmFtcy5nZXQoJ3VzZXJfaWQnKTtcbiAgICBcbiAgICBpZiAoIWZvcm1JZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnRm9ybSBJRCBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBVVUlEIGZvcm1hdFxuICAgIGNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzAtOWEtZl17NH0tWzAtOWEtZl17NH0tWzAtOWEtZl17MTJ9JC9pO1xuICAgIGlmICghdXVpZFJlZ2V4LnRlc3QoZm9ybUlkKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnSW52YWxpZCBmb3JtIElEIGZvcm1hdCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICAvLyBGZXRjaCByZXNwb25zZXMgZnJvbSBhbG9hX2Zvcm1fcmVzcG9uc2VzIE9OTFlcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2Fsb2FfZm9ybV9yZXNwb25zZXMnKVxuICAgICAgLnNlbGVjdChgXG4gICAgICAgICosXG4gICAgICAgIGFsb2FfZm9ybV9yZXNwb25zZV9hbnN3ZXJzIChcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBmaWVsZF9uYW1lLFxuICAgICAgICAgIGZpZWxkX3ZhbHVlXG4gICAgICAgIClcbiAgICAgIGApXG4gICAgICAuZXEoJ2Fsb2FfZm9ybV9pZCcsIGZvcm1JZCk7XG4gICAgXG4gICAgLy8gRmlsdGVyIGJ5IHVzZXJfaWQgaWYgcHJvdmlkZWRcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCd1c2VyX2lkJywgdXNlcklkKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgeyBkYXRhOiByZXNwb25zZXMsIGVycm9yIH0gPSBhd2FpdCBxdWVyeS5vcmRlcignc3VibWl0dGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuICAgIFxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgXG4gICAgLy8gRm9ybWF0IHJlc3BvbnNlcyBmb3IgZnJvbnRlbmRcbiAgICBjb25zdCBmb3JtYXR0ZWRSZXNwb25zZXMgPSByZXNwb25zZXMubWFwKHJlc3BvbnNlID0+IHtcbiAgICAgIGNvbnN0IGRhdGFPYmplY3QgPSB7fTtcbiAgICAgIHJlc3BvbnNlLmFsb2FfZm9ybV9yZXNwb25zZV9hbnN3ZXJzPy5mb3JFYWNoKGFuc3dlciA9PiB7XG4gICAgICAgIGlmIChhbnN3ZXIuZmllbGRfbmFtZSkge1xuICAgICAgICAgIC8vIFBhcnNlIEpTT04gdmFsdWVzIGZvciBhcnJheXMvb2JqZWN0c1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IEpTT04ucGFyc2UoYW5zd2VyLmZpZWxkX3ZhbHVlKTtcbiAgICAgICAgICAgIGRhdGFPYmplY3RbYW5zd2VyLmZpZWxkX25hbWVdID0gcGFyc2VkVmFsdWU7XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvLyBJZiBub3QgSlNPTiwgdXNlIGFzLWlzXG4gICAgICAgICAgICBkYXRhT2JqZWN0W2Fuc3dlci5maWVsZF9uYW1lXSA9IGFuc3dlci5maWVsZF92YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcmVzcG9uc2UuaWQsXG4gICAgICAgIHN1Ym1pdHRlZEF0OiByZXNwb25zZS5zdWJtaXR0ZWRfYXQsXG4gICAgICAgIHJlc3BvbnNlX2RhdGE6IGRhdGFPYmplY3QsICAvLyBNYXRjaCB0aGUgZXhwZWN0ZWQgZm9ybWF0XG4gICAgICAgIGRhdGE6IGRhdGFPYmplY3QgIC8vIEtlZXAgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgIH07XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgcmVzcG9uc2VzOiBmb3JtYXR0ZWRSZXNwb25zZXMgfSk7XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYWxvYSByZXNwb25zZXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggcmVzcG9uc2VzJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIGZvcm0gSURcbiAgICBpZiAoIWJvZHkuZm9ybUlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdGb3JtIElEIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIFVVSUQgZm9ybWF0XG4gICAgY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXsxMn0kL2k7XG4gICAgaWYgKCF1dWlkUmVnZXgudGVzdChib2R5LmZvcm1JZCkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgZm9ybSBJRCBmb3JtYXQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVmVyaWZ5IENTUkYgdG9rZW5cbiAgICBjb25zdCBjc3JmVG9rZW4gPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdYLUNTUkYtVG9rZW4nKTtcbiAgICBjb25zdCBjb29raWVUb2tlbiA9IHJlcXVlc3QuY29va2llcy5nZXQoJ2NzcmYtdG9rZW4nKT8udmFsdWU7XG4gICAgXG4gICAgaWYgKCFjc3JmVG9rZW4gfHwgIWNvb2tpZVRva2VuIHx8IGNzcmZUb2tlbiAhPT0gY29va2llVG9rZW4pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgQ1NSRiB0b2tlbicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMyB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB1c2VySWQgPSBib2R5LnVzZXJJZCB8fCBib2R5LnVzZXJfaWQgfHwgbnVsbDtcbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgbGV0IGlzVXBkYXRlID0gZmFsc2U7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IGhhcyBhIHJlc3BvbnNlIGZvciB0aGlzIGZvcm1cbiAgICBpZiAodXNlcklkKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nUmVzcG9uc2UgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhbG9hX2Zvcm1fcmVzcG9uc2VzJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAuZXEoJ2Fsb2FfZm9ybV9pZCcsIGJvZHkuZm9ybUlkKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAgIC5zaW5nbGUoKTtcbiAgICAgIFxuICAgICAgaWYgKGV4aXN0aW5nUmVzcG9uc2UpIHtcbiAgICAgICAgaXNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgcmVzcG9uc2VcbiAgICAgICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkUmVzcG9uc2UsIGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnYWxvYV9mb3JtX3Jlc3BvbnNlcycpXG4gICAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgICByZXNwb25zZXM6IGJvZHkuZGF0YSB8fCB7fSxcbiAgICAgICAgICAgIHN1Ym1pdHRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgaXBfYWRkcmVzczogcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgcmVxdWVzdC5oZWFkZXJzLmdldCgneC1yZWFsLWlwJyksXG4gICAgICAgICAgICB1c2VyX2FnZW50OiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JylcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lcSgnaWQnLCBleGlzdGluZ1Jlc3BvbnNlLmlkKVxuICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgIC5zaW5nbGUoKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHJlc3BvbnNlOicsIHVwZGF0ZUVycm9yKTtcbiAgICAgICAgICB0aHJvdyB1cGRhdGVFcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmVzcG9uc2UgPSB1cGRhdGVkUmVzcG9uc2U7XG4gICAgICAgIFxuICAgICAgICAvLyBEZWxldGUgb2xkIGFuc3dlcnMgZm9yIHRoaXMgcmVzcG9uc2VcbiAgICAgICAgYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnYWxvYV9mb3JtX3Jlc3BvbnNlX2Fuc3dlcnMnKVxuICAgICAgICAgIC5kZWxldGUoKVxuICAgICAgICAgIC5lcSgncmVzcG9uc2VfaWQnLCByZXNwb25zZS5pZCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIElmIG5vIGV4aXN0aW5nIHJlc3BvbnNlLCBjcmVhdGUgYSBuZXcgb25lXG4gICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgY29uc3QgeyBkYXRhOiBuZXdSZXNwb25zZSwgZXJyb3I6IHJlc3BvbnNlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhbG9hX2Zvcm1fcmVzcG9uc2VzJylcbiAgICAgICAgLmluc2VydChbe1xuICAgICAgICAgIGFsb2FfZm9ybV9pZDogYm9keS5mb3JtSWQsXG4gICAgICAgICAgYWxvYV9wcm9qZWN0X2lkOiBib2R5LnByb2plY3RJZCB8fCBudWxsLFxuICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICByZXNwb25zZXM6IGJvZHkuZGF0YSB8fCB7fSxcbiAgICAgICAgICBzdWJtaXR0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBpcF9hZGRyZXNzOiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LWZvcndhcmRlZC1mb3InKSB8fCByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LXJlYWwtaXAnKSxcbiAgICAgICAgICB1c2VyX2FnZW50OiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JylcbiAgICAgICAgfV0pXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHJlc3BvbnNlOicsIHJlc3BvbnNlRXJyb3IpO1xuICAgICAgICB0aHJvdyByZXNwb25zZUVycm9yO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXNwb25zZSA9IG5ld1Jlc3BvbnNlO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdG9yZS91cGRhdGUgYW5zd2VycyBpbiBhbG9hX2Zvcm1fcmVzcG9uc2VfYW5zd2Vyc1xuICAgIGNvbnN0IGFuc3dlcnMgPSBbXTtcbiAgICBPYmplY3QuZW50cmllcyhib2R5LmRhdGEgfHwge30pLmZvckVhY2goKFtmaWVsZE5hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09ICcnKSB7XG4gICAgICAgIGFuc3dlcnMucHVzaCh7XG4gICAgICAgICAgcmVzcG9uc2VfaWQ6IHJlc3BvbnNlLmlkLFxuICAgICAgICAgIGZpZWxkX25hbWU6IGZpZWxkTmFtZSxcbiAgICAgICAgICBmaWVsZF92YWx1ZTogdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IFN0cmluZyh2YWx1ZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgaWYgKGFuc3dlcnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgeyBlcnJvcjogYW5zd2Vyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnYWxvYV9mb3JtX3Jlc3BvbnNlX2Fuc3dlcnMnKVxuICAgICAgICAuaW5zZXJ0KGFuc3dlcnMpO1xuICAgICAgXG4gICAgICBpZiAoYW5zd2Vyc0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0b3JpbmcgYW5zd2VyczonLCBhbnN3ZXJzRXJyb3IpO1xuICAgICAgICB0aHJvdyBhbnN3ZXJzRXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIE9ubHkgdXBkYXRlIHN1Ym1pc3Npb24gY291bnQgZm9yIG5ldyByZXNwb25zZXMsIG5vdCBlZGl0c1xuICAgIGlmICghaXNVcGRhdGUpIHtcbiAgICAgIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnYWxvYV9mb3JtcycpXG4gICAgICAgIC51cGRhdGUoeyBcbiAgICAgICAgICBzdWJtaXNzaW9uX2NvdW50OiBzdXBhYmFzZS5yYXcoJ3N1Ym1pc3Npb25fY291bnQgKyAxJyksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pXG4gICAgICAgIC5lcSgnaWQnLCBib2R5LmZvcm1JZCk7XG4gICAgICBcbiAgICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBzdWJtaXNzaW9uIGNvdW50OicsIHVwZGF0ZUVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgIG1lc3NhZ2U6ICdGb3JtIHJlc3BvbnNlIHN1Ym1pdHRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgcmVzcG9uc2VJZDogcmVzcG9uc2UuaWRcbiAgICB9KTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdWJtaXR0aW5nIGFsb2EgcmVzcG9uc2U6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gc3VibWl0IHJlc3BvbnNlJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzdXBhYmFzZSIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJmb3JtSWQiLCJnZXQiLCJ1c2VySWQiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ1dWlkUmVnZXgiLCJ0ZXN0IiwicXVlcnkiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJkYXRhIiwicmVzcG9uc2VzIiwib3JkZXIiLCJhc2NlbmRpbmciLCJmb3JtYXR0ZWRSZXNwb25zZXMiLCJtYXAiLCJyZXNwb25zZSIsImRhdGFPYmplY3QiLCJhbG9hX2Zvcm1fcmVzcG9uc2VfYW5zd2VycyIsImZvckVhY2giLCJhbnN3ZXIiLCJmaWVsZF9uYW1lIiwicGFyc2VkVmFsdWUiLCJKU09OIiwicGFyc2UiLCJmaWVsZF92YWx1ZSIsImlkIiwic3VibWl0dGVkQXQiLCJzdWJtaXR0ZWRfYXQiLCJyZXNwb25zZV9kYXRhIiwiY29uc29sZSIsIlBPU1QiLCJib2R5IiwiY3NyZlRva2VuIiwiaGVhZGVycyIsImNvb2tpZVRva2VuIiwiY29va2llcyIsInZhbHVlIiwidXNlcl9pZCIsImlzVXBkYXRlIiwiZXhpc3RpbmdSZXNwb25zZSIsInNpbmdsZSIsInVwZGF0ZWRSZXNwb25zZSIsInVwZGF0ZUVycm9yIiwidXBkYXRlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaXBfYWRkcmVzcyIsInVzZXJfYWdlbnQiLCJkZWxldGUiLCJuZXdSZXNwb25zZSIsInJlc3BvbnNlRXJyb3IiLCJpbnNlcnQiLCJhbG9hX2Zvcm1faWQiLCJhbG9hX3Byb2plY3RfaWQiLCJwcm9qZWN0SWQiLCJhbnN3ZXJzIiwiT2JqZWN0IiwiZW50cmllcyIsImZpZWxkTmFtZSIsInVuZGVmaW5lZCIsInB1c2giLCJyZXNwb25zZV9pZCIsInN0cmluZ2lmeSIsIlN0cmluZyIsImxlbmd0aCIsImFuc3dlcnNFcnJvciIsInN1Ym1pc3Npb25fY291bnQiLCJyYXciLCJ1cGRhdGVkX2F0Iiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJyZXNwb25zZUlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/aloa-responses/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.js":
/*!*************************!*\
  !*** ./lib/supabase.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://eycgzjqwowrdmjlzqqyg.supabase.co\" || 0;\nconst supabasePublishableKey = \"sb_publishable_eG0lH_ACpyOjqG44mN_5PA_1-oFLr5n\" || 0 || 0;\n// Only check for environment variables in production or when actually using the client\nlet supabase = null;\nif (supabaseUrl && supabasePublishableKey) {\n    supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabasePublishableKey);\n} else if (false) {}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUQ7QUFFckQsTUFBTUMsY0FBY0MsMENBQW9DLElBQUk7QUFDNUQsTUFBTUcseUJBQXlCSCxnREFBZ0QsSUFBSUEsQ0FBeUMsSUFBSTtBQUVoSSx1RkFBdUY7QUFDdkYsSUFBSU0sV0FBVztBQUVmLElBQUlQLGVBQWVJLHdCQUF3QjtJQUN6Q0csV0FBV1IsbUVBQVlBLENBQUNDLGFBQWFJO0FBQ3ZDLE9BQU8sSUFBSUgsS0FBeUIsRUFBYyxFQUVqRDtBQUVtQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Fsb2EtcHJvamVjdC1tYW5hZ2VyLy4vbGliL3N1cGFiYXNlLmpzPzE1OTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgJyc7XG5jb25zdCBzdXBhYmFzZVB1Ymxpc2hhYmxlS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfUFVCTElTSEFCTEVfS0VZIHx8IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIHx8ICcnO1xuXG4vLyBPbmx5IGNoZWNrIGZvciBlbnZpcm9ubWVudCB2YXJpYWJsZXMgaW4gcHJvZHVjdGlvbiBvciB3aGVuIGFjdHVhbGx5IHVzaW5nIHRoZSBjbGllbnRcbmxldCBzdXBhYmFzZSA9IG51bGw7XG5cbmlmIChzdXBhYmFzZVVybCAmJiBzdXBhYmFzZVB1Ymxpc2hhYmxlS2V5KSB7XG4gIHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVB1Ymxpc2hhYmxlS2V5KTtcbn0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBjb25zb2xlLmVycm9yKCdXYXJuaW5nOiBTdXBhYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIG1pc3NpbmcnKTtcbn1cblxuZXhwb3J0IHsgc3VwYWJhc2UgfTsiXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VQdWJsaXNoYWJsZUtleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1BVQkxJU0hBQkxFX0tFWSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwic3VwYWJhc2UiLCJjb25zb2xlIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faloa-responses%2Froute&page=%2Fapi%2Faloa-responses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faloa-responses%2Froute.js&appDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();