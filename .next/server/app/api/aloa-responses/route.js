"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/aloa-responses/route";
exports.ids = ["app/api/aloa-responses/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faloa-responses%2Froute&page=%2Fapi%2Faloa-responses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faloa-responses%2Froute.js&appDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faloa-responses%2Froute&page=%2Fapi%2Faloa-responses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faloa-responses%2Froute.js&appDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_rosspalmer_Ross_GitHub_Projects_aloa_web_design_project_manager_app_api_aloa_responses_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/aloa-responses/route.js */ \"(rsc)/./app/api/aloa-responses/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/aloa-responses/route\",\n        pathname: \"/api/aloa-responses\",\n        filename: \"route\",\n        bundlePath: \"app/api/aloa-responses/route\"\n    },\n    resolvedPagePath: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/api/aloa-responses/route.js\",\n    nextConfigOutput,\n    userland: _Users_rosspalmer_Ross_GitHub_Projects_aloa_web_design_project_manager_app_api_aloa_responses_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/aloa-responses/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbG9hLXJlc3BvbnNlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWxvYS1yZXNwb25zZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhbG9hLXJlc3BvbnNlcyUyRnJvdXRlLmpzJmFwcERpcj0lMkZVc2VycyUyRnJvc3NwYWxtZXIlMkZSb3NzJTIwR2l0SHViJTIwUHJvamVjdHMlMkZhbG9hLXdlYi1kZXNpZ24tcHJvamVjdC1tYW5hZ2VyJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnJvc3NwYWxtZXIlMkZSb3NzJTIwR2l0SHViJTIwUHJvamVjdHMlMkZhbG9hLXdlYi1kZXNpZ24tcHJvamVjdC1tYW5hZ2VyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzRDtBQUNuSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2Fsb2EtcHJvamVjdC1tYW5hZ2VyLz84MjAxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9yb3NzcGFsbWVyL1Jvc3MgR2l0SHViIFByb2plY3RzL2Fsb2Etd2ViLWRlc2lnbi1wcm9qZWN0LW1hbmFnZXIvYXBwL2FwaS9hbG9hLXJlc3BvbnNlcy9yb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWxvYS1yZXNwb25zZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbG9hLXJlc3BvbnNlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYWxvYS1yZXNwb25zZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvcm9zc3BhbG1lci9Sb3NzIEdpdEh1YiBQcm9qZWN0cy9hbG9hLXdlYi1kZXNpZ24tcHJvamVjdC1tYW5hZ2VyL2FwcC9hcGkvYWxvYS1yZXNwb25zZXMvcm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2Fsb2EtcmVzcG9uc2VzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faloa-responses%2Froute&page=%2Fapi%2Faloa-responses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faloa-responses%2Froute.js&appDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/aloa-responses/route.js":
/*!*****************************************!*\
  !*** ./app/api/aloa-responses/route.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.js\");\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const formId = searchParams.get(\"formId\");\n        if (!formId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Form ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate UUID format\n        const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n        if (!uuidRegex.test(formId)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid form ID format\"\n            }, {\n                status: 400\n            });\n        }\n        // Fetch responses from aloa_form_responses ONLY\n        const { data: responses, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_form_responses\").select(`\n        *,\n        aloa_form_response_answers (\n          id,\n          field_name,\n          field_value\n        )\n      `).eq(\"aloa_form_id\", formId).order(\"submitted_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        // Format responses for frontend\n        const formattedResponses = responses.map((response)=>{\n            const dataObject = {};\n            response.aloa_form_response_answers?.forEach((answer)=>{\n                if (answer.field_name) {\n                    // Parse JSON values for arrays/objects\n                    try {\n                        const parsedValue = JSON.parse(answer.field_value);\n                        dataObject[answer.field_name] = parsedValue;\n                    } catch  {\n                        // If not JSON, use as-is\n                        dataObject[answer.field_name] = answer.field_value;\n                    }\n                }\n            });\n            return {\n                id: response.id,\n                submittedAt: response.submitted_at,\n                data: dataObject\n            };\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(formattedResponses);\n    } catch (error) {\n        console.error(\"Error fetching aloa responses:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch responses\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Validate form ID\n        if (!body.formId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Form ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate UUID format\n        const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n        if (!uuidRegex.test(body.formId)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid form ID format\"\n            }, {\n                status: 400\n            });\n        }\n        // Verify CSRF token\n        const csrfToken = request.headers.get(\"X-CSRF-Token\");\n        const cookieToken = request.cookies.get(\"csrf-token\")?.value;\n        if (!csrfToken || !cookieToken || csrfToken !== cookieToken) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid CSRF token\"\n            }, {\n                status: 403\n            });\n        }\n        // Create response in aloa_form_responses with project ID\n        const { data: response, error: responseError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_form_responses\").insert([\n            {\n                aloa_form_id: body.formId,\n                aloa_project_id: body.projectId || null,\n                responses: body.data || {},\n                submitted_at: new Date().toISOString(),\n                ip_address: request.headers.get(\"x-forwarded-for\") || request.headers.get(\"x-real-ip\"),\n                user_agent: request.headers.get(\"user-agent\")\n            }\n        ]).select().single();\n        if (responseError) {\n            console.error(\"Error creating response:\", responseError);\n            throw responseError;\n        }\n        // Store answers in aloa_form_response_answers\n        const answers = [];\n        Object.entries(body.data || {}).forEach(([fieldName, value])=>{\n            if (value !== undefined && value !== null && value !== \"\") {\n                answers.push({\n                    response_id: response.id,\n                    field_name: fieldName,\n                    field_value: typeof value === \"object\" ? JSON.stringify(value) : String(value)\n                });\n            }\n        });\n        if (answers.length > 0) {\n            const { error: answersError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_form_response_answers\").insert(answers);\n            if (answersError) {\n                console.error(\"Error storing answers:\", answersError);\n                throw answersError;\n            }\n        }\n        // Update submission count on the form\n        const { error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"aloa_forms\").update({\n            submission_count: _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.raw(\"submission_count + 1\"),\n            updated_at: new Date().toISOString()\n        }).eq(\"id\", body.formId);\n        if (updateError) {\n            console.error(\"Error updating submission count:\", updateError);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Form response submitted successfully\",\n            responseId: response.id\n        });\n    } catch (error) {\n        console.error(\"Error submitting aloa response:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to submit response\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Fsb2EtcmVzcG9uc2VzL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkM7QUFDRDtBQUVuQyxlQUFlRSxJQUFJQyxPQUFPO0lBQy9CLElBQUk7UUFDRixNQUFNLEVBQUVDLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUlGLFFBQVFHLEdBQUc7UUFDNUMsTUFBTUMsU0FBU0gsYUFBYUksR0FBRyxDQUFDO1FBRWhDLElBQUksQ0FBQ0QsUUFBUTtZQUNYLE9BQU9QLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQXNCLEdBQy9CO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSx1QkFBdUI7UUFDdkIsTUFBTUMsWUFBWTtRQUNsQixJQUFJLENBQUNBLFVBQVVDLElBQUksQ0FBQ04sU0FBUztZQUMzQixPQUFPUCxxREFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUF5QixHQUNsQztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsZ0RBQWdEO1FBQ2hELE1BQU0sRUFBRUcsTUFBTUMsU0FBUyxFQUFFTCxLQUFLLEVBQUUsR0FBRyxNQUFNVCxtREFBUUEsQ0FDOUNlLElBQUksQ0FBQyx1QkFDTEMsTUFBTSxDQUFDLENBQUM7Ozs7Ozs7TUFPVCxDQUFDLEVBQ0FDLEVBQUUsQ0FBQyxnQkFBZ0JYLFFBQ25CWSxLQUFLLENBQUMsZ0JBQWdCO1lBQUVDLFdBQVc7UUFBTTtRQUU1QyxJQUFJVixPQUFPLE1BQU1BO1FBRWpCLGdDQUFnQztRQUNoQyxNQUFNVyxxQkFBcUJOLFVBQVVPLEdBQUcsQ0FBQ0MsQ0FBQUE7WUFDdkMsTUFBTUMsYUFBYSxDQUFDO1lBQ3BCRCxTQUFTRSwwQkFBMEIsRUFBRUMsUUFBUUMsQ0FBQUE7Z0JBQzNDLElBQUlBLE9BQU9DLFVBQVUsRUFBRTtvQkFDckIsdUNBQXVDO29CQUN2QyxJQUFJO3dCQUNGLE1BQU1DLGNBQWNDLEtBQUtDLEtBQUssQ0FBQ0osT0FBT0ssV0FB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QSxJQUFJVyxRQUFRUyxNQUFNLEdBQUcsR0FBRztZQUN0QixNQUFNLEVBQUVyRCxPQUFPc0QsWUFBWSxFQUFFLEdBQUcsTUFBTS9ELG1EQUFRQSxDQUMzQ2UsSUFBSSxDQUFDLDhCQUNMNkIsTUFBTSxDQUFDUztZQUVWLElBQUlVLGNBQWM7Z0JBQ2hCNUIsUUFBUTFCLEtBQUssQ0FBQywwQkFBMEJzRDtnQkFDeEMsTUFBTUE7WUFDUjtRQUNGO1FBRUEsc0NBQXNDO1FBQ3RDLE1BQU0sRUFBRXRELE9BQU91RCxXQUFXLEVBQUUsR0FBRyxNQUFNaEUsbURBQVFBLENBQzFDZSxJQUFJLENBQUMsY0FDTGtELE1BQU0sQ0FBQztZQUNOQyxrQkFBa0JsRSxtREFBUUEsQ0FBQ21FLEdBQUcsQ0FBQztZQUMvQkMsWUFBWSxJQUFJcEIsT0FBT0MsV0FBVztRQUNwQyxHQUNDaEMsRUFBRSxDQUFDLE1BQU1vQixLQUFLL0IsTUFBTTtRQUV2QixJQUFJMEQsYUFBYTtZQUNmN0IsUUFBUTFCLEtBQUssQ0FBQyxvQ0FBb0N1RDtRQUNwRDtRQUVBLE9BQU9qRSxxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO1lBQ3ZCNkQsU0FBUztZQUNUQyxTQUFTO1lBQ1RDLFlBQVlqRCxTQUFTVSxFQUFFO1FBQ3pCO0lBRUYsRUFBRSxPQUFPdkIsT0FBTztRQUNkMEIsUUFBUTFCLEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE9BQU9WLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBNEIsR0FDckM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbG9hLXByb2plY3QtbWFuYWdlci8uL2FwcC9hcGkvYWxvYS1yZXNwb25zZXMvcm91dGUuanM/NDYzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IGZvcm1JZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2Zvcm1JZCcpO1xuICAgIFxuICAgIGlmICghZm9ybUlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdGb3JtIElEIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIFVVSUQgZm9ybWF0XG4gICAgY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXsxMn0kL2k7XG4gICAgaWYgKCF1dWlkUmVnZXgudGVzdChmb3JtSWQpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIGZvcm0gSUQgZm9ybWF0JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIEZldGNoIHJlc3BvbnNlcyBmcm9tIGFsb2FfZm9ybV9yZXNwb25zZXMgT05MWVxuICAgIGNvbnN0IHsgZGF0YTogcmVzcG9uc2VzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhbG9hX2Zvcm1fcmVzcG9uc2VzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBhbG9hX2Zvcm1fcmVzcG9uc2VfYW5zd2VycyAoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZmllbGRfbmFtZSxcbiAgICAgICAgICBmaWVsZF92YWx1ZVxuICAgICAgICApXG4gICAgICBgKVxuICAgICAgLmVxKCdhbG9hX2Zvcm1faWQnLCBmb3JtSWQpXG4gICAgICAub3JkZXIoJ3N1Ym1pdHRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgIFxuICAgIC8vIEZvcm1hdCByZXNwb25zZXMgZm9yIGZyb250ZW5kXG4gICAgY29uc3QgZm9ybWF0dGVkUmVzcG9uc2VzID0gcmVzcG9uc2VzLm1hcChyZXNwb25zZSA9PiB7XG4gICAgICBjb25zdCBkYXRhT2JqZWN0ID0ge307XG4gICAgICByZXNwb25zZS5hbG9hX2Zvcm1fcmVzcG9uc2VfYW5zd2Vycz8uZm9yRWFjaChhbnN3ZXIgPT4ge1xuICAgICAgICBpZiAoYW5zd2VyLmZpZWxkX25hbWUpIHtcbiAgICAgICAgICAvLyBQYXJzZSBKU09OIHZhbHVlcyBmb3IgYXJyYXlzL29iamVjdHNcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSBKU09OLnBhcnNlKGFuc3dlci5maWVsZF92YWx1ZSk7XG4gICAgICAgICAgICBkYXRhT2JqZWN0W2Fuc3dlci5maWVsZF9uYW1lXSA9IHBhcnNlZFZhbHVlO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgLy8gSWYgbm90IEpTT04sIHVzZSBhcy1pc1xuICAgICAgICAgICAgZGF0YU9iamVjdFthbnN3ZXIuZmllbGRfbmFtZV0gPSBhbnN3ZXIuZmllbGRfdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHJlc3BvbnNlLmlkLFxuICAgICAgICBzdWJtaXR0ZWRBdDogcmVzcG9uc2Uuc3VibWl0dGVkX2F0LFxuICAgICAgICBkYXRhOiBkYXRhT2JqZWN0XG4gICAgICB9O1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihmb3JtYXR0ZWRSZXNwb25zZXMpO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFsb2EgcmVzcG9uc2VzOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHJlc3BvbnNlcycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBmb3JtIElEXG4gICAgaWYgKCFib2R5LmZvcm1JZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnRm9ybSBJRCBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBVVUlEIGZvcm1hdFxuICAgIGNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzAtOWEtZl17NH0tWzAtOWEtZl17NH0tWzAtOWEtZl17MTJ9JC9pO1xuICAgIGlmICghdXVpZFJlZ2V4LnRlc3QoYm9keS5mb3JtSWQpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIGZvcm0gSUQgZm9ybWF0JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIFZlcmlmeSBDU1JGIHRva2VuXG4gICAgY29uc3QgY3NyZlRva2VuID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnWC1DU1JGLVRva2VuJyk7XG4gICAgY29uc3QgY29va2llVG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCdjc3JmLXRva2VuJyk/LnZhbHVlO1xuICAgIFxuICAgIGlmICghY3NyZlRva2VuIHx8ICFjb29raWVUb2tlbiB8fCBjc3JmVG9rZW4gIT09IGNvb2tpZVRva2VuKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIENTUkYgdG9rZW4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDMgfVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ3JlYXRlIHJlc3BvbnNlIGluIGFsb2FfZm9ybV9yZXNwb25zZXMgd2l0aCBwcm9qZWN0IElEXG4gICAgY29uc3QgeyBkYXRhOiByZXNwb25zZSwgZXJyb3I6IHJlc3BvbnNlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYWxvYV9mb3JtX3Jlc3BvbnNlcycpXG4gICAgICAuaW5zZXJ0KFt7XG4gICAgICAgIGFsb2FfZm9ybV9pZDogYm9keS5mb3JtSWQsXG4gICAgICAgIGFsb2FfcHJvamVjdF9pZDogYm9keS5wcm9qZWN0SWQgfHwgbnVsbCwgLy8gSW5jbHVkZSBwcm9qZWN0IElEIGlmIHByb3ZpZGVkXG4gICAgICAgIHJlc3BvbnNlczogYm9keS5kYXRhIHx8IHt9LCAvLyBBZGQgdGhlIHJlc3BvbnNlcyBmaWVsZFxuICAgICAgICBzdWJtaXR0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgaXBfYWRkcmVzczogcmVxdWVzdC5oZWFkZXJzLmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgcmVxdWVzdC5oZWFkZXJzLmdldCgneC1yZWFsLWlwJyksXG4gICAgICAgIHVzZXJfYWdlbnQ6IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3VzZXItYWdlbnQnKVxuICAgICAgfV0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKTtcbiAgICBcbiAgICBpZiAocmVzcG9uc2VFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcmVzcG9uc2U6JywgcmVzcG9uc2VFcnJvcik7XG4gICAgICB0aHJvdyByZXNwb25zZUVycm9yO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdG9yZSBhbnN3ZXJzIGluIGFsb2FfZm9ybV9yZXNwb25zZV9hbnN3ZXJzXG4gICAgY29uc3QgYW5zd2VycyA9IFtdO1xuICAgIE9iamVjdC5lbnRyaWVzKGJvZHkuZGF0YSB8fCB7fSkuZm9yRWFjaCgoW2ZpZWxkTmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gJycpIHtcbiAgICAgICAgYW5zd2Vycy5wdXNoKHtcbiAgICAgICAgICByZXNwb25zZV9pZDogcmVzcG9uc2UuaWQsXG4gICAgICAgICAgZmllbGRfbmFtZTogZmllbGROYW1lLFxuICAgICAgICAgIGZpZWxkX3ZhbHVlOiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogU3RyaW5nKHZhbHVlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBpZiAoYW5zd2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB7IGVycm9yOiBhbnN3ZXJzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhbG9hX2Zvcm1fcmVzcG9uc2VfYW5zd2VycycpXG4gICAgICAgIC5pbnNlcnQoYW5zd2Vycyk7XG4gICAgICBcbiAgICAgIGlmIChhbnN3ZXJzRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3RvcmluZyBhbnN3ZXJzOicsIGFuc3dlcnNFcnJvcik7XG4gICAgICAgIHRocm93IGFuc3dlcnNFcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gVXBkYXRlIHN1Ym1pc3Npb24gY291bnQgb24gdGhlIGZvcm1cbiAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhbG9hX2Zvcm1zJylcbiAgICAgIC51cGRhdGUoeyBcbiAgICAgICAgc3VibWlzc2lvbl9jb3VudDogc3VwYWJhc2UucmF3KCdzdWJtaXNzaW9uX2NvdW50ICsgMScpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pXG4gICAgICAuZXEoJ2lkJywgYm9keS5mb3JtSWQpO1xuICAgIFxuICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgc3VibWlzc2lvbiBjb3VudDonLCB1cGRhdGVFcnJvcik7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICBtZXNzYWdlOiAnRm9ybSByZXNwb25zZSBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIHJlc3BvbnNlSWQ6IHJlc3BvbnNlLmlkXG4gICAgfSk7XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3VibWl0dGluZyBhbG9hIHJlc3BvbnNlOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIHN1Ym1pdCByZXNwb25zZScgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic3VwYWJhc2UiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwiZm9ybUlkIiwiZ2V0IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwidXVpZFJlZ2V4IiwidGVzdCIsImRhdGEiLCJyZXNwb25zZXMiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJvcmRlciIsImFzY2VuZGluZyIsImZvcm1hdHRlZFJlc3BvbnNlcyIsIm1hcCIsInJlc3BvbnNlIiwiZGF0YU9iamVjdCIsImFsb2FfZm9ybV9yZXNwb25zZV9hbnN3ZXJzIiwiZm9yRWFjaCIsImFuc3dlciIsImZpZWxkX25hbWUiLCJwYXJzZWRWYWx1ZSIsIkpTT04iLCJwYXJzZSIsImZpZWxkX3ZhbHVlIiwiaWQiLCJzdWJtaXR0ZWRBdCIsInN1Ym1pdHRlZF9hdCIsImNvbnNvbGUiLCJQT1NUIiwiYm9keSIsImNzcmZUb2tlbiIsImhlYWRlcnMiLCJjb29raWVUb2tlbiIsImNvb2tpZXMiLCJ2YWx1ZSIsInJlc3BvbnNlRXJyb3IiLCJpbnNlcnQiLCJhbG9hX2Zvcm1faWQiLCJhbG9hX3Byb2plY3RfaWQiLCJwcm9qZWN0SWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJpcF9hZGRyZXNzIiwidXNlcl9hZ2VudCIsInNpbmdsZSIsImFuc3dlcnMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZmllbGROYW1lIiwidW5kZWZpbmVkIiwicHVzaCIsInJlc3BvbnNlX2lkIiwic3RyaW5naWZ5IiwiU3RyaW5nIiwibGVuZ3RoIiwiYW5zd2Vyc0Vycm9yIiwidXBkYXRlRXJyb3IiLCJ1cGRhdGUiLCJzdWJtaXNzaW9uX2NvdW50IiwicmF3IiwidXBkYXRlZF9hdCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwicmVzcG9uc2VJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/aloa-responses/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.js":
/*!*************************!*\
  !*** ./lib/supabase.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://eycgzjqwowrdmjlzqqyg.supabase.co\" || 0;\nconst supabasePublishableKey = \"sb_publishable_eG0lH_ACpyOjqG44mN_5PA_1-oFLr5n\" || 0;\n// Only check for environment variables in production or when actually using the client\nlet supabase = null;\nif (supabaseUrl && supabasePublishableKey) {\n    supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabasePublishableKey);\n} else if (false) {}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUQ7QUFFckQsTUFBTUMsY0FBY0MsMENBQW9DLElBQUk7QUFDNUQsTUFBTUcseUJBQXlCSCxnREFBZ0QsSUFBSTtBQUVuRix1RkFBdUY7QUFDdkYsSUFBSUssV0FBVztBQUVmLElBQUlOLGVBQWVJLHdCQUF3QjtJQUN6Q0UsV0FBV1AsbUVBQVlBLENBQUNDLGFBQWFJO0FBQ3ZDLE9BQU8sSUFBSUgsS0FBeUIsRUFBYyxFQUVqRDtBQUVtQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Fsb2EtcHJvamVjdC1tYW5hZ2VyLy4vbGliL3N1cGFiYXNlLmpzPzE1OTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgJyc7XG5jb25zdCBzdXBhYmFzZVB1Ymxpc2hhYmxlS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfUFVCTElTSEFCTEVfS0VZIHx8ICcnO1xuXG4vLyBPbmx5IGNoZWNrIGZvciBlbnZpcm9ubWVudCB2YXJpYWJsZXMgaW4gcHJvZHVjdGlvbiBvciB3aGVuIGFjdHVhbGx5IHVzaW5nIHRoZSBjbGllbnRcbmxldCBzdXBhYmFzZSA9IG51bGw7XG5cbmlmIChzdXBhYmFzZVVybCAmJiBzdXBhYmFzZVB1Ymxpc2hhYmxlS2V5KSB7XG4gIHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVB1Ymxpc2hhYmxlS2V5KTtcbn0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBjb25zb2xlLmVycm9yKCdXYXJuaW5nOiBTdXBhYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIG1pc3NpbmcnKTtcbn1cblxuZXhwb3J0IHsgc3VwYWJhc2UgfTsiXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VQdWJsaXNoYWJsZUtleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1BVQkxJU0hBQkxFX0tFWSIsInN1cGFiYXNlIiwiY29uc29sZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Faloa-responses%2Froute&page=%2Fapi%2Faloa-responses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Faloa-responses%2Froute.js&appDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frosspalmer%2FRoss%20GitHub%20Projects%2Faloa-web-design-project-manager&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();