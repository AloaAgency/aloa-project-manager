"use strict";(()=>{var e={};e.id=4951,e.ids=[4951],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},68621:e=>{e.exports=require("punycode")},76162:e=>{e.exports=require("stream")},17360:e=>{e.exports=require("url")},71568:e=>{e.exports=require("zlib")},49208:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>d,patchFetch:()=>g,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>_});var r={};s.r(r),s.d(r,{GET:()=>u});var a=s(49303),o=s(88716),n=s(60670),l=s(87070),i=s(76995);async function u(){try{let e={timestamp:new Date().toISOString(),supabase_config:{},connection_test:{},table_tests:{}};if(e.supabase_config={url_configured:!0,publishable_key_configured:!0,secret_key_configured:!!process.env.SUPABASE_SECRET_KEY,url_value:"https://eycgzjqwowrdmjlzqqyg.supabase.co",client_initialized:!!i.O},!i.O)return e.connection_test={status:"FAILED",error:"Supabase client not initialized - check environment variables"},l.NextResponse.json({success:!1,message:"Supabase client not initialized",test_results:e},{status:500});try{let{data:t,error:s}=await i.O.from("information_schema.tables").select("table_name").limit(1);e.connection_test={status:s?"FAILED":"SUCCESS",error:s?.message||null,can_query_system_tables:!s}}catch(t){e.connection_test={status:"FAILED",error:t.message,can_query_system_tables:!1}}for(let t of["aloa_projects","aloa_projectlets","aloa_project_team","aloa_project_timeline","aloa_project_assets"])try{let{data:s,error:r,count:a}=await i.O.from(t).select("*",{count:"exact",head:!0});e.table_tests[t]={status:r?"FAILED":"SUCCESS",exists:!r,error:r?.message||null,record_count:r?null:a}}catch(s){e.table_tests[t]={status:"FAILED",exists:!1,error:s.message,record_count:null}}try{let{data:t,error:s}=await i.O.from("aloa_projects").select("id, project_name, status, created_at").limit(5);e.sample_query={status:s?"FAILED":"SUCCESS",error:s?.message||null,sample_records:s?null:t?.length||0,first_record:t?.[0]||null}}catch(t){e.sample_query={status:"FAILED",error:t.message,sample_records:null,first_record:null}}let t="FAILED"===e.connection_test.status||Object.values(e.table_tests).some(e=>"FAILED"===e.status);return l.NextResponse.json({success:!t,message:t?"Some tests failed - check test_results for details":"All tests passed successfully",overall_status:t?"FAILED":"SUCCESS",test_results:e})}catch(e){return console.error("Test endpoint error:",e),l.NextResponse.json({success:!1,message:"Test endpoint error",error:e.message,test_results:{timestamp:new Date().toISOString(),fatal_error:e.message}},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/aloa-projects/test/route",pathname:"/api/aloa-projects/test",filename:"route",bundlePath:"app/api/aloa-projects/test/route"},resolvedPagePath:"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/api/aloa-projects/test/route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:_,serverHooks:m}=c,d="/api/aloa-projects/test/route";function g(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:_})}},76995:(e,t,s)=>{s.d(t,{O:()=>n});var r=s(69498);let a="https://eycgzjqwowrdmjlzqqyg.supabase.co",o="sb_publishable_eG0lH_ACpyOjqG44mN_5PA_1-oFLr5n",n=null;a&&o?n=(0,r.eI)(a,o):console.error("Warning: Supabase environment variables are missing")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9276,5972,9498],()=>s(49208));module.exports=r})();