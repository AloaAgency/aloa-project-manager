"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/auth/login/page",{

/***/ "(app-pages-browser)/./lib/supabase-auth.js":
/*!******************************!*\
  !*** ./lib/supabase-auth.js ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: function() { return /* binding */ createClient; },\n/* harmony export */   getCurrentUser: function() { return /* binding */ getCurrentUser; },\n/* harmony export */   hasProjectPermission: function() { return /* binding */ hasProjectPermission; },\n/* harmony export */   hasRole: function() { return /* binding */ hasRole; },\n/* harmony export */   logActivity: function() { return /* binding */ logActivity; },\n/* harmony export */   resetPassword: function() { return /* binding */ resetPassword; },\n/* harmony export */   signInWithEmail: function() { return /* binding */ signInWithEmail; },\n/* harmony export */   signInWithMagicLink: function() { return /* binding */ signInWithMagicLink; },\n/* harmony export */   signOut: function() { return /* binding */ signOut; },\n/* harmony export */   signUp: function() { return /* binding */ signUp; },\n/* harmony export */   updatePassword: function() { return /* binding */ updatePassword; }\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(app-pages-browser)/./node_modules/@supabase/ssr/dist/module/index.js\");\n\n// Create a Supabase client for client-side operations\nfunction createClient() {\n    const url = \"https://eycgzjqwowrdmjlzqqyg.supabase.co\";\n    const key = \"sb_publishable_eG0lH_ACpyOjqG44mN_5PA_1-oFLr5n\" || 0;\n    console.log(\"Creating Supabase client with:\", {\n        url: url,\n        keyPrefix: key ? key.substring(0, 20) + \"...\" : \"NO KEY\"\n    });\n    if (!url || !key) {\n        console.error(\"Missing Supabase environment variables\");\n        throw new Error(\"Supabase configuration is missing\");\n    }\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createBrowserClient)(url, key);\n}\n// Helper function to get the current user\nasync function getCurrentUser() {\n    const supabase = createClient();\n    const { data: { user }, error } = await supabase.auth.getUser();\n    if (error || !user) {\n        return null;\n    }\n    // Get the user profile with role information\n    const { data: profile } = await supabase.from(\"aloa_user_profiles\").select(\"*\").eq(\"id\", user.id).single();\n    return {\n        ...user,\n        profile\n    };\n}\n// Helper function to check if user has a specific role\nasync function hasRole(requiredRole) {\n    var _user_profile;\n    const user = await getCurrentUser();\n    return (user === null || user === void 0 ? void 0 : (_user_profile = user.profile) === null || _user_profile === void 0 ? void 0 : _user_profile.role) === requiredRole;\n}\n// Helper function to check project-specific permissions\nasync function hasProjectPermission(projectId, permission) {\n    const supabase = createClient();\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) return false;\n    const { data: member } = await supabase.from(\"aloa_project_members\").select(\"*\").eq(\"user_id\", user.id).eq(\"project_id\", projectId).single();\n    if (!member) return false;\n    // Check specific permission or role-based permission\n    if (permission === \"view\") {\n        return true; // All members can view\n    }\n    if (permission === \"edit\") {\n        return member.can_edit || [\n            \"owner\",\n            \"admin\",\n            \"editor\"\n        ].includes(member.project_role);\n    }\n    if (permission === \"delete\") {\n        return member.can_delete || [\n            \"owner\",\n            \"admin\"\n        ].includes(member.project_role);\n    }\n    if (permission === \"manage\") {\n        return member.can_manage_team || [\n            \"owner\",\n            \"admin\"\n        ].includes(member.project_role);\n    }\n    return false;\n}\n// Helper function to sign out\nasync function signOut() {\n    const supabase = createClient();\n    const { error } = await supabase.auth.signOut();\n    if (error) {\n        console.error(\"Error signing out:\", error);\n        return false;\n    }\n    return true;\n}\n// Helper function to sign in with email and password\nasync function signInWithEmail(email, password) {\n    const supabase = createClient();\n    console.log(\"Attempting to sign in with email:\", email);\n    const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password\n    });\n    console.log(\"Sign in response:\", {\n        hasData: !!data,\n        hasUser: !!(data === null || data === void 0 ? void 0 : data.user),\n        hasSession: !!(data === null || data === void 0 ? void 0 : data.session),\n        error: error === null || error === void 0 ? void 0 : error.message\n    });\n    if (error) {\n        console.error(\"Sign in error:\", error);\n        return {\n            error: error.message\n        };\n    }\n    if (!data || !data.user) {\n        console.error(\"No user data returned from sign in\");\n        return {\n            error: \"Sign in failed - no user data returned\"\n        };\n    }\n    return {\n        user: data.user,\n        session: data.session\n    };\n}\n// Helper function to sign in with magic link\nasync function signInWithMagicLink(email) {\n    const supabase = createClient();\n    const { error } = await supabase.auth.signInWithOtp({\n        email,\n        options: {\n            emailRedirectTo: \"\".concat(window.location.origin, \"/auth/callback\")\n        }\n    });\n    if (error) {\n        return {\n            error: error.message\n        };\n    }\n    return {\n        success: true\n    };\n}\n// Helper function to sign up\nasync function signUp(email, password) {\n    let fullName = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n    const supabase = createClient();\n    const { data, error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n            data: {\n                full_name: fullName\n            },\n            emailRedirectTo: \"\".concat(window.location.origin, \"/auth/callback\")\n        }\n    });\n    if (error) {\n        return {\n            error: error.message\n        };\n    }\n    // Check if user already exists (Supabase returns user object but identities array is empty for existing users)\n    if (data.user && data.user.identities && data.user.identities.length === 0) {\n        return {\n            error: \"A user with this email already exists. Please sign in instead.\",\n            userExists: true\n        };\n    }\n    return {\n        user: data.user\n    };\n}\n// Helper function to reset password\nasync function resetPassword(email) {\n    const supabase = createClient();\n    console.log(\"Attempting to reset password for:\", email);\n    const { data, error } = await supabase.auth.resetPasswordForEmail(email, {\n        redirectTo: \"\".concat(window.location.origin, \"/auth/update-password\")\n    });\n    console.log(\"Reset password response:\", {\n        data,\n        error\n    });\n    if (error) {\n        console.error(\"Reset password error:\", error);\n        return {\n            error: error.message\n        };\n    }\n    return {\n        success: true\n    };\n}\n// Helper function to update password\nasync function updatePassword(newPassword) {\n    const supabase = createClient();\n    const { error } = await supabase.auth.updateUser({\n        password: newPassword\n    });\n    if (error) {\n        return {\n            error: error.message\n        };\n    }\n    return {\n        success: true\n    };\n}\n// Helper function to log user activity\nasync function logActivity(action) {\n    let projectId = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, resourceType = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null, resourceId = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : null, details = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : {};\n    const supabase = createClient();\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) return;\n    try {\n        await supabase.rpc(\"aloa_log_user_activity\", {\n            p_user_id: user.id,\n            p_project_id: projectId,\n            p_action: action,\n            p_resource_type: resourceType,\n            p_resource_id: resourceId,\n            p_details: details,\n            p_user_agent: navigator.userAgent\n        });\n    } catch (error) {\n        console.error(\"Failed to log activity:\", error);\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9zdXBhYmFzZS1hdXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFvRDtBQUVwRCxzREFBc0Q7QUFDL0MsU0FBU0M7SUFDZCxNQUFNQyxNQUFNQywwQ0FBb0M7SUFDaEQsTUFBTUcsTUFBTUgsZ0RBQXlDLElBQUlBLENBQWdEO0lBRXpHTSxRQUFRQyxHQUFHLENBQUMsa0NBQWtDO1FBQzVDUixLQUFLQTtRQUNMUyxXQUFXTCxNQUFNQSxJQUFJTSxTQUFTLENBQUMsR0FBRyxNQUFNLFFBQVE7SUFDbEQ7SUFFQSxJQUFJLENBQUNWLE9BQU8sQ0FBQ0ksS0FBSztRQUNoQkcsUUFBUUksS0FBSyxDQUFDO1FBQ2QsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBRUEsT0FBT2Qsa0VBQW1CQSxDQUFDRSxLQUFLSTtBQUNsQztBQUVBLDBDQUEwQztBQUNuQyxlQUFlUztJQUNwQixNQUFNQyxXQUFXZjtJQUNqQixNQUFNLEVBQUVnQixNQUFNLEVBQUVDLElBQUksRUFBRSxFQUFFTCxLQUFLLEVBQUUsR0FBRyxNQUFNRyxTQUFTRyxJQUFJLENBQUNDLE9BQU87SUFFN0QsSUFBSVAsU0FBUyxDQUFDSyxNQUFNO1FBQ2xCLE9BQU87SUFDVDtJQUVBLDZDQUE2QztJQUM3QyxNQUFNLEVBQUVELE1BQU1JLE9BQU8sRUFBRSxHQUFHLE1BQU1MLFNBQzdCTSxJQUFJLENBQUMsc0JBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsTUFBTU4sS0FBS08sRUFBRSxFQUNoQkMsTUFBTTtJQUVULE9BQU87UUFDTCxHQUFHUixJQUFJO1FBQ1BHO0lBQ0Y7QUFDRjtBQUVBLHVEQUF1RDtBQUNoRCxlQUFlTSxRQUFRQyxZQUFZO1FBRWpDVjtJQURQLE1BQU1BLE9BQU8sTUFBTUg7SUFDbkIsT0FBT0csQ0FBQUEsaUJBQUFBLDRCQUFBQSxnQkFBQUEsS0FBTUcsT0FBTyxjQUFiSCxvQ0FBQUEsY0FBZVcsSUFBSSxNQUFLRDtBQUNq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SUFBTTtJQUV0RCxJQUFJQSxPQUFPO1FBQ1RKLFFBQVFJLEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU87WUFBRUEsT0FBT0EsTUFBTW1DLE9BQU87UUFBQztJQUNoQztJQUVBLE9BQU87UUFBRVEsU0FBUztJQUFLO0FBQ3pCO0FBRUEscUNBQXFDO0FBQzlCLGVBQWVVLGVBQWVDLFdBQVc7SUFDOUMsTUFBTW5ELFdBQVdmO0lBQ2pCLE1BQU0sRUFBRVksS0FBSyxFQUFFLEdBQUcsTUFBTUcsU0FBU0csSUFBSSxDQUFDaUQsVUFBVSxDQUFDO1FBQy9DMUIsVUFBVXlCO0lBQ1o7SUFFQSxJQUFJdEQsT0FBTztRQUNULE9BQU87WUFBRUEsT0FBT0EsTUFBTW1DLE9BQU87UUFBQztJQUNoQztJQUVBLE9BQU87UUFBRVEsU0FBUztJQUFLO0FBQ3pCO0FBRUEsdUNBQXVDO0FBQ2hDLGVBQWVhLFlBQVlDLE1BQU07UUFBRXZDLFlBQUFBLGlFQUFZLE1BQU13QyxlQUFBQSxpRUFBZSxNQUFNQyxhQUFBQSxpRUFBYSxNQUFNQyxVQUFBQSxpRUFBVSxDQUFDO0lBQzdHLE1BQU16RCxXQUFXZjtJQUNqQixNQUFNLEVBQUVnQixNQUFNLEVBQUVDLElBQUksRUFBRSxFQUFFLEdBQUcsTUFBTUYsU0FBU0csSUFBSSxDQUFDQyxPQUFPO0lBRXRELElBQUksQ0FBQ0YsTUFBTTtJQUVYLElBQUk7UUFDRixNQUFNRixTQUFTMEQsR0FBRyxDQUFDLDBCQUEwQjtZQUMzQ0MsV0FBV3pELEtBQUtPLEVBQUU7WUFDbEJtRCxjQUFjN0M7WUFDZDhDLFVBQVVQO1lBQ1ZRLGlCQUFpQlA7WUFDakJRLGVBQWVQO1lBQ2ZRLFdBQVdQO1lBQ1hRLGNBQWNDLFVBQVVDLFNBQVM7UUFDbkM7SUFDRixFQUFFLE9BQU90RSxPQUFPO1FBQ2RKLFFBQVFJLEtBQUssQ0FBQywyQkFBMkJBO0lBQzNDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL3N1cGFiYXNlLWF1dGguanM/M2I1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVCcm93c2VyQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3Nzcic7XG5cbi8vIENyZWF0ZSBhIFN1cGFiYXNlIGNsaWVudCBmb3IgY2xpZW50LXNpZGUgb3BlcmF0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudCgpIHtcbiAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuICBjb25zdCBrZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSB8fCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9QVUJMSVNIQUJMRV9LRVk7XG4gIFxuICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgU3VwYWJhc2UgY2xpZW50IHdpdGg6Jywge1xuICAgIHVybDogdXJsLFxuICAgIGtleVByZWZpeDoga2V5ID8ga2V5LnN1YnN0cmluZygwLCAyMCkgKyAnLi4uJyA6ICdOTyBLRVknXG4gIH0pO1xuICBcbiAgaWYgKCF1cmwgfHwgIWtleSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgU3VwYWJhc2UgZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBjb25maWd1cmF0aW9uIGlzIG1pc3NpbmcnKTtcbiAgfVxuICBcbiAgcmV0dXJuIGNyZWF0ZUJyb3dzZXJDbGllbnQodXJsLCBrZXkpO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBjdXJyZW50IHVzZXJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50VXNlcigpIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICBcbiAgaWYgKGVycm9yIHx8ICF1c2VyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBHZXQgdGhlIHVzZXIgcHJvZmlsZSB3aXRoIHJvbGUgaW5mb3JtYXRpb25cbiAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdhbG9hX3VzZXJfcHJvZmlsZXMnKVxuICAgIC5zZWxlY3QoJyonKVxuICAgIC5lcSgnaWQnLCB1c2VyLmlkKVxuICAgIC5zaW5nbGUoKTtcblxuICByZXR1cm4ge1xuICAgIC4uLnVzZXIsXG4gICAgcHJvZmlsZVxuICB9O1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdXNlciBoYXMgYSBzcGVjaWZpYyByb2xlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzUm9sZShyZXF1aXJlZFJvbGUpIHtcbiAgY29uc3QgdXNlciA9IGF3YWl0IGdldEN1cnJlbnRVc2VyKCk7XG4gIHJldHVybiB1c2VyPy5wcm9maWxlPy5yb2xlID09PSByZXF1aXJlZFJvbGU7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBwcm9qZWN0LXNwZWNpZmljIHBlcm1pc3Npb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzUHJvamVjdFBlcm1pc3Npb24ocHJvamVjdElkLCBwZXJtaXNzaW9uKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICBcbiAgaWYgKCF1c2VyKSByZXR1cm4gZmFsc2U7XG5cbiAgY29uc3QgeyBkYXRhOiBtZW1iZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2Fsb2FfcHJvamVjdF9tZW1iZXJzJylcbiAgICAuc2VsZWN0KCcqJylcbiAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxuICAgIC5lcSgncHJvamVjdF9pZCcsIHByb2plY3RJZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKCFtZW1iZXIpIHJldHVybiBmYWxzZTtcblxuICAvLyBDaGVjayBzcGVjaWZpYyBwZXJtaXNzaW9uIG9yIHJvbGUtYmFzZWQgcGVybWlzc2lvblxuICBpZiAocGVybWlzc2lvbiA9PT0gJ3ZpZXcnKSB7XG4gICAgcmV0dXJuIHRydWU7IC8vIEFsbCBtZW1iZXJzIGNhbiB2aWV3XG4gIH1cbiAgXG4gIGlmIChwZXJtaXNzaW9uID09PSAnZWRpdCcpIHtcbiAgICByZXR1cm4gbWVtYmVyLmNhbl9lZGl0IHx8IFsnb3duZXInLCAnYWRtaW4nLCAnZWRpdG9yJ10uaW5jbHVkZXMobWVtYmVyLnByb2plY3Rfcm9sZSk7XG4gIH1cbiAgXG4gIGlmIChwZXJtaXNzaW9uID09PSAnZGVsZXRlJykge1xuICAgIHJldHVybiBtZW1iZXIuY2FuX2RlbGV0ZSB8fCBbJ293bmVyJywgJ2FkbWluJ10uaW5jbHVkZXMobWVtYmVyLnByb2plY3Rfcm9sZSk7XG4gIH1cbiAgXG4gIGlmIChwZXJtaXNzaW9uID09PSAnbWFuYWdlJykge1xuICAgIHJldHVybiBtZW1iZXIuY2FuX21hbmFnZV90ZWFtIHx8IFsnb3duZXInLCAnYWRtaW4nXS5pbmNsdWRlcyhtZW1iZXIucHJvamVjdF9yb2xlKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNpZ24gb3V0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbk91dCgpIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KCk7XG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNpZ25pbmcgb3V0OicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBzaWduIGluIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluV2l0aEVtYWlsKGVtYWlsLCBwYXNzd29yZCkge1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpO1xuICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBzaWduIGluIHdpdGggZW1haWw6JywgZW1haWwpO1xuICBcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQoe1xuICAgIGVtYWlsLFxuICAgIHBhc3N3b3JkXG4gIH0pO1xuICBcbiAgY29uc29sZS5sb2coJ1NpZ24gaW4gcmVzcG9uc2U6JywgeyBcbiAgICBoYXNEYXRhOiAhIWRhdGEsIFxuICAgIGhhc1VzZXI6ICEhZGF0YT8udXNlcixcbiAgICBoYXNTZXNzaW9uOiAhIWRhdGE/LnNlc3Npb24sXG4gICAgZXJyb3I6IGVycm9yPy5tZXNzYWdlIFxuICB9KTtcbiAgXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1NpZ24gaW4gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cbiAgXG4gIGlmICghZGF0YSB8fCAhZGF0YS51c2VyKSB7XG4gICAgY29uc29sZS5lcnJvcignTm8gdXNlciBkYXRhIHJldHVybmVkIGZyb20gc2lnbiBpbicpO1xuICAgIHJldHVybiB7IGVycm9yOiAnU2lnbiBpbiBmYWlsZWQgLSBubyB1c2VyIGRhdGEgcmV0dXJuZWQnIH07XG4gIH1cbiAgXG4gIHJldHVybiB7IHVzZXI6IGRhdGEudXNlciwgc2Vzc2lvbjogZGF0YS5zZXNzaW9uIH07XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBzaWduIGluIHdpdGggbWFnaWMgbGlua1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbldpdGhNYWdpY0xpbmsoZW1haWwpIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoT3RwKHtcbiAgICBlbWFpbCxcbiAgICBvcHRpb25zOiB7XG4gICAgICBlbWFpbFJlZGlyZWN0VG86IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2F1dGgvY2FsbGJhY2tgXG4gICAgfVxuICB9KTtcbiAgXG4gIGlmIChlcnJvcikge1xuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cbiAgXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNpZ24gdXBcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduVXAoZW1haWwsIHBhc3N3b3JkLCBmdWxsTmFtZSA9ICcnKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnblVwKHtcbiAgICBlbWFpbCxcbiAgICBwYXNzd29yZCxcbiAgICBvcHRpb25zOiB7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIGZ1bGxfbmFtZTogZnVsbE5hbWVcbiAgICAgIH0sXG4gICAgICBlbWFpbFJlZGlyZWN0VG86IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2F1dGgvY2FsbGJhY2tgXG4gICAgfVxuICB9KTtcbiAgXG4gIGlmIChlcnJvcikge1xuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cbiAgXG4gIC8vIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBleGlzdHMgKFN1cGFiYXNlIHJldHVybnMgdXNlciBvYmplY3QgYnV0IGlkZW50aXRpZXMgYXJyYXkgaXMgZW1wdHkgZm9yIGV4aXN0aW5nIHVzZXJzKVxuICBpZiAoZGF0YS51c2VyICYmIGRhdGEudXNlci5pZGVudGl0aWVzICYmIGRhdGEudXNlci5pZGVudGl0aWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IFxuICAgICAgZXJyb3I6ICdBIHVzZXIgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzLiBQbGVhc2Ugc2lnbiBpbiBpbnN0ZWFkLicsXG4gICAgICB1c2VyRXhpc3RzOiB0cnVlIFxuICAgIH07XG4gIH1cbiAgXG4gIHJldHVybiB7IHVzZXI6IGRhdGEudXNlciB9O1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmVzZXQgcGFzc3dvcmRcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNldFBhc3N3b3JkKGVtYWlsKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIHJlc2V0IHBhc3N3b3JkIGZvcjonLCBlbWFpbCk7XG4gIFxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnJlc2V0UGFzc3dvcmRGb3JFbWFpbChlbWFpbCwge1xuICAgIHJlZGlyZWN0VG86IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2F1dGgvdXBkYXRlLXBhc3N3b3JkYFxuICB9KTtcbiAgXG4gIGNvbnNvbGUubG9nKCdSZXNldCBwYXNzd29yZCByZXNwb25zZTonLCB7IGRhdGEsIGVycm9yIH0pO1xuICBcbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUmVzZXQgcGFzc3dvcmQgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gIH1cbiAgXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHVwZGF0ZSBwYXNzd29yZFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBhc3N3b3JkKG5ld1Bhc3N3b3JkKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgudXBkYXRlVXNlcih7XG4gICAgcGFzc3dvcmQ6IG5ld1Bhc3N3b3JkXG4gIH0pO1xuICBcbiAgaWYgKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgfVxuICBcbiAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gbG9nIHVzZXIgYWN0aXZpdHlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dBY3Rpdml0eShhY3Rpb24sIHByb2plY3RJZCA9IG51bGwsIHJlc291cmNlVHlwZSA9IG51bGwsIHJlc291cmNlSWQgPSBudWxsLCBkZXRhaWxzID0ge30pIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gIFxuICBpZiAoIXVzZXIpIHJldHVybjtcblxuICB0cnkge1xuICAgIGF3YWl0IHN1cGFiYXNlLnJwYygnYWxvYV9sb2dfdXNlcl9hY3Rpdml0eScsIHtcbiAgICAgIHBfdXNlcl9pZDogdXNlci5pZCxcbiAgICAgIHBfcHJvamVjdF9pZDogcHJvamVjdElkLFxuICAgICAgcF9hY3Rpb246IGFjdGlvbixcbiAgICAgIHBfcmVzb3VyY2VfdHlwZTogcmVzb3VyY2VUeXBlLFxuICAgICAgcF9yZXNvdXJjZV9pZDogcmVzb3VyY2VJZCxcbiAgICAgIHBfZGV0YWlsczogZGV0YWlscyxcbiAgICAgIHBfdXNlcl9hZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2cgYWN0aXZpdHk6JywgZXJyb3IpO1xuICB9XG59Il0sIm5hbWVzIjpbImNyZWF0ZUJyb3dzZXJDbGllbnQiLCJjcmVhdGVDbGllbnQiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwia2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9QVUJMSVNIQUJMRV9LRVkiLCJjb25zb2xlIiwibG9nIiwia2V5UHJlZml4Iiwic3Vic3RyaW5nIiwiZXJyb3IiLCJFcnJvciIsImdldEN1cnJlbnRVc2VyIiwic3VwYWJhc2UiLCJkYXRhIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwicHJvZmlsZSIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlkIiwic2luZ2xlIiwiaGFzUm9sZSIsInJlcXVpcmVkUm9sZSIsInJvbGUiLCJoYXNQcm9qZWN0UGVybWlzc2lvbiIsInByb2plY3RJZCIsInBlcm1pc3Npb24iLCJtZW1iZXIiLCJjYW5fZWRpdCIsImluY2x1ZGVzIiwicHJvamVjdF9yb2xlIiwiY2FuX2RlbGV0ZSIsImNhbl9tYW5hZ2VfdGVhbSIsInNpZ25PdXQiLCJzaWduSW5XaXRoRW1haWwiLCJlbWFpbCIsInBhc3N3b3JkIiwic2lnbkluV2l0aFBhc3N3b3JkIiwiaGFzRGF0YSIsImhhc1VzZXIiLCJoYXNTZXNzaW9uIiwic2Vzc2lvbiIsIm1lc3NhZ2UiLCJzaWduSW5XaXRoTWFnaWNMaW5rIiwic2lnbkluV2l0aE90cCIsIm9wdGlvbnMiLCJlbWFpbFJlZGlyZWN0VG8iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsInN1Y2Nlc3MiLCJzaWduVXAiLCJmdWxsTmFtZSIsImZ1bGxfbmFtZSIsImlkZW50aXRpZXMiLCJsZW5ndGgiLCJ1c2VyRXhpc3RzIiwicmVzZXRQYXNzd29yZCIsInJlc2V0UGFzc3dvcmRGb3JFbWFpbCIsInJlZGlyZWN0VG8iLCJ1cGRhdGVQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwidXBkYXRlVXNlciIsImxvZ0FjdGl2aXR5IiwiYWN0aW9uIiwicmVzb3VyY2VUeXBlIiwicmVzb3VyY2VJZCIsImRldGFpbHMiLCJycGMiLCJwX3VzZXJfaWQiLCJwX3Byb2plY3RfaWQiLCJwX2FjdGlvbiIsInBfcmVzb3VyY2VfdHlwZSIsInBfcmVzb3VyY2VfaWQiLCJwX2RldGFpbHMiLCJwX3VzZXJfYWdlbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/supabase-auth.js\n"));

/***/ })

});