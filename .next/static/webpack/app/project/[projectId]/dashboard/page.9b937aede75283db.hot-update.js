"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/project/[projectId]/dashboard/page",{

/***/ "(app-pages-browser)/./app/project/[projectId]/dashboard/page.js":
/*!***************************************************!*\
  !*** ./app/project/[projectId]/dashboard/page.js ***!
  \***************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ClientDashboardPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/palette.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/lock.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pen.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/external-link.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dynamic */ \"(app-pages-browser)/./node_modules/next/dist/api/app-dynamic.js\");\n/* harmony import */ var _components_MultiStepFormRenderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/MultiStepFormRenderer */ \"(app-pages-browser)/./components/MultiStepFormRenderer.js\");\n/* harmony import */ var _components_AuthGuard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/AuthGuard */ \"(app-pages-browser)/./components/AuthGuard.js\");\n/* harmony import */ var _hooks_useEscapeKey__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/hooks/useEscapeKey */ \"(app-pages-browser)/./hooks/useEscapeKey.js\");\n/* harmony import */ var _lib_supabase_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/supabase-browser */ \"(app-pages-browser)/./lib/supabase-browser.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n// Dynamic imports for heavy components\nconst ConfettiCelebration = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_components_ConfettiCelebration_js\").then(__webpack_require__.bind(__webpack_require__, /*! @/components/ConfettiCelebration */ \"(app-pages-browser)/./components/ConfettiCelebration.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"app/project/[projectId]/dashboard/page.js -> \" + \"@/components/ConfettiCelebration\"\n        ]\n    },\n    ssr: false\n});\n_c = ConfettiCelebration;\nfunction ClientDashboard() {\n    var _selectedApplet_config, _selectedApplet_config1, _selectedApplet_config2, _selectedApplet_config3, _selectedApplet_config4, _selectedApplet_config5, _selectedApplet_config6, _selectedApplet_config7;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [project, setProject] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [projectlets, setProjectlets] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [selectedApplet, setSelectedApplet] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showFormModal, setShowFormModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showConfetti, setShowConfetti] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [completedApplets, setCompletedApplets] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [stats, setStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        totalApplets: 0,\n        completedApplets: 0,\n        progressPercentage: 0\n    });\n    const [formProgress, setFormProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}); // Store progress for each form\n    const [userId, setUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // Track user ID\n    const [userFormResponses, setUserFormResponses] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}); // Track actual form submissions by form ID\n    const [isFormViewOnly, setIsFormViewOnly] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Track if form is in view-only mode\n    const [showLinkSubmissionModal, setShowLinkSubmissionModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Track link submission modal\n    const [showFileUploadModal, setShowFileUploadModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Track file upload modal\n    // ESC key handlers for modals\n    (0,_hooks_useEscapeKey__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(()=>{\n        setShowFormModal(false);\n        setIsFormViewOnly(false);\n    }, showFormModal);\n    (0,_hooks_useEscapeKey__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(()=>{\n        setShowLinkSubmissionModal(false);\n    }, showLinkSubmissionModal);\n    (0,_hooks_useEscapeKey__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(()=>{\n        setShowFileUploadModal(false);\n    }, showFileUploadModal);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Get authenticated user's ID\n        const getAuthenticatedUser = async ()=>{\n            const supabase = (0,_lib_supabase_browser__WEBPACK_IMPORTED_MODULE_7__.createClient)();\n            const { data: { user }, error } = await supabase.auth.getUser();\n            if (user) {\n                setUserId(user.id);\n            } else {\n                console.error(\"No authenticated user found:\", error);\n                // Fallback to localStorage for anonymous users (shouldn't happen with AuthGuard)\n                const storedUserId = localStorage.getItem(\"client_user_id\");\n                if (storedUserId) {\n                    setUserId(storedUserId);\n                } else {\n                    const newUserId = \"anon_\".concat(Date.now(), \"_\").concat(Math.random().toString(36).substr(2, 9));\n                    localStorage.setItem(\"client_user_id\", newUserId);\n                    setUserId(newUserId);\n                }\n            }\n        };\n        getAuthenticatedUser();\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (userId) {\n            fetchProjectData();\n        }\n    }, [\n        params.projectId,\n        userId\n    ]);\n    const fetchProjectData = async ()=>{\n        try {\n            var _data_projectlets;\n            // Fetch project data and projectlets from client-view endpoint with user ID\n            const response = await fetch(\"/api/aloa-projects/\".concat(params.projectId, \"/client-view?userId=\").concat(userId));\n            const data = await response.json();\n            setProject(data.project);\n            setProjectlets(data.projectlets || []);\n            setStats(data.stats || {\n                totalApplets: 0,\n                completedApplets: 0,\n                progressPercentage: 0\n            });\n            // Build completed set from user-specific status\n            const completed = new Set();\n            (_data_projectlets = data.projectlets) === null || _data_projectlets === void 0 ? void 0 : _data_projectlets.forEach((projectlet)=>{\n                var _projectlet_applets;\n                (_projectlet_applets = projectlet.applets) === null || _projectlet_applets === void 0 ? void 0 : _projectlet_applets.forEach((applet)=>{\n                    // Use user-specific status if available, otherwise fallback to default\n                    const status = applet.user_status || applet.status;\n                    if (status === \"completed\" || status === \"approved\") {\n                        completed.add(applet.id);\n                    }\n                    // Restore form progress if available\n                    if (applet.form_progress && applet.form_id) {\n                        setFormProgress((prev)=>({\n                                ...prev,\n                                [applet.form_id]: applet.form_progress\n                            }));\n                    }\n                });\n            });\n            setCompletedApplets(completed);\n            // Fetch all form responses for this user to properly track submissions\n            try {\n                var _data_projectlets1;\n                const formIds = new Set();\n                (_data_projectlets1 = data.projectlets) === null || _data_projectlets1 === void 0 ? void 0 : _data_projectlets1.forEach((projectlet)=>{\n                    var _projectlet_applets;\n                    (_projectlet_applets = projectlet.applets) === null || _projectlet_applets === void 0 ? void 0 : _projectlet_applets.forEach((applet)=>{\n                        var _applet_config;\n                        if (applet.type === \"form\" && (applet.form_id || ((_applet_config = applet.config) === null || _applet_config === void 0 ? void 0 : _applet_config.form_id))) {\n                            var _applet_config1;\n                            formIds.add(applet.form_id || ((_applet_config1 = applet.config) === null || _applet_config1 === void 0 ? void 0 : _applet_config1.form_id));\n                        }\n                    });\n                });\n                // Fetch responses for all forms\n                const formResponses = {};\n                for (const formId of formIds){\n                    const responseRes = await fetch(\"/api/aloa-responses?form_id=\".concat(formId, \"&user_id=\").concat(userId));\n                    if (responseRes.ok) {\n                        const responseData = await responseRes.json();\n                        if (responseData.responses && responseData.responses.length > 0) {\n                            formResponses[formId] = responseData.responses[0];\n                        }\n                    }\n                }\n                setUserFormResponses(formResponses);\n                console.log(\"User form responses loaded:\", formResponses);\n            } catch (error) {\n                console.error(\"Error fetching form responses:\", error);\n            }\n        } catch (error) {\n            console.error(\"Error fetching project:\", error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleAppletClick = async function(applet, projectlet) {\n        let isViewOnly = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n        var _applet_config, _applet_form;\n        // For forms, allow editing if completed but not locked\n        const isForm = applet.type === \"form\";\n        const isLinkSubmission = applet.type === \"link_submission\";\n        const isFileUpload = applet.type === \"upload\" || applet.type === \"file_upload\";\n        const formId = applet.form_id || ((_applet_config = applet.config) === null || _applet_config === void 0 ? void 0 : _applet_config.form_id);\n        const formIsLocked = isForm && ((_applet_form = applet.form) === null || _applet_form === void 0 ? void 0 : _applet_form.status) === \"closed\";\n        const userHasCompleted = isForm && formId ? userFormResponses[formId] : completedApplets.has(applet.id);\n        // Block if:\n        // 1. Non-form, non-link-submission, non-file-upload applet that's already completed\n        // 2. Form that's locked and user hasn't submitted (can't start new)\n        // Link submissions and file uploads should always be viewable even after completion\n        if (!isForm && !isLinkSubmission && !isFileUpload && userHasCompleted || isForm && formIsLocked && !userHasCompleted) {\n            return; // Cannot proceed\n        }\n        // Only mark as in_progress if not already completed\n        if (!completedApplets.has(applet.id)) {\n            await fetch(\"/api/aloa-projects/\".concat(params.projectId, \"/client-view\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    appletId: applet.id,\n                    status: \"in_progress\",\n                    interactionType: \"view\",\n                    userId: userId\n                })\n            });\n        }\n        if (applet.type === \"form\") {\n            var _applet_config1;\n            // Check for form_id in multiple places\n            const formId = applet.form_id || ((_applet_config1 = applet.config) === null || _applet_config1 === void 0 ? void 0 : _applet_config1.form_id);\n            if (!formId) {\n                console.error(\"No form_id found for applet:\", applet);\n                alert(\"This form is not properly configured. Please contact support.\");\n                return;\n            }\n            // Set view-only mode if form is locked (isViewOnly parameter is true)\n            setIsFormViewOnly(isViewOnly);\n            // If user has already completed this form, get their previous responses\n            let previousResponses = null;\n            if (userHasCompleted && userFormResponses[formId]) {\n                previousResponses = userFormResponses[formId].response_data;\n                console.log(\"Loaded previous responses for\", isViewOnly ? \"viewing\" : \"editing\", \":\", previousResponses);\n            }\n            // Use form data from applet if available, otherwise fetch\n            if (applet.form) {\n                var _form_aloa_form_fields, _transformedForm_fields, _applet_config2;\n                // Transform the preloaded form data to match MultiStepFormRenderer's expected structure\n                const form = applet.form;\n                const sortedFields = ((_form_aloa_form_fields = form.aloa_form_fields) === null || _form_aloa_form_fields === void 0 ? void 0 : _form_aloa_form_fields.sort((a, b)=>(a.field_order || 0) - (b.field_order || 0))) || [];\n                const transformedForm = {\n                    ...form,\n                    _id: form.id,\n                    urlId: form.url_id,\n                    fields: sortedFields.map((field)=>{\n                        var _field_validation;\n                        return {\n                            _id: field.id,\n                            label: field.field_label,\n                            name: field.field_name,\n                            type: field.field_type,\n                            position: field.field_order,\n                            section: ((_field_validation = field.validation) === null || _field_validation === void 0 ? void 0 : _field_validation.section) || \"General Information\",\n                            required: field.required,\n                            placeholder: field.placeholder,\n                            options: Array.isArray(field.options) ? field.options : typeof field.options === \"string\" ? JSON.parse(field.options) : field.options,\n                            validation: field.validation\n                        };\n                    })\n                };\n                console.log(\"Transformed preloaded form:\", transformedForm);\n                console.log(\"Form fields count:\", (_transformedForm_fields = transformedForm.fields) === null || _transformedForm_fields === void 0 ? void 0 : _transformedForm_fields.length);\n                console.log(\"Form fields:\", transformedForm.fields);\n                setFormData(transformedForm);\n                setSelectedApplet({\n                    ...applet,\n                    projectlet,\n                    form_id: applet.form_id || ((_applet_config2 = applet.config) === null || _applet_config2 === void 0 ? void 0 : _applet_config2.form_id)\n                });\n                // If we have previous responses, set them as saved progress\n                if (previousResponses) {\n                    setFormProgress((prev)=>({\n                            ...prev,\n                            [formId]: {\n                                data: previousResponses\n                            }\n                        }));\n                }\n                setShowFormModal(true);\n            } else {\n                try {\n                    var _form_aloa_form_fields1;\n                    const formRes = await fetch(\"/api/aloa-forms/\".concat(formId));\n                    if (!formRes.ok) {\n                        throw new Error(\"Failed to fetch form: \".concat(formRes.status));\n                    }\n                    const form = await formRes.json();\n                    console.log(\"Fetched form:\", form);\n                    // Transform the form data to match MultiStepFormRenderer's expected structure\n                    const sortedFields = ((_form_aloa_form_fields1 = form.aloa_form_fields) === null || _form_aloa_form_fields1 === void 0 ? void 0 : _form_aloa_form_fields1.sort((a, b)=>(a.field_order || 0) - (b.field_order || 0))) || [];\n                    const transformedForm = {\n                        ...form,\n                        _id: form.id,\n                        urlId: form.url_id,\n                        fields: sortedFields.map((field)=>{\n                            var _field_validation;\n                            return {\n                                _id: field.id,\n                                label: field.field_label,\n                                name: field.field_name,\n                                type: field.field_type,\n                                position: field.field_order,\n                                section: ((_field_validation = field.validation) === null || _field_validation === void 0 ? void 0 : _field_validation.section) || \"General Information\",\n                                required: field.required,\n                                placeholder: field.placeholder,\n                                options: Array.isArray(field.options) ? field.options : typeof field.options === \"string\" ? JSON.parse(field.options) : field.options,\n                                validation: field.validation\n                            };\n                        })\n                    };\n                    console.log(\"Transformed form:\", transformedForm);\n                    setFormData(transformedForm);\n                    setSelectedApplet({\n                        ...applet,\n                        projectlet,\n                        form_id: formId\n                    });\n                    // If we have previous responses, set them as saved progress\n                    if (previousResponses) {\n                        setFormProgress((prev)=>({\n                                ...prev,\n                                [formId]: {\n                                    data: previousResponses\n                                }\n                            }));\n                    }\n                    setShowFormModal(true);\n                } catch (error) {\n                    console.error(\"Error fetching form:\", error);\n                    alert(\"Unable to load the form. Please try again later.\");\n                }\n            }\n        } else if (applet.type === \"link_submission\") {\n            // Handle link submission applet\n            setSelectedApplet({\n                ...applet,\n                projectlet\n            });\n            setShowLinkSubmissionModal(true);\n        } else if (isFileUpload) {\n            // Handle file upload applet\n            setSelectedApplet({\n                ...applet,\n                projectlet\n            });\n            setShowFileUploadModal(true);\n        }\n    };\n    const handleFormSubmit = async (responses)=>{\n        try {\n            var _selectedApplet_form, _selectedApplet_form1;\n            // Get CSRF token (generate a simple one for now)\n            const csrfToken = Math.random().toString(36).substring(2);\n            document.cookie = \"csrf-token=\".concat(csrfToken, \"; path=/\");\n            // Submit form response with project ID and user ID\n            const responseResult = await fetch(\"/api/aloa-responses\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"X-CSRF-Token\": csrfToken\n                },\n                body: JSON.stringify({\n                    formId: selectedApplet.form_id || ((_selectedApplet_form = selectedApplet.form) === null || _selectedApplet_form === void 0 ? void 0 : _selectedApplet_form.id),\n                    projectId: params.projectId,\n                    userId: userId,\n                    data: responses\n                })\n            });\n            if (!responseResult.ok) {\n                console.error(\"Failed to submit form response:\", await responseResult.text());\n            }\n            // Mark applet as completed for this user\n            const updateResult = await fetch(\"/api/aloa-projects/\".concat(params.projectId, \"/client-view\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    appletId: selectedApplet.id,\n                    status: \"completed\",\n                    interactionType: \"submission\",\n                    userId: userId,\n                    data: {\n                        form_responses: responses\n                    }\n                })\n            });\n            if (!updateResult.ok) {\n                console.error(\"Failed to update applet status:\", await updateResult.text());\n                throw new Error(\"Failed to mark form as completed\");\n            }\n            // Update local state\n            const newCompleted = new Set(completedApplets);\n            newCompleted.add(selectedApplet.id);\n            setCompletedApplets(newCompleted);\n            // Update form responses state to track this submission\n            const formId = selectedApplet.form_id || ((_selectedApplet_form1 = selectedApplet.form) === null || _selectedApplet_form1 === void 0 ? void 0 : _selectedApplet_form1.id);\n            if (formId) {\n                setUserFormResponses((prev)=>({\n                        ...prev,\n                        [formId]: {\n                            response_data: responses,\n                            submitted_at: new Date().toISOString()\n                        }\n                    }));\n                // Clear saved progress for this form since it's completed\n                setFormProgress((prev)=>{\n                    const newProgress = {\n                        ...prev\n                    };\n                    delete newProgress[formId];\n                    return newProgress;\n                });\n            }\n            // Close modal and show celebration\n            setShowFormModal(false);\n            setShowConfetti(true);\n            setTimeout(()=>setShowConfetti(false), 7000);\n            // Refresh data to get updated status from server\n            fetchProjectData();\n        } catch (error) {\n            console.error(\"Error submitting form:\", error);\n            alert(\"There was an error submitting the form. Please try again.\");\n        }\n    };\n    const getAppletIcon = (type)=>{\n        const icons = {\n            form: _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n            upload: _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n            review: _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n            moodboard: _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n            content_gather: _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n        };\n        return icons[type] || _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\n    };\n    const calculateProgress = ()=>{\n        return stats.progressPercentage || 0;\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600\"\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 410,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n            lineNumber: 409,\n            columnNumber: 7\n        }, this);\n    }\n    const progress = calculateProgress();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfettiCelebration, {\n                show: showConfetti,\n                duration: 6000\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 419,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white shadow-sm border-b\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-3xl font-bold text-gray-900\",\n                                        children: (project === null || project === void 0 ? void 0 : project.project_name) || (project === null || project === void 0 ? void 0 : project.name) || \"Project Dashboard\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 426,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-600 mt-1\",\n                                        children: \"Welcome to your project workspace\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 427,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 425,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-20 h-20 transform -rotate-90\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                cx: \"40\",\n                                                cy: \"40\",\n                                                r: \"36\",\n                                                stroke: \"currentColor\",\n                                                strokeWidth: \"8\",\n                                                fill: \"none\",\n                                                className: \"text-gray-200\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 433,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                cx: \"40\",\n                                                cy: \"40\",\n                                                r: \"36\",\n                                                stroke: \"currentColor\",\n                                                strokeWidth: \"8\",\n                                                fill: \"none\",\n                                                strokeDasharray: \"\".concat(progress * 2.26, \" 226\"),\n                                                className: \"text-purple-600 transition-all duration-500\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 442,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 432,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xl font-bold\",\n                                            children: [\n                                                progress,\n                                                \"%\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 454,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 453,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 431,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                        lineNumber: 424,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                    lineNumber: 423,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 422,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl p-6 shadow-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"Tasks Complete\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 468,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold\",\n                                                    children: stats.completedApplets || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 469,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 467,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                            className: \"w-8 h-8 text-green-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 471,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 466,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 465,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl p-6 shadow-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"In Progress\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 478,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold\",\n                                                    children: (()=>{\n                                                        // Count applets that are in progress (started but not completed)\n                                                        let inProgressCount = 0;\n                                                        projectlets.forEach((projectlet)=>{\n                                                            var _projectlet_applets;\n                                                            (_projectlet_applets = projectlet.applets) === null || _projectlet_applets === void 0 ? void 0 : _projectlet_applets.forEach((applet)=>{\n                                                                const status = applet.user_status || applet.status;\n                                                                if (status === \"in_progress\" || status === \"started\") {\n                                                                    inProgressCount++;\n                                                                }\n                                                            });\n                                                        });\n                                                        return inProgressCount;\n                                                    })()\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 479,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 477,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            className: \"w-8 h-8 text-yellow-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 495,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 476,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 475,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl p-6 shadow-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"Locked\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 502,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold\",\n                                                    children: projectlets.filter((p)=>p.status === \"locked\").length\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 503,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 501,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                            className: \"w-8 h-8 text-gray-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 507,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 500,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 499,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl p-6 shadow-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"Achievement\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 514,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold\",\n                                                    children: \"\\uD83C\\uDFC6\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 515,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 513,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                            className: \"w-8 h-8 text-purple-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 517,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 512,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 511,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                        lineNumber: 464,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-xl font-bold text-gray-900\",\n                                children: \"Your Project Journey\"\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 524,\n                                columnNumber: 11\n                            }, this),\n                            projectlets.map((projectlet, index)=>{\n                                const isLocked = projectlet.status === \"locked\";\n                                const isCompleted = projectlet.status === \"completed\";\n                                const applets = projectlet.applets || [];\n                                // Check if projectlet is in progress (has started applets but not all complete)\n                                const hasStartedApplets = applets.some((applet)=>{\n                                    const status = applet.user_status || applet.status;\n                                    return status === \"in_progress\" || status === \"started\" || status === \"completed\" || status === \"approved\";\n                                });\n                                const allAppletsComplete = applets.length > 0 && applets.every((applet)=>{\n                                    const status = applet.user_status || applet.status;\n                                    return status === \"completed\" || status === \"approved\";\n                                });\n                                const isInProgress = hasStartedApplets && !allAppletsComplete;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white rounded-xl shadow-sm overflow-hidden \".concat(isLocked ? \"opacity-60\" : \"\"),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-6 border-b \".concat(isCompleted ? \"bg-green-50\" : isInProgress ? \"bg-yellow-50\" : isLocked ? \"bg-gray-50\" : \"bg-white\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center space-x-4\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-10 h-10 rounded-full flex items-center justify-center \".concat(isCompleted ? \"bg-green-100 text-green-600\" : isInProgress ? \"bg-yellow-100 text-yellow-600\" : isLocked ? \"bg-gray-100 text-gray-400\" : \"bg-purple-100 text-purple-600\"),\n                                                                children: isCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                    className: \"w-6 h-6\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 563,\n                                                                    columnNumber: 40\n                                                                }, this) : isInProgress ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                    className: \"w-6 h-6\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 564,\n                                                                    columnNumber: 41\n                                                                }, this) : isLocked ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                                    className: \"w-6 h-6\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 565,\n                                                                    columnNumber: 37\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-bold\",\n                                                                    children: index + 1\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 566,\n                                                                    columnNumber: 26\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                lineNumber: 557,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                        className: \"font-bold text-lg\",\n                                                                        children: projectlet.name\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                        lineNumber: 569,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    projectlet.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm text-gray-600\",\n                                                                        children: projectlet.description\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                        lineNumber: 571,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                lineNumber: 568,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                        lineNumber: 556,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    projectlet.deadline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: [\n                                                            \"Due: \",\n                                                            new Date(projectlet.deadline).toLocaleDateString()\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                        lineNumber: 577,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 555,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 550,\n                                            columnNumber: 17\n                                        }, this),\n                                        !isLocked && applets.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-6 \".concat(isInProgress ? \"bg-yellow-50/50\" : \"\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: applets.map((applet)=>{\n                                                    var _applet_config, _applet_form, _applet_form1, _applet_config1, _applet_config2;\n                                                    const Icon = getAppletIcon(applet.type);\n                                                    const isAppletCompleted = completedApplets.has(applet.id);\n                                                    // Check if it's a form and whether it's still accepting responses\n                                                    const isForm = applet.type === \"form\";\n                                                    const formId = applet.form_id || ((_applet_config = applet.config) === null || _applet_config === void 0 ? void 0 : _applet_config.form_id);\n                                                    const formIsLocked = isForm && ((_applet_form = applet.form) === null || _applet_form === void 0 ? void 0 : _applet_form.status) === \"closed\";\n                                                    // Check actual form submissions, not just applet status\n                                                    const userHasSubmitted = isForm && formId && userFormResponses[formId];\n                                                    // Determine display state\n                                                    let buttonState = \"available\";\n                                                    let statusMessage = null;\n                                                    // Get completion date if available\n                                                    const completionDate = applet.user_completed_at ? new Date(applet.user_completed_at).toLocaleDateString(\"en-US\", {\n                                                        month: \"short\",\n                                                        day: \"numeric\",\n                                                        year: \"numeric\"\n                                                    }) : null;\n                                                    if (isForm) {\n                                                        var _userFormResponses_formId;\n                                                        const submissionDate = userHasSubmitted && ((_userFormResponses_formId = userFormResponses[formId]) === null || _userFormResponses_formId === void 0 ? void 0 : _userFormResponses_formId.submitted_at) ? new Date(userFormResponses[formId].submitted_at).toLocaleDateString(\"en-US\", {\n                                                            month: \"short\",\n                                                            day: \"numeric\",\n                                                            year: \"numeric\"\n                                                        }) : completionDate;\n                                                        if (userHasSubmitted && formIsLocked) {\n                                                            // User has submitted AND form is locked - can view only\n                                                            buttonState = \"completed-locked\";\n                                                            statusMessage = submissionDate ? \"Form submitted on \".concat(submissionDate, \" • Locked\") : \"Form completed & locked. No longer accepting responses.\";\n                                                        } else if (userHasSubmitted && !formIsLocked) {\n                                                            // User has submitted but form still accepting responses - can edit\n                                                            buttonState = \"user-complete-editable\";\n                                                            statusMessage = submissionDate ? \"Submitted on \".concat(submissionDate, \" • Click to edit\") : \"Form completed! We are still awaiting other responses. Want to make a change? Click the pencil icon.\";\n                                                        } else if (formIsLocked) {\n                                                            // Form is locked but user hasn't submitted\n                                                            buttonState = \"locked\";\n                                                            statusMessage = \"Form closed to new responses\";\n                                                        }\n                                                    } else if (applet.type === \"link_submission\" && isAppletCompleted) {\n                                                        // Link submissions should be viewable even after completion\n                                                        buttonState = \"link-completed\";\n                                                        statusMessage = completionDate ? \"Links reviewed on \".concat(completionDate) : \"Links reviewed - click to view again\";\n                                                    } else if ((applet.type === \"upload\" || applet.type === \"file_upload\") && isAppletCompleted) {\n                                                        // File uploads should be viewable even after completion\n                                                        buttonState = \"file-completed\";\n                                                        statusMessage = completionDate ? \"Files reviewed on \".concat(completionDate) : \"Files reviewed - click to view again\";\n                                                    } else if (isAppletCompleted) {\n                                                        buttonState = \"completed\";\n                                                        statusMessage = completionDate ? \"Completed on \".concat(completionDate) : null;\n                                                    }\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleAppletClick(applet, projectlet, buttonState === \"completed-locked\"),\n                                                        disabled: buttonState === \"locked\" || buttonState === \"completed\" && applet.type !== \"link_submission\" && applet.type !== \"upload\" && applet.type !== \"file_upload\",\n                                                        className: \"w-full p-4 rounded-lg border-2 transition-all \".concat(buttonState === \"completed-locked\" ? \"bg-green-50 border-green-300 hover:border-green-400 hover:shadow-md cursor-pointer\" : buttonState === \"user-complete-editable\" ? \"bg-green-50 border-green-300 hover:border-green-400 hover:shadow-md cursor-pointer\" : buttonState === \"link-completed\" ? \"bg-green-50 border-green-300 hover:border-green-400 hover:shadow-md cursor-pointer\" : buttonState === \"file-completed\" ? \"bg-green-50 border-green-300 hover:border-green-400 hover:shadow-md cursor-pointer\" : buttonState === \"locked\" ? \"bg-gray-50 border-gray-300 cursor-default opacity-75\" : buttonState === \"completed\" ? \"bg-green-50 border-green-300 cursor-default\" : \"bg-white border-gray-200 hover:border-purple-300 hover:shadow-md cursor-pointer\"),\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center space-x-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"p-2 rounded-lg \".concat(buttonState === \"completed-locked\" || buttonState === \"user-complete-editable\" || buttonState === \"link-completed\" ? \"bg-green-100\" : buttonState === \"file-completed\" ? \"bg-green-100\" : buttonState === \"locked\" ? \"bg-gray-100\" : buttonState === \"completed\" ? \"bg-green-100\" : \"bg-purple-100\"),\n                                                                            children: buttonState === \"completed-locked\" || buttonState === \"user-complete-editable\" || buttonState === \"completed\" || buttonState === \"link-completed\" || buttonState === \"file-completed\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                                className: \"w-5 h-5 text-green-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                lineNumber: 684,\n                                                                                columnNumber: 37\n                                                                            }, this) : buttonState === \"locked\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                                                className: \"w-5 h-5 text-gray-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                lineNumber: 686,\n                                                                                columnNumber: 37\n                                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {\n                                                                                className: \"w-5 h-5 text-purple-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                lineNumber: 688,\n                                                                                columnNumber: 37\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                            lineNumber: 676,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-left\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: applet.type === \"form\" && ((_applet_form1 = applet.form) === null || _applet_form1 === void 0 ? void 0 : _applet_form1.title) ? applet.form.title : applet.type === \"link_submission\" && ((_applet_config1 = applet.config) === null || _applet_config1 === void 0 ? void 0 : _applet_config1.heading) ? applet.config.heading : (applet.type === \"upload\" || applet.type === \"file_upload\") && ((_applet_config2 = applet.config) === null || _applet_config2 === void 0 ? void 0 : _applet_config2.heading) ? applet.config.heading : applet.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                    lineNumber: 692,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                statusMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"text-sm text-gray-600 italic\",\n                                                                                    children: statusMessage\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                    lineNumber: 702,\n                                                                                    columnNumber: 37\n                                                                                }, this) : applet.client_instructions ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"text-sm text-gray-600\",\n                                                                                    children: applet.client_instructions\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                    lineNumber: 704,\n                                                                                    columnNumber: 37\n                                                                                }, this) : null\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                            lineNumber: 691,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 675,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                buttonState === \"locked\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                                    className: \"w-5 h-5 text-gray-500\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 710,\n                                                                    columnNumber: 33\n                                                                }, this) : buttonState === \"user-complete-editable\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                                    className: \"w-5 h-5 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 712,\n                                                                    columnNumber: 33\n                                                                }, this) : buttonState === \"completed-locked\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                                    className: \"w-5 h-5 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 714,\n                                                                    columnNumber: 33\n                                                                }, this) : buttonState === \"link-completed\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                                    className: \"w-5 h-5 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 716,\n                                                                    columnNumber: 33\n                                                                }, this) : buttonState === \"file-completed\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                                    className: \"w-5 h-5 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 718,\n                                                                    columnNumber: 33\n                                                                }, this) : buttonState === \"completed\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                    className: \"w-6 h-6 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 720,\n                                                                    columnNumber: 33\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-purple-600\",\n                                                                    children: applet.type === \"upload\" || applet.type === \"file_upload\" ? \"Review Files →\" : \"Start →\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 722,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 674,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, applet.id, false, {\n                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                        lineNumber: 654,\n                                                        columnNumber: 27\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 587,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 586,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, projectlet.id, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 543,\n                                    columnNumber: 15\n                                }, this);\n                            })\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                        lineNumber: 523,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 462,\n                columnNumber: 7\n            }, this),\n            showFormModal && formData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FormModal, {\n                form: formData,\n                onSubmit: handleFormSubmit,\n                onClose: ()=>{\n                    // Save progress when closing\n                    if (selectedApplet === null || selectedApplet === void 0 ? void 0 : selectedApplet.form_id) {\n                    // Progress is automatically saved via onProgressUpdate\n                    }\n                    setShowFormModal(false);\n                    setIsFormViewOnly(false); // Reset view-only mode when closing\n                },\n                savedProgress: formProgress[selectedApplet === null || selectedApplet === void 0 ? void 0 : selectedApplet.form_id],\n                onProgressUpdate: null,\n                isViewOnly: isFormViewOnly\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 741,\n                columnNumber: 9\n            }, this),\n            showLinkSubmissionModal && selectedApplet && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6 border-b\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-2xl font-bold\",\n                                            children: ((_selectedApplet_config = selectedApplet.config) === null || _selectedApplet_config === void 0 ? void 0 : _selectedApplet_config.heading) || \"Links & Resources\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 764,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setShowLinkSubmissionModal(false),\n                                            className: \"p-2 hover:bg-gray-100 rounded-lg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"w-6 h-6\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 771,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 767,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 763,\n                                    columnNumber: 15\n                                }, this),\n                                ((_selectedApplet_config1 = selectedApplet.config) === null || _selectedApplet_config1 === void 0 ? void 0 : _selectedApplet_config1.description) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-gray-600\",\n                                    children: selectedApplet.config.description\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 775,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 762,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6\",\n                            children: [\n                                ((_selectedApplet_config2 = selectedApplet.config) === null || _selectedApplet_config2 === void 0 ? void 0 : _selectedApplet_config2.links) && selectedApplet.config.links.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: selectedApplet.config.links.map((link, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"border rounded-lg p-4 hover:bg-gray-50 transition-colors\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                href: link.url,\n                                                target: \"_blank\",\n                                                rel: \"noopener noreferrer\",\n                                                className: \"flex items-start space-x-3 group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                        className: \"w-5 h-5 text-blue-600 mt-1 flex-shrink-0 group-hover:text-blue-700\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                        lineNumber: 790,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"font-medium text-blue-600 group-hover:text-blue-700 group-hover:underline\",\n                                                                children: link.text || \"View Link\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                lineNumber: 792,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            link.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm text-gray-600 mt-1\",\n                                                                children: link.description\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                lineNumber: 796,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                        lineNumber: 791,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 784,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, idx, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 783,\n                                            columnNumber: 21\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 781,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-500 text-center py-8\",\n                                    children: \"No links available yet.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 804,\n                                    columnNumber: 17\n                                }, this),\n                                ((_selectedApplet_config3 = selectedApplet.config) === null || _selectedApplet_config3 === void 0 ? void 0 : _selectedApplet_config3.allow_client_acknowledgment) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-6 pt-6 border-t\",\n                                    children: completedApplets.has(selectedApplet.id) || selectedApplet.user_status === \"completed\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full py-3 bg-green-100 text-green-700 rounded-lg text-center font-medium border border-green-300\",\n                                        children: [\n                                            \"✓ Marked as Reviewed on \",\n                                            selectedApplet.user_completed_at ? new Date(selectedApplet.user_completed_at).toLocaleDateString(\"en-US\", {\n                                                month: \"short\",\n                                                day: \"numeric\",\n                                                year: \"numeric\",\n                                                hour: \"numeric\",\n                                                minute: \"2-digit\"\n                                            }) : \"Recently\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 810,\n                                        columnNumber: 21\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: async ()=>{\n                                            // Mark as acknowledged\n                                            await fetch(\"/api/aloa-projects/\".concat(params.projectId, \"/client-view\"), {\n                                                method: \"POST\",\n                                                headers: {\n                                                    \"Content-Type\": \"application/json\"\n                                                },\n                                                body: JSON.stringify({\n                                                    appletId: selectedApplet.id,\n                                                    status: \"completed\",\n                                                    interactionType: \"completion\",\n                                                    userId: userId,\n                                                    data: {\n                                                        acknowledged: true,\n                                                        acknowledgedAt: new Date().toISOString()\n                                                    }\n                                                })\n                                            });\n                                            // Update local state\n                                            setCompletedApplets((prev)=>new Set([\n                                                    ...prev,\n                                                    selectedApplet.id\n                                                ]));\n                                            setShowLinkSubmissionModal(false);\n                                            // Trigger confetti celebration\n                                            setShowConfetti(true);\n                                            setTimeout(()=>setShowConfetti(false), 7000);\n                                            // Refresh project data\n                                            fetchProjectData();\n                                        },\n                                        className: \"w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\",\n                                        children: \"Mark as Reviewed\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 823,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 808,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 779,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                    lineNumber: 761,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 760,\n                columnNumber: 9\n            }, this),\n            showFileUploadModal && selectedApplet && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6 border-b\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-2xl font-bold\",\n                                            children: ((_selectedApplet_config4 = selectedApplet.config) === null || _selectedApplet_config4 === void 0 ? void 0 : _selectedApplet_config4.heading) || \"File Downloads\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 867,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setShowFileUploadModal(false),\n                                            className: \"p-2 hover:bg-gray-100 rounded-lg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"w-6 h-6\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 874,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 870,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 866,\n                                    columnNumber: 15\n                                }, this),\n                                ((_selectedApplet_config5 = selectedApplet.config) === null || _selectedApplet_config5 === void 0 ? void 0 : _selectedApplet_config5.description) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-gray-600\",\n                                    children: selectedApplet.config.description\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 878,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 865,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6\",\n                            children: [\n                                ((_selectedApplet_config6 = selectedApplet.config) === null || _selectedApplet_config6 === void 0 ? void 0 : _selectedApplet_config6.files) && selectedApplet.config.files.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        selectedApplet.config.files.map((file, idx)=>{\n                                            const getFileIcon = (fileName)=>{\n                                                const ext = fileName.split(\".\").pop().toLowerCase();\n                                                const imageExts = [\n                                                    \"jpg\",\n                                                    \"jpeg\",\n                                                    \"png\",\n                                                    \"gif\",\n                                                    \"svg\"\n                                                ];\n                                                const docExts = [\n                                                    \"pdf\",\n                                                    \"doc\",\n                                                    \"docx\",\n                                                    \"txt\"\n                                                ];\n                                                if (imageExts.includes(ext)) return \"\\uD83D\\uDDBC️\";\n                                                if (docExts.includes(ext)) return \"\\uD83D\\uDCC4\";\n                                                if (ext === \"zip\" || ext === \"rar\") return \"\\uD83D\\uDCE6\";\n                                                return \"\\uD83D\\uDCCE\";\n                                            };\n                                            const formatFileSize = (bytes)=>{\n                                                if (!bytes || bytes === 0) return \"0 Bytes\";\n                                                const k = 1024;\n                                                const sizes = [\n                                                    \"Bytes\",\n                                                    \"KB\",\n                                                    \"MB\",\n                                                    \"GB\"\n                                                ];\n                                                const i = Math.floor(Math.log(bytes) / Math.log(k));\n                                                return Math.round(bytes / Math.pow(k, i) * 100) / 100 + \" \" + sizes[i];\n                                            };\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border rounded-lg p-4 hover:bg-gray-50 transition-colors\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center space-x-3\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-2xl\",\n                                                                    children: getFileIcon(file.name)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 909,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"font-medium text-gray-900\",\n                                                                            children: [\n                                                                                file.name,\n                                                                                file.category === \"final-deliverables\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded\",\n                                                                                    children: \"Final\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                    lineNumber: 914,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                            lineNumber: 911,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-sm text-gray-500\",\n                                                                            children: [\n                                                                                formatFileSize(file.size),\n                                                                                \" • Uploaded \",\n                                                                                new Date(file.uploaded_at).toLocaleDateString(),\n                                                                                file.storage_type === \"supabase\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"ml-2 text-blue-600\",\n                                                                                    children: \"☁️ Cloud\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                    lineNumber: 920,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                            lineNumber: 917,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 910,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 908,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: async ()=>{\n                                                                // Track download\n                                                                if (file.id) {\n                                                                    try {\n                                                                        await fetch(\"/api/project-files\", {\n                                                                            method: \"PATCH\",\n                                                                            headers: {\n                                                                                \"Content-Type\": \"application/json\"\n                                                                            },\n                                                                            body: JSON.stringify({\n                                                                                id: file.id,\n                                                                                increment_download: true\n                                                                            })\n                                                                        });\n                                                                    } catch (err) {\n                                                                        console.log(\"Download tracking failed:\", err);\n                                                                    }\n                                                                }\n                                                                // Handle different storage types\n                                                                if (file.storage_type === \"supabase\" && file.url) {\n                                                                    // Supabase Storage file\n                                                                    window.open(file.url, \"_blank\");\n                                                                } else if (file.url && !file.data) {\n                                                                    // Legacy URL file\n                                                                    window.open(file.url, \"_blank\");\n                                                                } else if (file.data) {\n                                                                    // Base64 data\n                                                                    const link = document.createElement(\"a\");\n                                                                    link.href = file.data;\n                                                                    link.download = file.name;\n                                                                    link.click();\n                                                                }\n                                                            },\n                                                            className: \"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                                    className: \"w-4 h-4\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 959,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    children: \"Download\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 960,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 925,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 907,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, idx, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 906,\n                                                columnNumber: 23\n                                            }, this);\n                                        }),\n                                        !completedApplets.has(selectedApplet.id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: async ()=>{\n                                                // Mark applet as completed\n                                                const response = await fetch(\"/api/aloa-projects/\".concat(params.projectId, \"/client-view\"), {\n                                                    method: \"POST\",\n                                                    headers: {\n                                                        \"Content-Type\": \"application/json\"\n                                                    },\n                                                    body: JSON.stringify({\n                                                        appletId: selectedApplet.id,\n                                                        userId: userId,\n                                                        status: \"completed\",\n                                                        interactionType: \"file_review\",\n                                                        data: {\n                                                            acknowledgedAt: new Date().toISOString()\n                                                        }\n                                                    })\n                                                });\n                                                if (!response.ok) {\n                                                    console.error(\"Failed to update applet progress\");\n                                                }\n                                                // Update local state immediately\n                                                setCompletedApplets((prev)=>new Set([\n                                                        ...prev,\n                                                        selectedApplet.id\n                                                    ]));\n                                                // Update the selected applet to show completion\n                                                const updatedApplet = {\n                                                    ...selectedApplet,\n                                                    user_progress: [\n                                                        {\n                                                            status: \"completed\",\n                                                            completedAt: new Date().toISOString()\n                                                        }\n                                                    ]\n                                                };\n                                                setSelectedApplet(updatedApplet);\n                                                // Trigger confetti celebration\n                                                setShowConfetti(true);\n                                                // Wait a moment for the user to see the success, then close modal\n                                                setTimeout(()=>{\n                                                    setShowConfetti(false);\n                                                    setShowFileUploadModal(false);\n                                                // Don't refresh project data here as it will reset local state\n                                                // The completion is already tracked locally\n                                                }, 3000);\n                                            },\n                                            className: \"w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium mt-4\",\n                                            children: \"Mark Files as Reviewed\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 969,\n                                            columnNumber: 21\n                                        }, this),\n                                        completedApplets.has(selectedApplet.id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center py-3 bg-green-50 text-green-700 rounded-lg font-medium\",\n                                            children: [\n                                                \"✓ Files reviewed on \",\n                                                new Date().toLocaleDateString()\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 1022,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 884,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-8 text-gray-500\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                            className: \"w-12 h-12 mx-auto mb-3 text-gray-300\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 1029,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"No files available yet\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 1030,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm mt-1\",\n                                            children: \"Check back later for project files\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 1031,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 1028,\n                                    columnNumber: 17\n                                }, this),\n                                ((_selectedApplet_config7 = selectedApplet.config) === null || _selectedApplet_config7 === void 0 ? void 0 : _selectedApplet_config7.allow_client_upload) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-6 pt-6 border-t\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-600 mb-3\",\n                                            children: \"You can upload files too:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 1038,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"relative\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"file\",\n                                                    className: \"hidden\",\n                                                    onChange: async (e)=>{\n                                                        const file = e.target.files[0];\n                                                        if (!file) return;\n                                                        // TODO: Implement client file upload\n                                                        alert(\"Client file upload coming soon!\");\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 1040,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-purple-400 transition-colors\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                            className: \"w-8 h-8 text-gray-400 mx-auto mb-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 1052,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm text-gray-600\",\n                                                            children: \"Click to upload file\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 1053,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-gray-500 mt-1\",\n                                                            children: [\n                                                                \"Max \",\n                                                                selectedApplet.config.max_file_size || 10,\n                                                                \"MB\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 1054,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 1051,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 1039,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 1037,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 882,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                    lineNumber: 864,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 863,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n        lineNumber: 418,\n        columnNumber: 5\n    }, this);\n}\n_s(ClientDashboard, \"ulCXpS8GLBHqPS04MYX1BqEBR8g=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _hooks_useEscapeKey__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n        _hooks_useEscapeKey__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n        _hooks_useEscapeKey__WEBPACK_IMPORTED_MODULE_6__[\"default\"]\n    ];\n});\n_c1 = ClientDashboard;\n// Form Modal Component - Using MultiStepFormRenderer\nfunction FormModal(param) {\n    let { form, onSubmit, onClose, savedProgress, onProgressUpdate, isViewOnly = false } = param;\n    // Create a custom onSubmit handler that works with MultiStepFormRenderer\n    const handleFormComplete = async (responses)=>{\n        // Transform responses to match expected format\n        const transformedResponses = {};\n        Object.keys(responses).forEach((key)=>{\n            transformedResponses[key] = responses[key];\n        });\n        // Call the parent onSubmit handler\n        await onSubmit(transformedResponses);\n        onClose();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        className: \"absolute right-4 top-4 p-2 hover:bg-gray-100 rounded-lg z-10\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 1092,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                        lineNumber: 1088,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MultiStepFormRenderer__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            form: form,\n                            isModal: true,\n                            onComplete: handleFormComplete,\n                            initialData: savedProgress === null || savedProgress === void 0 ? void 0 : savedProgress.data,\n                            initialSection: savedProgress === null || savedProgress === void 0 ? void 0 : savedProgress.section,\n                            onProgressChange: onProgressUpdate,\n                            isViewOnly: isViewOnly\n                        }, void 0, false, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 1096,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                        lineNumber: 1095,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 1087,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n            lineNumber: 1086,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n        lineNumber: 1085,\n        columnNumber: 5\n    }, this);\n}\n_c2 = FormModal;\nfunction ClientDashboardPage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AuthGuard__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        requireAuth: true,\n        allowedRoles: [\n            \"client\",\n            \"super_admin\",\n            \"project_admin\",\n            \"team_member\"\n        ],\n        redirectTo: \"/auth/login\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ClientDashboard, {}, void 0, false, {\n            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n            lineNumber: 1119,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n        lineNumber: 1114,\n        columnNumber: 5\n    }, this);\n}\n_c3 = ClientDashboardPage;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"ConfettiCelebration\");\n$RefreshReg$(_c1, \"ClientDashboard\");\n$RefreshReg$(_c2, \"FormModal\");\n$RefreshReg$(_c3, \"ClientDashboardPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9wcm9qZWN0L1twcm9qZWN0SWRdL2Rhc2hib2FyZC9wYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTRDO0FBQ1c7QUFxQmpDO0FBQ2E7QUFDb0M7QUFDeEI7QUFDQztBQUNNO0FBRXRELHVDQUF1QztBQUN2QyxNQUFNNEIsc0JBQXNCTCx3REFBT0EsQ0FBQyxJQUFNLG9QQUFPOzs7Ozs7SUFBdUNNLEtBQUs7O0tBQXZGRDtBQUVOLFNBQVNFO1FBMHRCVUMsd0JBU0pBLHlCQU1BQSx5QkEyQkFBLHlCQTZESUEseUJBU0pBLHlCQU1BQSx5QkF5SkFBOztJQXgrQmIsTUFBTUMsU0FBUzlCLDBEQUFTQTtJQUN4QixNQUFNK0IsU0FBUzlCLDBEQUFTQTtJQUN4QixNQUFNLENBQUMrQixTQUFTQyxXQUFXLEdBQUduQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNvQyxhQUFhQyxlQUFlLEdBQUdyQywrQ0FBUUEsQ0FBQyxFQUFFO0lBQ2pELE1BQU0sQ0FBQ3NDLFNBQVNDLFdBQVcsR0FBR3ZDLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQytCLGdCQUFnQlMsa0JBQWtCLEdBQUd4QywrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUN5QyxlQUFlQyxpQkFBaUIsR0FBRzFDLCtDQUFRQSxDQUFDO0lBQ25ELE1BQU0sQ0FBQzJDLFVBQVVDLFlBQVksR0FBRzVDLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQzZDLGNBQWNDLGdCQUFnQixHQUFHOUMsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDK0Msa0JBQWtCQyxvQkFBb0IsR0FBR2hELCtDQUFRQSxDQUFDLElBQUlpRDtJQUM3RCxNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBR25ELCtDQUFRQSxDQUFDO1FBQUVvRCxjQUFjO1FBQUdMLGtCQUFrQjtRQUFHTSxvQkFBb0I7SUFBRTtJQUNqRyxNQUFNLENBQUNDLGNBQWND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T0FBT2pMO1FBQ2hDLCtDQUErQztRQUMvQyxNQUFNa0wsdUJBQXVCLENBQUM7UUFDOUJDLE9BQU9DLElBQUksQ0FBQ3BMLFdBQVdsQixPQUFPLENBQUN1TSxDQUFBQTtZQUM3Qkgsb0JBQW9CLENBQUNHLElBQUksR0FBR3JMLFNBQVMsQ0FBQ3FMLElBQUk7UUFDNUM7UUFFQSxtQ0FBbUM7UUFDbkMsTUFBTTFELFNBQVN1RDtRQUNmdEQ7SUFDRjtJQUVBLHFCQUNFLDhEQUFDcEQ7UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0Q7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDMkM7d0JBQ0NDLFNBQVNPO3dCQUNUbkQsV0FBVTtrQ0FFViw0RUFBQ3RLLHNOQUFDQTs0QkFBQ3NLLFdBQVU7Ozs7Ozs7Ozs7O2tDQUdmLDhEQUFDRDt3QkFBSUMsV0FBVTtrQ0FDYiw0RUFBQy9KLHlFQUFxQkE7NEJBQ3BCK0YsTUFBTUE7NEJBQ042SyxTQUFTOzRCQUNUQyxZQUFZTjs0QkFDWk8sV0FBVyxFQUFFM0QsMEJBQUFBLG9DQUFBQSxjQUFldkssSUFBSTs0QkFDaENtTyxjQUFjLEVBQUU1RCwwQkFBQUEsb0NBQUFBLGNBQWVwRixPQUFPOzRCQUN0Q2lKLGtCQUFrQjVEOzRCQUNsQjFILFlBQVlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPMUI7TUF4Q1NzSDtBQTBDTSxTQUFTaUU7SUFDdEIscUJBQ0UsOERBQUNoUiw2REFBU0E7UUFDUmlSLGFBQWE7UUFDYkMsY0FBYztZQUFDO1lBQVU7WUFBZTtZQUFpQjtTQUFjO1FBQ3ZFQyxZQUFXO2tCQUVYLDRFQUFDOVE7Ozs7Ozs7Ozs7QUFHUDtNQVZ3QjJRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9wcm9qZWN0L1twcm9qZWN0SWRdL2Rhc2hib2FyZC9wYWdlLmpzP2FiZTEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUGFyYW1zLCB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgXG4gIEFycm93TGVmdCxcbiAgQ2hlY2tDaXJjbGUsXG4gIENsb2NrLFxuICBMb2NrLFxuICBGaWxlVGV4dCxcbiAgVXBsb2FkLFxuICBFeWUsXG4gIE1lc3NhZ2VTcXVhcmUsXG4gIFBhbGV0dGUsXG4gIFN0YXIsXG4gIFRyb3BoeSxcbiAgVGFyZ2V0LFxuICBaYXAsXG4gIFgsXG4gIEVkaXQyLFxuICBFeHRlcm5hbExpbmssXG4gIExpbmssXG4gIERvd25sb2FkLFxuICBGaWxlXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgZHluYW1pYyBmcm9tICduZXh0L2R5bmFtaWMnO1xuaW1wb3J0IE11bHRpU3RlcEZvcm1SZW5kZXJlciBmcm9tICdAL2NvbXBvbmVudHMvTXVsdGlTdGVwRm9ybVJlbmRlcmVyJztcbmltcG9ydCBBdXRoR3VhcmQgZnJvbSAnQC9jb21wb25lbnRzL0F1dGhHdWFyZCc7XG5pbXBvcnQgdXNlRXNjYXBlS2V5IGZyb20gJ0AvaG9va3MvdXNlRXNjYXBlS2V5JztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlLWJyb3dzZXInO1xuXG4vLyBEeW5hbWljIGltcG9ydHMgZm9yIGhlYXZ5IGNvbXBvbmVudHNcbmNvbnN0IENvbmZldHRpQ2VsZWJyYXRpb24gPSBkeW5hbWljKCgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL0NvbmZldHRpQ2VsZWJyYXRpb24nKSwgeyBzc3I6IGZhbHNlIH0pO1xuXG5mdW5jdGlvbiBDbGllbnREYXNoYm9hcmQoKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW3Byb2plY3QsIHNldFByb2plY3RdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtwcm9qZWN0bGV0cywgc2V0UHJvamVjdGxldHNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3NlbGVjdGVkQXBwbGV0LCBzZXRTZWxlY3RlZEFwcGxldF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3Nob3dGb3JtTW9kYWwsIHNldFNob3dGb3JtTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2hvd0NvbmZldHRpLCBzZXRTaG93Q29uZmV0dGldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29tcGxldGVkQXBwbGV0cywgc2V0Q29tcGxldGVkQXBwbGV0c10gPSB1c2VTdGF0ZShuZXcgU2V0KCkpO1xuICBjb25zdCBbc3RhdHMsIHNldFN0YXRzXSA9IHVzZVN0YXRlKHsgdG90YWxBcHBsZXRzOiAwLCBjb21wbGV0ZWRBcHBsZXRzOiAwLCBwcm9ncmVzc1BlcmNlbnRhZ2U6IDAgfSk7XG4gIGNvbnN0IFtmb3JtUHJvZ3Jlc3MsIHNldEZvcm1Qcm9ncmVzc10gPSB1c2VTdGF0ZSh7fSk7IC8vIFN0b3JlIHByb2dyZXNzIGZvciBlYWNoIGZvcm1cbiAgY29uc3QgW3VzZXJJZCwgc2V0VXNlcklkXSA9IHVzZVN0YXRlKG51bGwpOyAvLyBUcmFjayB1c2VyIElEXG4gIGNvbnN0IFt1c2VyRm9ybVJlc3BvbnNlcywgc2V0VXNlckZvcm1SZXNwb25zZXNdID0gdXNlU3RhdGUoe30pOyAvLyBUcmFjayBhY3R1YWwgZm9ybSBzdWJtaXNzaW9ucyBieSBmb3JtIElEXG4gIGNvbnN0IFtpc0Zvcm1WaWV3T25seSwgc2V0SXNGb3JtVmlld09ubHldID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBUcmFjayBpZiBmb3JtIGlzIGluIHZpZXctb25seSBtb2RlXG4gIGNvbnN0IFtzaG93TGlua1N1Ym1pc3Npb25Nb2RhbCwgc2V0U2hvd0xpbmtTdWJtaXNzaW9uTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBUcmFjayBsaW5rIHN1Ym1pc3Npb24gbW9kYWxcbiAgY29uc3QgW3Nob3dGaWxlVXBsb2FkTW9kYWwsIHNldFNob3dGaWxlVXBsb2FkTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBUcmFjayBmaWxlIHVwbG9hZCBtb2RhbFxuXG4gIC8vIEVTQyBrZXkgaGFuZGxlcnMgZm9yIG1vZGFsc1xuICB1c2VFc2NhcGVLZXkoKCkgPT4ge1xuICAgIHNldFNob3dGb3JtTW9kYWwoZmFsc2UpO1xuICAgIHNldElzRm9ybVZpZXdPbmx5KGZhbHNlKTtcbiAgfSwgc2hvd0Zvcm1Nb2RhbCk7XG5cbiAgdXNlRXNjYXBlS2V5KCgpID0+IHtcbiAgICBzZXRTaG93TGlua1N1Ym1pc3Npb25Nb2RhbChmYWxzZSk7XG4gIH0sIHNob3dMaW5rU3VibWlzc2lvbk1vZGFsKTtcblxuICB1c2VFc2NhcGVLZXkoKCkgPT4ge1xuICAgIHNldFNob3dGaWxlVXBsb2FkTW9kYWwoZmFsc2UpO1xuICB9LCBzaG93RmlsZVVwbG9hZE1vZGFsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEdldCBhdXRoZW50aWNhdGVkIHVzZXIncyBJRFxuICAgIGNvbnN0IGdldEF1dGhlbnRpY2F0ZWRVc2VyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTtcbiAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcbiAgICAgIFxuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgc2V0VXNlcklkKHVzZXIuaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gYXV0aGVudGljYXRlZCB1c2VyIGZvdW5kOicsIGVycm9yKTtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gbG9jYWxTdG9yYWdlIGZvciBhbm9ueW1vdXMgdXNlcnMgKHNob3VsZG4ndCBoYXBwZW4gd2l0aCBBdXRoR3VhcmQpXG4gICAgICAgIGNvbnN0IHN0b3JlZFVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjbGllbnRfdXNlcl9pZCcpO1xuICAgICAgICBpZiAoc3RvcmVkVXNlcklkKSB7XG4gICAgICAgICAgc2V0VXNlcklkKHN0b3JlZFVzZXJJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbmV3VXNlcklkID0gYGFub25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjbGllbnRfdXNlcl9pZCcsIG5ld1VzZXJJZCk7XG4gICAgICAgICAgc2V0VXNlcklkKG5ld1VzZXJJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGdldEF1dGhlbnRpY2F0ZWRVc2VyKCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh1c2VySWQpIHtcbiAgICAgIGZldGNoUHJvamVjdERhdGEoKTtcbiAgICB9XG4gIH0sIFtwYXJhbXMucHJvamVjdElkLCB1c2VySWRdKTtcblxuICBjb25zdCBmZXRjaFByb2plY3REYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBGZXRjaCBwcm9qZWN0IGRhdGEgYW5kIHByb2plY3RsZXRzIGZyb20gY2xpZW50LXZpZXcgZW5kcG9pbnQgd2l0aCB1c2VyIElEXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2Fsb2EtcHJvamVjdHMvJHtwYXJhbXMucHJvamVjdElkfS9jbGllbnQtdmlldz91c2VySWQ9JHt1c2VySWR9YCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBzZXRQcm9qZWN0KGRhdGEucHJvamVjdCk7XG4gICAgICBzZXRQcm9qZWN0bGV0cyhkYXRhLnByb2plY3RsZXRzIHx8IFtdKTtcbiAgICAgIHNldFN0YXRzKGRhdGEuc3RhdHMgfHwgeyB0b3RhbEFwcGxldHM6IDAsIGNvbXBsZXRlZEFwcGxldHM6IDAsIHByb2dyZXNzUGVyY2VudGFnZTogMCB9KTtcbiAgICAgIFxuICAgICAgLy8gQnVpbGQgY29tcGxldGVkIHNldCBmcm9tIHVzZXItc3BlY2lmaWMgc3RhdHVzXG4gICAgICBjb25zdCBjb21wbGV0ZWQgPSBuZXcgU2V0KCk7XG4gICAgICBkYXRhLnByb2plY3RsZXRzPy5mb3JFYWNoKHByb2plY3RsZXQgPT4ge1xuICAgICAgICBwcm9qZWN0bGV0LmFwcGxldHM/LmZvckVhY2goYXBwbGV0ID0+IHtcbiAgICAgICAgICAvLyBVc2UgdXNlci1zcGVjaWZpYyBzdGF0dXMgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbGJhY2sgdG8gZGVmYXVsdFxuICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGFwcGxldC51c2VyX3N0YXR1cyB8fCBhcHBsZXQuc3RhdHVzO1xuICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdjb21wbGV0ZWQnIHx8IHN0YXR1cyA9PT0gJ2FwcHJvdmVkJykge1xuICAgICAgICAgICAgY29tcGxldGVkLmFkZChhcHBsZXQuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBSZXN0b3JlIGZvcm0gcHJvZ3Jlc3MgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgaWYgKGFwcGxldC5mb3JtX3Byb2dyZXNzICYmIGFwcGxldC5mb3JtX2lkKSB7XG4gICAgICAgICAgICBzZXRGb3JtUHJvZ3Jlc3MocHJldiA9PiAoe1xuICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICBbYXBwbGV0LmZvcm1faWRdOiBhcHBsZXQuZm9ybV9wcm9ncmVzc1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHNldENvbXBsZXRlZEFwcGxldHMoY29tcGxldGVkKTtcbiAgICAgIFxuICAgICAgLy8gRmV0Y2ggYWxsIGZvcm0gcmVzcG9uc2VzIGZvciB0aGlzIHVzZXIgdG8gcHJvcGVybHkgdHJhY2sgc3VibWlzc2lvbnNcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZvcm1JZHMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGRhdGEucHJvamVjdGxldHM/LmZvckVhY2gocHJvamVjdGxldCA9PiB7XG4gICAgICAgICAgcHJvamVjdGxldC5hcHBsZXRzPy5mb3JFYWNoKGFwcGxldCA9PiB7XG4gICAgICAgICAgICBpZiAoYXBwbGV0LnR5cGUgPT09ICdmb3JtJyAmJiAoYXBwbGV0LmZvcm1faWQgfHwgYXBwbGV0LmNvbmZpZz8uZm9ybV9pZCkpIHtcbiAgICAgICAgICAgICAgZm9ybUlkcy5hZGQoYXBwbGV0LmZvcm1faWQgfHwgYXBwbGV0LmNvbmZpZz8uZm9ybV9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gRmV0Y2ggcmVzcG9uc2VzIGZvciBhbGwgZm9ybXNcbiAgICAgICAgY29uc3QgZm9ybVJlc3BvbnNlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGZvcm1JZCBvZiBmb3JtSWRzKSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2VSZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9hbG9hLXJlc3BvbnNlcz9mb3JtX2lkPSR7Zm9ybUlkfSZ1c2VyX2lkPSR7dXNlcklkfWApO1xuICAgICAgICAgIGlmIChyZXNwb25zZVJlcy5vaykge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2VSZXMuanNvbigpO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YS5yZXNwb25zZXMgJiYgcmVzcG9uc2VEYXRhLnJlc3BvbnNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGZvcm1SZXNwb25zZXNbZm9ybUlkXSA9IHJlc3BvbnNlRGF0YS5yZXNwb25zZXNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldFVzZXJGb3JtUmVzcG9uc2VzKGZvcm1SZXNwb25zZXMpO1xuICAgICAgICBjb25zb2xlLmxvZygnVXNlciBmb3JtIHJlc3BvbnNlcyBsb2FkZWQ6JywgZm9ybVJlc3BvbnNlcyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmb3JtIHJlc3BvbnNlczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHByb2plY3Q6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQXBwbGV0Q2xpY2sgPSBhc3luYyAoYXBwbGV0LCBwcm9qZWN0bGV0LCBpc1ZpZXdPbmx5ID0gZmFsc2UpID0+IHtcbiAgICAvLyBGb3IgZm9ybXMsIGFsbG93IGVkaXRpbmcgaWYgY29tcGxldGVkIGJ1dCBub3QgbG9ja2VkXG4gICAgY29uc3QgaXNGb3JtID0gYXBwbGV0LnR5cGUgPT09ICdmb3JtJztcbiAgICBjb25zdCBpc0xpbmtTdWJtaXNzaW9uID0gYXBwbGV0LnR5cGUgPT09ICdsaW5rX3N1Ym1pc3Npb24nO1xuICAgIGNvbnN0IGlzRmlsZVVwbG9hZCA9IGFwcGxldC50eXBlID09PSAndXBsb2FkJyB8fCBhcHBsZXQudHlwZSA9PT0gJ2ZpbGVfdXBsb2FkJztcbiAgICBjb25zdCBmb3JtSWQgPSBhcHBsZXQuZm9ybV9pZCB8fCBhcHBsZXQuY29uZmlnPy5mb3JtX2lkO1xuICAgIGNvbnN0IGZvcm1Jc0xvY2tlZCA9IGlzRm9ybSAmJiBhcHBsZXQuZm9ybT8uc3RhdHVzID09PSAnY2xvc2VkJztcbiAgICBjb25zdCB1c2VySGFzQ29tcGxldGVkID0gaXNGb3JtICYmIGZvcm1JZCA/IHVzZXJGb3JtUmVzcG9uc2VzW2Zvcm1JZF0gOiBjb21wbGV0ZWRBcHBsZXRzLmhhcyhhcHBsZXQuaWQpO1xuXG4gICAgLy8gQmxvY2sgaWY6XG4gICAgLy8gMS4gTm9uLWZvcm0sIG5vbi1saW5rLXN1Ym1pc3Npb24sIG5vbi1maWxlLXVwbG9hZCBhcHBsZXQgdGhhdCdzIGFscmVhZHkgY29tcGxldGVkXG4gICAgLy8gMi4gRm9ybSB0aGF0J3MgbG9ja2VkIGFuZCB1c2VyIGhhc24ndCBzdWJtaXR0ZWQgKGNhbid0IHN0YXJ0IG5ldylcbiAgICAvLyBMaW5rIHN1Ym1pc3Npb25zIGFuZCBmaWxlIHVwbG9hZHMgc2hvdWxkIGFsd2F5cyBiZSB2aWV3YWJsZSBldmVuIGFmdGVyIGNvbXBsZXRpb25cbiAgICBpZiAoKCFpc0Zvcm0gJiYgIWlzTGlua1N1Ym1pc3Npb24gJiYgIWlzRmlsZVVwbG9hZCAmJiB1c2VySGFzQ29tcGxldGVkKSB8fCAoaXNGb3JtICYmIGZvcm1Jc0xvY2tlZCAmJiAhdXNlckhhc0NvbXBsZXRlZCkpIHtcbiAgICAgIHJldHVybjsgLy8gQ2Fubm90IHByb2NlZWRcbiAgICB9XG5cbiAgICAvLyBPbmx5IG1hcmsgYXMgaW5fcHJvZ3Jlc3MgaWYgbm90IGFscmVhZHkgY29tcGxldGVkXG4gICAgaWYgKCFjb21wbGV0ZWRBcHBsZXRzLmhhcyhhcHBsZXQuaWQpKSB7XG4gICAgICBhd2FpdCBmZXRjaChgL2FwaS9hbG9hLXByb2plY3RzLyR7cGFyYW1zLnByb2plY3RJZH0vY2xpZW50LXZpZXdgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFwcGxldElkOiBhcHBsZXQuaWQsXG4gICAgICAgICAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnLFxuICAgICAgICAgIGludGVyYWN0aW9uVHlwZTogJ3ZpZXcnLFxuICAgICAgICAgIHVzZXJJZDogdXNlcklkXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoYXBwbGV0LnR5cGUgPT09ICdmb3JtJykge1xuICAgICAgLy8gQ2hlY2sgZm9yIGZvcm1faWQgaW4gbXVsdGlwbGUgcGxhY2VzXG4gICAgICBjb25zdCBmb3JtSWQgPSBhcHBsZXQuZm9ybV9pZCB8fCBhcHBsZXQuY29uZmlnPy5mb3JtX2lkO1xuICAgICAgXG4gICAgICBpZiAoIWZvcm1JZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdObyBmb3JtX2lkIGZvdW5kIGZvciBhcHBsZXQ6JywgYXBwbGV0KTtcbiAgICAgICAgYWxlcnQoJ1RoaXMgZm9ybSBpcyBub3QgcHJvcGVybHkgY29uZmlndXJlZC4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTZXQgdmlldy1vbmx5IG1vZGUgaWYgZm9ybSBpcyBsb2NrZWQgKGlzVmlld09ubHkgcGFyYW1ldGVyIGlzIHRydWUpXG4gICAgICBzZXRJc0Zvcm1WaWV3T25seShpc1ZpZXdPbmx5KTtcbiAgICAgIFxuICAgICAgLy8gSWYgdXNlciBoYXMgYWxyZWFkeSBjb21wbGV0ZWQgdGhpcyBmb3JtLCBnZXQgdGhlaXIgcHJldmlvdXMgcmVzcG9uc2VzXG4gICAgICBsZXQgcHJldmlvdXNSZXNwb25zZXMgPSBudWxsO1xuICAgICAgaWYgKHVzZXJIYXNDb21wbGV0ZWQgJiYgdXNlckZvcm1SZXNwb25zZXNbZm9ybUlkXSkge1xuICAgICAgICBwcmV2aW91c1Jlc3BvbnNlcyA9IHVzZXJGb3JtUmVzcG9uc2VzW2Zvcm1JZF0ucmVzcG9uc2VfZGF0YTtcbiAgICAgICAgY29uc29sZS5sb2coJ0xvYWRlZCBwcmV2aW91cyByZXNwb25zZXMgZm9yJywgaXNWaWV3T25seSA/ICd2aWV3aW5nJyA6ICdlZGl0aW5nJywgJzonLCBwcmV2aW91c1Jlc3BvbnNlcyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVzZSBmb3JtIGRhdGEgZnJvbSBhcHBsZXQgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmV0Y2hcbiAgICAgIGlmIChhcHBsZXQuZm9ybSkge1xuICAgICAgICAvLyBUcmFuc2Zvcm0gdGhlIHByZWxvYWRlZCBmb3JtIGRhdGEgdG8gbWF0Y2ggTXVsdGlTdGVwRm9ybVJlbmRlcmVyJ3MgZXhwZWN0ZWQgc3RydWN0dXJlXG4gICAgICAgIGNvbnN0IGZvcm0gPSBhcHBsZXQuZm9ybTtcbiAgICAgICAgY29uc3Qgc29ydGVkRmllbGRzID0gZm9ybS5hbG9hX2Zvcm1fZmllbGRzPy5zb3J0KChhLCBiKSA9PiAoYS5maWVsZF9vcmRlciB8fCAwKSAtIChiLmZpZWxkX29yZGVyIHx8IDApKSB8fCBbXTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkRm9ybSA9IHtcbiAgICAgICAgICAuLi5mb3JtLFxuICAgICAgICAgIF9pZDogZm9ybS5pZCxcbiAgICAgICAgICB1cmxJZDogZm9ybS51cmxfaWQsXG4gICAgICAgICAgZmllbGRzOiBzb3J0ZWRGaWVsZHMubWFwKGZpZWxkID0+ICh7XG4gICAgICAgICAgICBfaWQ6IGZpZWxkLmlkLFxuICAgICAgICAgICAgbGFiZWw6IGZpZWxkLmZpZWxkX2xhYmVsLFxuICAgICAgICAgICAgbmFtZTogZmllbGQuZmllbGRfbmFtZSxcbiAgICAgICAgICAgIHR5cGU6IGZpZWxkLmZpZWxkX3R5cGUsXG4gICAgICAgICAgICBwb3NpdGlvbjogZmllbGQuZmllbGRfb3JkZXIsXG4gICAgICAgICAgICBzZWN0aW9uOiBmaWVsZC52YWxpZGF0aW9uPy5zZWN0aW9uIHx8ICdHZW5lcmFsIEluZm9ybWF0aW9uJyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmaWVsZC5yZXF1aXJlZCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBmaWVsZC5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmlzQXJyYXkoZmllbGQub3B0aW9ucykgPyBmaWVsZC5vcHRpb25zIDogKHR5cGVvZiBmaWVsZC5vcHRpb25zID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoZmllbGQub3B0aW9ucykgOiBmaWVsZC5vcHRpb25zKSxcbiAgICAgICAgICAgIHZhbGlkYXRpb246IGZpZWxkLnZhbGlkYXRpb25cbiAgICAgICAgICB9KSlcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdUcmFuc2Zvcm1lZCBwcmVsb2FkZWQgZm9ybTonLCB0cmFuc2Zvcm1lZEZvcm0pO1xuICAgICAgICBjb25zb2xlLmxvZygnRm9ybSBmaWVsZHMgY291bnQ6JywgdHJhbnNmb3JtZWRGb3JtLmZpZWxkcz8ubGVuZ3RoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0Zvcm0gZmllbGRzOicsIHRyYW5zZm9ybWVkRm9ybS5maWVsZHMpO1xuICAgICAgICBzZXRGb3JtRGF0YSh0cmFuc2Zvcm1lZEZvcm0pO1xuICAgICAgICBzZXRTZWxlY3RlZEFwcGxldCh7IC4uLmFwcGxldCwgcHJvamVjdGxldCwgZm9ybV9pZDogYXBwbGV0LmZvcm1faWQgfHwgYXBwbGV0LmNvbmZpZz8uZm9ybV9pZCB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHdlIGhhdmUgcHJldmlvdXMgcmVzcG9uc2VzLCBzZXQgdGhlbSBhcyBzYXZlZCBwcm9ncmVzc1xuICAgICAgICBpZiAocHJldmlvdXNSZXNwb25zZXMpIHtcbiAgICAgICAgICBzZXRGb3JtUHJvZ3Jlc3MocHJldiA9PiAoe1xuICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgIFtmb3JtSWRdOiB7IGRhdGE6IHByZXZpb3VzUmVzcG9uc2VzIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldFNob3dGb3JtTW9kYWwodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGZvcm1SZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9hbG9hLWZvcm1zLyR7Zm9ybUlkfWApO1xuICAgICAgICAgIGlmICghZm9ybVJlcy5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggZm9ybTogJHtmb3JtUmVzLnN0YXR1c31gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZm9ybSA9IGF3YWl0IGZvcm1SZXMuanNvbigpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdGZXRjaGVkIGZvcm06JywgZm9ybSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVHJhbnNmb3JtIHRoZSBmb3JtIGRhdGEgdG8gbWF0Y2ggTXVsdGlTdGVwRm9ybVJlbmRlcmVyJ3MgZXhwZWN0ZWQgc3RydWN0dXJlXG4gICAgICAgICAgY29uc3Qgc29ydGVkRmllbGRzID0gZm9ybS5hbG9hX2Zvcm1fZmllbGRzPy5zb3J0KChhLCBiKSA9PiAoYS5maWVsZF9vcmRlciB8fCAwKSAtIChiLmZpZWxkX29yZGVyIHx8IDApKSB8fCBbXTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZEZvcm0gPSB7XG4gICAgICAgICAgICAuLi5mb3JtLFxuICAgICAgICAgICAgX2lkOiBmb3JtLmlkLFxuICAgICAgICAgICAgdXJsSWQ6IGZvcm0udXJsX2lkLFxuICAgICAgICAgICAgZmllbGRzOiBzb3J0ZWRGaWVsZHMubWFwKGZpZWxkID0+ICh7XG4gICAgICAgICAgICAgIF9pZDogZmllbGQuaWQsXG4gICAgICAgICAgICAgIGxhYmVsOiBmaWVsZC5maWVsZF9sYWJlbCxcbiAgICAgICAgICAgICAgbmFtZTogZmllbGQuZmllbGRfbmFtZSxcbiAgICAgICAgICAgICAgdHlwZTogZmllbGQuZmllbGRfdHlwZSxcbiAgICAgICAgICAgICAgcG9zaXRpb246IGZpZWxkLmZpZWxkX29yZGVyLFxuICAgICAgICAgICAgICBzZWN0aW9uOiBmaWVsZC52YWxpZGF0aW9uPy5zZWN0aW9uIHx8ICdHZW5lcmFsIEluZm9ybWF0aW9uJyxcbiAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogZmllbGQucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmlzQXJyYXkoZmllbGQub3B0aW9ucykgPyBmaWVsZC5vcHRpb25zIDogKHR5cGVvZiBmaWVsZC5vcHRpb25zID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UoZmllbGQub3B0aW9ucykgOiBmaWVsZC5vcHRpb25zKSxcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbjogZmllbGQudmFsaWRhdGlvblxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygnVHJhbnNmb3JtZWQgZm9ybTonLCB0cmFuc2Zvcm1lZEZvcm0pO1xuICAgICAgICAgIHNldEZvcm1EYXRhKHRyYW5zZm9ybWVkRm9ybSk7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRBcHBsZXQoeyAuLi5hcHBsZXQsIHByb2plY3RsZXQsIGZvcm1faWQ6IGZvcm1JZCB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIHByZXZpb3VzIHJlc3BvbnNlcywgc2V0IHRoZW0gYXMgc2F2ZWQgcHJvZ3Jlc3NcbiAgICAgICAgICBpZiAocHJldmlvdXNSZXNwb25zZXMpIHtcbiAgICAgICAgICAgIHNldEZvcm1Qcm9ncmVzcyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgIFtmb3JtSWRdOiB7IGRhdGE6IHByZXZpb3VzUmVzcG9uc2VzIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0U2hvd0Zvcm1Nb2RhbCh0cnVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmb3JtOicsIGVycm9yKTtcbiAgICAgICAgICBhbGVydCgnVW5hYmxlIHRvIGxvYWQgdGhlIGZvcm0uIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFwcGxldC50eXBlID09PSAnbGlua19zdWJtaXNzaW9uJykge1xuICAgICAgLy8gSGFuZGxlIGxpbmsgc3VibWlzc2lvbiBhcHBsZXRcbiAgICAgIHNldFNlbGVjdGVkQXBwbGV0KHsgLi4uYXBwbGV0LCBwcm9qZWN0bGV0IH0pO1xuICAgICAgc2V0U2hvd0xpbmtTdWJtaXNzaW9uTW9kYWwodHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChpc0ZpbGVVcGxvYWQpIHtcbiAgICAgIC8vIEhhbmRsZSBmaWxlIHVwbG9hZCBhcHBsZXRcbiAgICAgIHNldFNlbGVjdGVkQXBwbGV0KHsgLi4uYXBwbGV0LCBwcm9qZWN0bGV0IH0pO1xuICAgICAgc2V0U2hvd0ZpbGVVcGxvYWRNb2RhbCh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRm9ybVN1Ym1pdCA9IGFzeW5jIChyZXNwb25zZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IENTUkYgdG9rZW4gKGdlbmVyYXRlIGEgc2ltcGxlIG9uZSBmb3Igbm93KVxuICAgICAgY29uc3QgY3NyZlRva2VuID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIpO1xuICAgICAgZG9jdW1lbnQuY29va2llID0gYGNzcmYtdG9rZW49JHtjc3JmVG9rZW59OyBwYXRoPS9gO1xuXG4gICAgICAvLyBTdWJtaXQgZm9ybSByZXNwb25zZSB3aXRoIHByb2plY3QgSUQgYW5kIHVzZXIgSURcbiAgICAgIGNvbnN0IHJlc3BvbnNlUmVzdWx0ID0gYXdhaXQgZmV0Y2goJy9hcGkvYWxvYS1yZXNwb25zZXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ1gtQ1NSRi1Ub2tlbic6IGNzcmZUb2tlblxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZm9ybUlkOiBzZWxlY3RlZEFwcGxldC5mb3JtX2lkIHx8IHNlbGVjdGVkQXBwbGV0LmZvcm0/LmlkLFxuICAgICAgICAgIHByb2plY3RJZDogcGFyYW1zLnByb2plY3RJZCwgIC8vIEluY2x1ZGUgdGhlIHByb2plY3QgSURcbiAgICAgICAgICB1c2VySWQ6IHVzZXJJZCwgIC8vIEluY2x1ZGUgdGhlIHVzZXIgSURcbiAgICAgICAgICBkYXRhOiByZXNwb25zZXNcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlUmVzdWx0Lm9rKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzdWJtaXQgZm9ybSByZXNwb25zZTonLCBhd2FpdCByZXNwb25zZVJlc3VsdC50ZXh0KCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBNYXJrIGFwcGxldCBhcyBjb21wbGV0ZWQgZm9yIHRoaXMgdXNlclxuICAgICAgY29uc3QgdXBkYXRlUmVzdWx0ID0gYXdhaXQgZmV0Y2goYC9hcGkvYWxvYS1wcm9qZWN0cy8ke3BhcmFtcy5wcm9qZWN0SWR9L2NsaWVudC12aWV3YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhcHBsZXRJZDogc2VsZWN0ZWRBcHBsZXQuaWQsXG4gICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICBpbnRlcmFjdGlvblR5cGU6ICdzdWJtaXNzaW9uJyxcbiAgICAgICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICAgICAgICBkYXRhOiB7IGZvcm1fcmVzcG9uc2VzOiByZXNwb25zZXMgfVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghdXBkYXRlUmVzdWx0Lm9rKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgYXBwbGV0IHN0YXR1czonLCBhd2FpdCB1cGRhdGVSZXN1bHQudGV4dCgpKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbWFyayBmb3JtIGFzIGNvbXBsZXRlZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgIGNvbnN0IG5ld0NvbXBsZXRlZCA9IG5ldyBTZXQoY29tcGxldGVkQXBwbGV0cyk7XG4gICAgICBuZXdDb21wbGV0ZWQuYWRkKHNlbGVjdGVkQXBwbGV0LmlkKTtcbiAgICAgIHNldENvbXBsZXRlZEFwcGxldHMobmV3Q29tcGxldGVkKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGZvcm0gcmVzcG9uc2VzIHN0YXRlIHRvIHRyYWNrIHRoaXMgc3VibWlzc2lvblxuICAgICAgY29uc3QgZm9ybUlkID0gc2VsZWN0ZWRBcHBsZXQuZm9ybV9pZCB8fCBzZWxlY3RlZEFwcGxldC5mb3JtPy5pZDtcbiAgICAgIGlmIChmb3JtSWQpIHtcbiAgICAgICAgc2V0VXNlckZvcm1SZXNwb25zZXMocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgW2Zvcm1JZF06IHtcbiAgICAgICAgICAgIHJlc3BvbnNlX2RhdGE6IHJlc3BvbnNlcyxcbiAgICAgICAgICAgIHN1Ym1pdHRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhciBzYXZlZCBwcm9ncmVzcyBmb3IgdGhpcyBmb3JtIHNpbmNlIGl0J3MgY29tcGxldGVkXG4gICAgICAgIHNldEZvcm1Qcm9ncmVzcyhwcmV2ID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdQcm9ncmVzcyA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgIGRlbGV0ZSBuZXdQcm9ncmVzc1tmb3JtSWRdO1xuICAgICAgICAgIHJldHVybiBuZXdQcm9ncmVzcztcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsb3NlIG1vZGFsIGFuZCBzaG93IGNlbGVicmF0aW9uXG4gICAgICBzZXRTaG93Rm9ybU1vZGFsKGZhbHNlKTtcbiAgICAgIHNldFNob3dDb25mZXR0aSh0cnVlKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2hvd0NvbmZldHRpKGZhbHNlKSwgNzAwMCk7XG5cbiAgICAgIC8vIFJlZnJlc2ggZGF0YSB0byBnZXQgdXBkYXRlZCBzdGF0dXMgZnJvbSBzZXJ2ZXJcbiAgICAgIGZldGNoUHJvamVjdERhdGEoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3VibWl0dGluZyBmb3JtOicsIGVycm9yKTtcbiAgICAgIGFsZXJ0KCdUaGVyZSB3YXMgYW4gZXJyb3Igc3VibWl0dGluZyB0aGUgZm9ybS4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0QXBwbGV0SWNvbiA9ICh0eXBlKSA9PiB7XG4gICAgY29uc3QgaWNvbnMgPSB7XG4gICAgICBmb3JtOiBGaWxlVGV4dCxcbiAgICAgIHVwbG9hZDogVXBsb2FkLFxuICAgICAgcmV2aWV3OiBFeWUsXG4gICAgICBtb29kYm9hcmQ6IFBhbGV0dGUsXG4gICAgICBjb250ZW50X2dhdGhlcjogTWVzc2FnZVNxdWFyZVxuICAgIH07XG4gICAgcmV0dXJuIGljb25zW3R5cGVdIHx8IEZpbGVUZXh0O1xuICB9O1xuXG4gIGNvbnN0IGNhbGN1bGF0ZVByb2dyZXNzID0gKCkgPT4ge1xuICAgIHJldHVybiBzdGF0cy5wcm9ncmVzc1BlcmNlbnRhZ2UgfHwgMDtcbiAgfTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS01MCB0by1ibHVlLTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEyIHctMTIgYm9yZGVyLWItMiBib3JkZXItcHVycGxlLTYwMFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHByb2dyZXNzID0gY2FsY3VsYXRlUHJvZ3Jlc3MoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTUwIHRvLWJsdWUtNTBcIj5cbiAgICAgIDxDb25mZXR0aUNlbGVicmF0aW9uIHNob3c9e3Nob3dDb25mZXR0aX0gZHVyYXRpb249ezYwMDB9IC8+XG4gICAgICBcbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1zbSBib3JkZXItYlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvIHB4LTQgc206cHgtNiBsZzpweC04IHB5LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+e3Byb2plY3Q/LnByb2plY3RfbmFtZSB8fCBwcm9qZWN0Py5uYW1lIHx8ICdQcm9qZWN0IERhc2hib2FyZCd9PC9oMT5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG10LTFcIj5XZWxjb21lIHRvIHlvdXIgcHJvamVjdCB3b3Jrc3BhY2U8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIFByb2dyZXNzIFJpbmcgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy0yMCBoLTIwIHRyYW5zZm9ybSAtcm90YXRlLTkwXCI+XG4gICAgICAgICAgICAgICAgPGNpcmNsZVxuICAgICAgICAgICAgICAgICAgY3g9XCI0MFwiXG4gICAgICAgICAgICAgICAgICBjeT1cIjQwXCJcbiAgICAgICAgICAgICAgICAgIHI9XCIzNlwiXG4gICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCI4XCJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS0yMDBcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGNpcmNsZVxuICAgICAgICAgICAgICAgICAgY3g9XCI0MFwiXG4gICAgICAgICAgICAgICAgICBjeT1cIjQwXCJcbiAgICAgICAgICAgICAgICAgIHI9XCIzNlwiXG4gICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCI4XCJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZURhc2hhcnJheT17YCR7cHJvZ3Jlc3MgKiAyLjI2fSAyMjZgfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1wdXJwbGUtNjAwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTUwMFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkXCI+e3Byb2dyZXNzfSU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNYWluIENvbnRlbnQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvIHB4LTQgc206cHgtNiBsZzpweC04IHB5LThcIj5cbiAgICAgICAgey8qIFN0YXRzIENhcmRzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTQgbWItOFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBwLTYgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlRhc2tzIENvbXBsZXRlPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPntzdGF0cy5jb21wbGV0ZWRBcHBsZXRzIHx8IDB9PC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1ncmVlbi01MDBcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+SW4gUHJvZ3Jlc3M8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+XG4gICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ291bnQgYXBwbGV0cyB0aGF0IGFyZSBpbiBwcm9ncmVzcyAoc3RhcnRlZCBidXQgbm90IGNvbXBsZXRlZClcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluUHJvZ3Jlc3NDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RsZXRzLmZvckVhY2gocHJvamVjdGxldCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGxldC5hcHBsZXRzPy5mb3JFYWNoKGFwcGxldCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBhcHBsZXQudXNlcl9zdGF0dXMgfHwgYXBwbGV0LnN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdpbl9wcm9ncmVzcycgfHwgc3RhdHVzID09PSAnc3RhcnRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5Qcm9ncmVzc0NvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5Qcm9ncmVzc0NvdW50O1xuICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwidy04IGgtOCB0ZXh0LXllbGxvdy01MDBcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+TG9ja2VkPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPlxuICAgICAgICAgICAgICAgICAge3Byb2plY3RsZXRzLmZpbHRlcihwID0+IHAuc3RhdHVzID09PSAnbG9ja2VkJykubGVuZ3RofVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxMb2NrIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1ncmF5LTUwMFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgcC02IHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5BY2hpZXZlbWVudDwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIj7wn4+GPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPFRyb3BoeSBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtcHVycGxlLTUwMFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFByb2plY3RsZXRzIFRpbWVsaW5lICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+WW91ciBQcm9qZWN0IEpvdXJuZXk8L2gyPlxuICAgICAgICAgIFxuICAgICAgICAgIHtwcm9qZWN0bGV0cy5tYXAoKHByb2plY3RsZXQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0xvY2tlZCA9IHByb2plY3RsZXQuc3RhdHVzID09PSAnbG9ja2VkJztcbiAgICAgICAgICAgIGNvbnN0IGlzQ29tcGxldGVkID0gcHJvamVjdGxldC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnO1xuICAgICAgICAgICAgY29uc3QgYXBwbGV0cyA9IHByb2plY3RsZXQuYXBwbGV0cyB8fCBbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcHJvamVjdGxldCBpcyBpbiBwcm9ncmVzcyAoaGFzIHN0YXJ0ZWQgYXBwbGV0cyBidXQgbm90IGFsbCBjb21wbGV0ZSlcbiAgICAgICAgICAgIGNvbnN0IGhhc1N0YXJ0ZWRBcHBsZXRzID0gYXBwbGV0cy5zb21lKGFwcGxldCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGFwcGxldC51c2VyX3N0YXR1cyB8fCBhcHBsZXQuc3RhdHVzO1xuICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzID09PSAnaW5fcHJvZ3Jlc3MnIHx8IHN0YXR1cyA9PT0gJ3N0YXJ0ZWQnIHx8IHN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgfHwgc3RhdHVzID09PSAnYXBwcm92ZWQnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBhbGxBcHBsZXRzQ29tcGxldGUgPSBhcHBsZXRzLmxlbmd0aCA+IDAgJiYgYXBwbGV0cy5ldmVyeShhcHBsZXQgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBhcHBsZXQudXNlcl9zdGF0dXMgfHwgYXBwbGV0LnN0YXR1cztcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgfHwgc3RhdHVzID09PSAnYXBwcm92ZWQnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBpc0luUHJvZ3Jlc3MgPSBoYXNTdGFydGVkQXBwbGV0cyAmJiAhYWxsQXBwbGV0c0NvbXBsZXRlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAga2V5PXtwcm9qZWN0bGV0LmlkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LXNtIG92ZXJmbG93LWhpZGRlbiAke1xuICAgICAgICAgICAgICAgICAgaXNMb2NrZWQgPyAnb3BhY2l0eS02MCcgOiAnJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgey8qIFByb2plY3RsZXQgSGVhZGVyICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcC02IGJvcmRlci1iICR7XG4gICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZCA/ICdiZy1ncmVlbi01MCcgOiBcbiAgICAgICAgICAgICAgICAgIGlzSW5Qcm9ncmVzcyA/ICdiZy15ZWxsb3ctNTAnIDpcbiAgICAgICAgICAgICAgICAgIGlzTG9ja2VkID8gJ2JnLWdyYXktNTAnIDogJ2JnLXdoaXRlJ1xuICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlZCA/ICdiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSW5Qcm9ncmVzcyA/ICdiZy15ZWxsb3ctMTAwIHRleHQteWVsbG93LTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNMb2NrZWQgPyAnYmctZ3JheS0xMDAgdGV4dC1ncmF5LTQwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JnLXB1cnBsZS0xMDAgdGV4dC1wdXJwbGUtNjAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc0NvbXBsZXRlZCA/IDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz4gOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICBpc0luUHJvZ3Jlc3MgPyA8Q2xvY2sgY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICBpc0xvY2tlZCA/IDxMb2NrIGNsYXNzTmFtZT1cInctNiBoLTZcIiAvPiA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPntpbmRleCArIDF9PC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWxnXCI+e3Byb2plY3RsZXQubmFtZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAge3Byb2plY3RsZXQuZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj57cHJvamVjdGxldC5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHtwcm9qZWN0bGV0LmRlYWRsaW5lICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgRHVlOiB7bmV3IERhdGUocHJvamVjdGxldC5kZWFkbGluZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBBcHBsZXRzIChUYXNrcykgKi99XG4gICAgICAgICAgICAgICAgeyFpc0xvY2tlZCAmJiBhcHBsZXRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BwLTYgJHtpc0luUHJvZ3Jlc3MgPyAnYmcteWVsbG93LTUwLzUwJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHthcHBsZXRzLm1hcChhcHBsZXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbiA9IGdldEFwcGxldEljb24oYXBwbGV0LnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNBcHBsZXRDb21wbGV0ZWQgPSBjb21wbGV0ZWRBcHBsZXRzLmhhcyhhcHBsZXQuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIGZvcm0gYW5kIHdoZXRoZXIgaXQncyBzdGlsbCBhY2NlcHRpbmcgcmVzcG9uc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0Zvcm0gPSBhcHBsZXQudHlwZSA9PT0gJ2Zvcm0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybUlkID0gYXBwbGV0LmZvcm1faWQgfHwgYXBwbGV0LmNvbmZpZz8uZm9ybV9pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1Jc0xvY2tlZCA9IGlzRm9ybSAmJiBhcHBsZXQuZm9ybT8uc3RhdHVzID09PSAnY2xvc2VkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGFjdHVhbCBmb3JtIHN1Ym1pc3Npb25zLCBub3QganVzdCBhcHBsZXQgc3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VySGFzU3VibWl0dGVkID0gaXNGb3JtICYmIGZvcm1JZCAmJiB1c2VyRm9ybVJlc3BvbnNlc1tmb3JtSWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgZGlzcGxheSBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJ1dHRvblN0YXRlID0gJ2F2YWlsYWJsZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhdHVzTWVzc2FnZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBjb21wbGV0aW9uIGRhdGUgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0aW9uRGF0ZSA9IGFwcGxldC51c2VyX2NvbXBsZXRlZF9hdCA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGFwcGxldC51c2VyX2NvbXBsZXRlZF9hdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogJ3Nob3J0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Ym1pc3Npb25EYXRlID0gdXNlckhhc1N1Ym1pdHRlZCAmJiB1c2VyRm9ybVJlc3BvbnNlc1tmb3JtSWRdPy5zdWJtaXR0ZWRfYXQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKHVzZXJGb3JtUmVzcG9uc2VzW2Zvcm1JZF0uc3VibWl0dGVkX2F0KS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6ICdzaG9ydCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6ICdudW1lcmljJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pIDogY29tcGxldGlvbkRhdGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJIYXNTdWJtaXR0ZWQgJiYgZm9ybUlzTG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlciBoYXMgc3VibWl0dGVkIEFORCBmb3JtIGlzIGxvY2tlZCAtIGNhbiB2aWV3IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25TdGF0ZSA9ICdjb21wbGV0ZWQtbG9ja2VkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNNZXNzYWdlID0gc3VibWlzc2lvbkRhdGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYEZvcm0gc3VibWl0dGVkIG9uICR7c3VibWlzc2lvbkRhdGV9IOKAoiBMb2NrZWRgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGb3JtIGNvbXBsZXRlZCAmIGxvY2tlZC4gTm8gbG9uZ2VyIGFjY2VwdGluZyByZXNwb25zZXMuJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VySGFzU3VibWl0dGVkICYmICFmb3JtSXNMb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGhhcyBzdWJtaXR0ZWQgYnV0IGZvcm0gc3RpbGwgYWNjZXB0aW5nIHJlc3BvbnNlcyAtIGNhbiBlZGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uU3RhdGUgPSAndXNlci1jb21wbGV0ZS1lZGl0YWJsZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzTWVzc2FnZSA9IHN1Ym1pc3Npb25EYXRlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBTdWJtaXR0ZWQgb24gJHtzdWJtaXNzaW9uRGF0ZX0g4oCiIENsaWNrIHRvIGVkaXRgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdGb3JtIGNvbXBsZXRlZCEgV2UgYXJlIHN0aWxsIGF3YWl0aW5nIG90aGVyIHJlc3BvbnNlcy4gV2FudCB0byBtYWtlIGEgY2hhbmdlPyBDbGljayB0aGUgcGVuY2lsIGljb24uJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmb3JtSXNMb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JtIGlzIGxvY2tlZCBidXQgdXNlciBoYXNuJ3Qgc3VibWl0dGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uU3RhdGUgPSAnbG9ja2VkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNNZXNzYWdlID0gJ0Zvcm0gY2xvc2VkIHRvIG5ldyByZXNwb25zZXMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcGxldC50eXBlID09PSAnbGlua19zdWJtaXNzaW9uJyAmJiBpc0FwcGxldENvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW5rIHN1Ym1pc3Npb25zIHNob3VsZCBiZSB2aWV3YWJsZSBldmVuIGFmdGVyIGNvbXBsZXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uU3RhdGUgPSAnbGluay1jb21wbGV0ZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNNZXNzYWdlID0gY29tcGxldGlvbkRhdGUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBMaW5rcyByZXZpZXdlZCBvbiAke2NvbXBsZXRpb25EYXRlfWAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdMaW5rcyByZXZpZXdlZCAtIGNsaWNrIHRvIHZpZXcgYWdhaW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoYXBwbGV0LnR5cGUgPT09ICd1cGxvYWQnIHx8IGFwcGxldC50eXBlID09PSAnZmlsZV91cGxvYWQnKSAmJiBpc0FwcGxldENvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaWxlIHVwbG9hZHMgc2hvdWxkIGJlIHZpZXdhYmxlIGV2ZW4gYWZ0ZXIgY29tcGxldGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25TdGF0ZSA9ICdmaWxlLWNvbXBsZXRlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c01lc3NhZ2UgPSBjb21wbGV0aW9uRGF0ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYEZpbGVzIHJldmlld2VkIG9uICR7Y29tcGxldGlvbkRhdGV9YCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZpbGVzIHJldmlld2VkIC0gY2xpY2sgdG8gdmlldyBhZ2Fpbic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQXBwbGV0Q29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0YXRlID0gJ2NvbXBsZXRlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c01lc3NhZ2UgPSBjb21wbGV0aW9uRGF0ZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYENvbXBsZXRlZCBvbiAke2NvbXBsZXRpb25EYXRlfWAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXthcHBsZXQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQXBwbGV0Q2xpY2soYXBwbGV0LCBwcm9qZWN0bGV0LCBidXR0b25TdGF0ZSA9PT0gJ2NvbXBsZXRlZC1sb2NrZWQnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17YnV0dG9uU3RhdGUgPT09ICdsb2NrZWQnIHx8IChidXR0b25TdGF0ZSA9PT0gJ2NvbXBsZXRlZCcgJiYgYXBwbGV0LnR5cGUgIT09ICdsaW5rX3N1Ym1pc3Npb24nICYmIGFwcGxldC50eXBlICE9PSAndXBsb2FkJyAmJiBhcHBsZXQudHlwZSAhPT0gJ2ZpbGVfdXBsb2FkJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHAtNCByb3VuZGVkLWxnIGJvcmRlci0yIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25TdGF0ZSA9PT0gJ2NvbXBsZXRlZC1sb2NrZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTUwIGJvcmRlci1ncmVlbi0zMDAgaG92ZXI6Ym9yZGVyLWdyZWVuLTQwMCBob3ZlcjpzaGFkb3ctbWQgY3Vyc29yLXBvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYnV0dG9uU3RhdGUgPT09ICd1c2VyLWNvbXBsZXRlLWVkaXRhYmxlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi01MCBib3JkZXItZ3JlZW4tMzAwIGhvdmVyOmJvcmRlci1ncmVlbi00MDAgaG92ZXI6c2hhZG93LW1kIGN1cnNvci1wb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGJ1dHRvblN0YXRlID09PSAnbGluay1jb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTUwIGJvcmRlci1ncmVlbi0zMDAgaG92ZXI6Ym9yZGVyLWdyZWVuLTQwMCBob3ZlcjpzaGFkb3ctbWQgY3Vyc29yLXBvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYnV0dG9uU3RhdGUgPT09ICdmaWxlLWNvbXBsZXRlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tNTAgYm9yZGVyLWdyZWVuLTMwMCBob3Zlcjpib3JkZXItZ3JlZW4tNDAwIGhvdmVyOnNoYWRvdy1tZCBjdXJzb3ItcG9pbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBidXR0b25TdGF0ZSA9PT0gJ2xvY2tlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JheS01MCBib3JkZXItZ3JheS0zMDAgY3Vyc29yLWRlZmF1bHQgb3BhY2l0eS03NSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBidXR0b25TdGF0ZSA9PT0gJ2NvbXBsZXRlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tNTAgYm9yZGVyLWdyZWVuLTMwMCBjdXJzb3ItZGVmYXVsdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctd2hpdGUgYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJvcmRlci1wdXJwbGUtMzAwIGhvdmVyOnNoYWRvdy1tZCBjdXJzb3ItcG9pbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHAtMiByb3VuZGVkLWxnICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uU3RhdGUgPT09ICdjb21wbGV0ZWQtbG9ja2VkJyB8fCBidXR0b25TdGF0ZSA9PT0gJ3VzZXItY29tcGxldGUtZWRpdGFibGUnIHx8IGJ1dHRvblN0YXRlID09PSAnbGluay1jb21wbGV0ZWQnID8gJ2JnLWdyZWVuLTEwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0YXRlID09PSAnZmlsZS1jb21wbGV0ZWQnID8gJ2JnLWdyZWVuLTEwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0YXRlID09PSAnbG9ja2VkJyA/ICdiZy1ncmF5LTEwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0YXRlID09PSAnY29tcGxldGVkJyA/ICdiZy1ncmVlbi0xMDAnIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2JnLXB1cnBsZS0xMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YnV0dG9uU3RhdGUgPT09ICdjb21wbGV0ZWQtbG9ja2VkJyB8fCBidXR0b25TdGF0ZSA9PT0gJ3VzZXItY29tcGxldGUtZWRpdGFibGUnIHx8IGJ1dHRvblN0YXRlID09PSAnY29tcGxldGVkJyB8fCBidXR0b25TdGF0ZSA9PT0gJ2xpbmstY29tcGxldGVkJyB8fCBidXR0b25TdGF0ZSA9PT0gJ2ZpbGUtY29tcGxldGVkJyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtZ3JlZW4tNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogYnV0dG9uU3RhdGUgPT09ICdsb2NrZWQnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExvY2sgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWdyYXktNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXB1cnBsZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YXBwbGV0LnR5cGUgPT09ICdmb3JtJyAmJiBhcHBsZXQuZm9ybT8udGl0bGUgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXBwbGV0LmZvcm0udGl0bGUgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYXBwbGV0LnR5cGUgPT09ICdsaW5rX3N1Ym1pc3Npb24nICYmIGFwcGxldC5jb25maWc/LmhlYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcHBsZXQuY29uZmlnLmhlYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYXBwbGV0LnR5cGUgPT09ICd1cGxvYWQnIHx8IGFwcGxldC50eXBlID09PSAnZmlsZV91cGxvYWQnKSAmJiBhcHBsZXQuY29uZmlnPy5oZWFkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXBwbGV0LmNvbmZpZy5oZWFkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYXBwbGV0Lm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0dXNNZXNzYWdlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGl0YWxpY1wiPntzdGF0dXNNZXNzYWdlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogYXBwbGV0LmNsaWVudF9pbnN0cnVjdGlvbnMgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj57YXBwbGV0LmNsaWVudF9pbnN0cnVjdGlvbnN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YnV0dG9uU3RhdGUgPT09ICdsb2NrZWQnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9jayBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtZ3JheS01MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IGJ1dHRvblN0YXRlID09PSAndXNlci1jb21wbGV0ZS1lZGl0YWJsZScgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0MiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtZ3JlZW4tNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBidXR0b25TdGF0ZSA9PT0gJ2NvbXBsZXRlZC1sb2NrZWQnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IGJ1dHRvblN0YXRlID09PSAnbGluay1jb21wbGV0ZWQnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IGJ1dHRvblN0YXRlID09PSAnZmlsZS1jb21wbGV0ZWQnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IGJ1dHRvblN0YXRlID09PSAnY29tcGxldGVkJyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGFwcGxldC50eXBlID09PSAndXBsb2FkJyB8fCBhcHBsZXQudHlwZSA9PT0gJ2ZpbGVfdXBsb2FkJykgPyAnUmV2aWV3IEZpbGVzIOKGkicgOiAnU3RhcnQg4oaSJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRm9ybSBNb2RhbCAqL31cbiAgICAgIHtzaG93Rm9ybU1vZGFsICYmIGZvcm1EYXRhICYmIChcbiAgICAgICAgPEZvcm1Nb2RhbFxuICAgICAgICAgIGZvcm09e2Zvcm1EYXRhfVxuICAgICAgICAgIG9uU3VibWl0PXtoYW5kbGVGb3JtU3VibWl0fVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHtcbiAgICAgICAgICAgIC8vIFNhdmUgcHJvZ3Jlc3Mgd2hlbiBjbG9zaW5nXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRBcHBsZXQ/LmZvcm1faWQpIHtcbiAgICAgICAgICAgICAgLy8gUHJvZ3Jlc3MgaXMgYXV0b21hdGljYWxseSBzYXZlZCB2aWEgb25Qcm9ncmVzc1VwZGF0ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0U2hvd0Zvcm1Nb2RhbChmYWxzZSk7XG4gICAgICAgICAgICBzZXRJc0Zvcm1WaWV3T25seShmYWxzZSk7IC8vIFJlc2V0IHZpZXctb25seSBtb2RlIHdoZW4gY2xvc2luZ1xuICAgICAgICAgIH19XG4gICAgICAgICAgc2F2ZWRQcm9ncmVzcz17Zm9ybVByb2dyZXNzW3NlbGVjdGVkQXBwbGV0Py5mb3JtX2lkXX1cbiAgICAgICAgICBvblByb2dyZXNzVXBkYXRlPXtudWxsfVxuICAgICAgICAgIGlzVmlld09ubHk9e2lzRm9ybVZpZXdPbmx5fVxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAgey8qIExpbmsgU3VibWlzc2lvbiBNb2RhbCAqL31cbiAgICAgIHtzaG93TGlua1N1Ym1pc3Npb25Nb2RhbCAmJiBzZWxlY3RlZEFwcGxldCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay81MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTQgei01MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBtYXgtdy0yeGwgdy1mdWxsIG1heC1oLVs5MHZoXSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IGJvcmRlci1iXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPlxuICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQXBwbGV0LmNvbmZpZz8uaGVhZGluZyB8fCAnTGlua3MgJiBSZXNvdXJjZXMnfVxuICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0xpbmtTdWJtaXNzaW9uTW9kYWwoZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIGhvdmVyOmJnLWdyYXktMTAwIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctNiBoLTZcIiAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge3NlbGVjdGVkQXBwbGV0LmNvbmZpZz8uZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1ncmF5LTYwMFwiPntzZWxlY3RlZEFwcGxldC5jb25maWcuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02XCI+XG4gICAgICAgICAgICAgIHtzZWxlY3RlZEFwcGxldC5jb25maWc/LmxpbmtzICYmIHNlbGVjdGVkQXBwbGV0LmNvbmZpZy5saW5rcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRBcHBsZXQuY29uZmlnLmxpbmtzLm1hcCgobGluaywgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cImJvcmRlciByb3VuZGVkLWxnIHAtNCBob3ZlcjpiZy1ncmF5LTUwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e2xpbmsudXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTMgZ3JvdXBcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFeHRlcm5hbExpbmsgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWJsdWUtNjAwIG10LTEgZmxleC1zaHJpbmstMCBncm91cC1ob3Zlcjp0ZXh0LWJsdWUtNzAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtYmx1ZS02MDAgZ3JvdXAtaG92ZXI6dGV4dC1ibHVlLTcwMCBncm91cC1ob3Zlcjp1bmRlcmxpbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGluay50ZXh0IHx8ICdWaWV3IExpbmsnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtsaW5rLmRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbXQtMVwiPntsaW5rLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtY2VudGVyIHB5LThcIj5ObyBsaW5rcyBhdmFpbGFibGUgeWV0LjwvcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHtzZWxlY3RlZEFwcGxldC5jb25maWc/LmFsbG93X2NsaWVudF9hY2tub3dsZWRnbWVudCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IHB0LTYgYm9yZGVyLXRcIj5cbiAgICAgICAgICAgICAgICAgIHtjb21wbGV0ZWRBcHBsZXRzLmhhcyhzZWxlY3RlZEFwcGxldC5pZCkgfHwgc2VsZWN0ZWRBcHBsZXQudXNlcl9zdGF0dXMgPT09ICdjb21wbGV0ZWQnID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBweS0zIGJnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTcwMCByb3VuZGVkLWxnIHRleHQtY2VudGVyIGZvbnQtbWVkaXVtIGJvcmRlciBib3JkZXItZ3JlZW4tMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAg4pyTIE1hcmtlZCBhcyBSZXZpZXdlZCBvbiB7c2VsZWN0ZWRBcHBsZXQudXNlcl9jb21wbGV0ZWRfYXQgPyBcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKHNlbGVjdGVkQXBwbGV0LnVzZXJfY29tcGxldGVkX2F0KS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogJ3Nob3J0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0J1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICdSZWNlbnRseSdcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgYXMgYWNrbm93bGVkZ2VkXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaChgL2FwaS9hbG9hLXByb2plY3RzLyR7cGFyYW1zLnByb2plY3RJZH0vY2xpZW50LXZpZXdgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxldElkOiBzZWxlY3RlZEFwcGxldC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uVHlwZTogJ2NvbXBsZXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgYWNrbm93bGVkZ2VkOiB0cnVlLCBhY2tub3dsZWRnZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbXBsZXRlZEFwcGxldHMocHJldiA9PiBuZXcgU2V0KFsuLi5wcmV2LCBzZWxlY3RlZEFwcGxldC5pZF0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dMaW5rU3VibWlzc2lvbk1vZGFsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBjb25mZXR0aSBjZWxlYnJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0NvbmZldHRpKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTaG93Q29uZmV0dGkoZmFsc2UpLCA3MDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVmcmVzaCBwcm9qZWN0IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUHJvamVjdERhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0zIGJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JlZW4tNzAwIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIE1hcmsgYXMgUmV2aWV3ZWRcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIEZpbGUgVXBsb2FkIE1vZGFsICovfVxuICAgICAge3Nob3dGaWxlVXBsb2FkTW9kYWwgJiYgc2VsZWN0ZWRBcHBsZXQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00IHotNTBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgbWF4LXctMnhsIHctZnVsbCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBib3JkZXItYlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEFwcGxldC5jb25maWc/LmhlYWRpbmcgfHwgJ0ZpbGUgRG93bmxvYWRzJ31cbiAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dGaWxlVXBsb2FkTW9kYWwoZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIGhvdmVyOmJnLWdyYXktMTAwIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctNiBoLTZcIiAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAge3NlbGVjdGVkQXBwbGV0LmNvbmZpZz8uZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1ncmF5LTYwMFwiPntzZWxlY3RlZEFwcGxldC5jb25maWcuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02XCI+XG4gICAgICAgICAgICAgIHtzZWxlY3RlZEFwcGxldC5jb25maWc/LmZpbGVzICYmIHNlbGVjdGVkQXBwbGV0LmNvbmZpZy5maWxlcy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRBcHBsZXQuY29uZmlnLmZpbGVzLm1hcCgoZmlsZSwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldEZpbGVJY29uID0gKGZpbGVOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gZmlsZU5hbWUuc3BsaXQoJy4nKS5wb3AoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlRXh0cyA9IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2dpZicsICdzdmcnXTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NFeHRzID0gWydwZGYnLCAnZG9jJywgJ2RvY3gnLCAndHh0J107XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlRXh0cy5pbmNsdWRlcyhleHQpKSByZXR1cm4gJ/CflrzvuI8nO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2NFeHRzLmluY2x1ZGVzKGV4dCkpIHJldHVybiAn8J+ThCc7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGV4dCA9PT0gJ3ppcCcgfHwgZXh0ID09PSAncmFyJykgcmV0dXJuICfwn5OmJztcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ/Cfk44nO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoYnl0ZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJ5dGVzIHx8IGJ5dGVzID09PSAwKSByZXR1cm4gJzAgQnl0ZXMnO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGsgPSAxMDI0O1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemVzID0gWydCeXRlcycsICdLQicsICdNQicsICdHQiddO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgubG9nKGJ5dGVzKSAvIE1hdGgubG9nKGspKTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChieXRlcyAvIE1hdGgucG93KGssIGkpICogMTAwKSAvIDEwMCArICcgJyArIHNpemVzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aWR4fSBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1sZyBwLTQgaG92ZXI6YmctZ3JheS01MCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bFwiPntnZXRGaWxlSWNvbihmaWxlLm5hbWUpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmlsZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmlsZS5jYXRlZ29yeSA9PT0gJ2ZpbmFsLWRlbGl2ZXJhYmxlcycgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC14cyBiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi03MDAgcHgtMiBweS0wLjUgcm91bmRlZFwiPkZpbmFsPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRGaWxlU2l6ZShmaWxlLnNpemUpfSDigKIgVXBsb2FkZWQge25ldyBEYXRlKGZpbGUudXBsb2FkZWRfYXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmlsZS5zdG9yYWdlX3R5cGUgPT09ICdzdXBhYmFzZScgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgdGV4dC1ibHVlLTYwMFwiPuKYge+4jyBDbG91ZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmFjayBkb3dubG9hZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9wcm9qZWN0LWZpbGVzJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGlkOiBmaWxlLmlkLCBpbmNyZW1lbnRfZG93bmxvYWQ6IHRydWUgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Rvd25sb2FkIHRyYWNraW5nIGZhaWxlZDonLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgc3RvcmFnZSB0eXBlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuc3RvcmFnZV90eXBlID09PSAnc3VwYWJhc2UnICYmIGZpbGUudXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cGFiYXNlIFN0b3JhZ2UgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihmaWxlLnVybCwgJ19ibGFuaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpbGUudXJsICYmICFmaWxlLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVnYWN5IFVSTCBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGZpbGUudXJsLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmlsZS5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJhc2U2NCBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IGZpbGUuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IGZpbGUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluay5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHB4LTQgcHktMiBiZy1wdXJwbGUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1wdXJwbGUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEb3dubG9hZCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Eb3dubG9hZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogTWFyayBhcyBSZXZpZXdlZCBCdXR0b24gKi99XG4gICAgICAgICAgICAgICAgICB7IWNvbXBsZXRlZEFwcGxldHMuaGFzKHNlbGVjdGVkQXBwbGV0LmlkKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXJrIGFwcGxldCBhcyBjb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvYWxvYS1wcm9qZWN0cy8ke3BhcmFtcy5wcm9qZWN0SWR9L2NsaWVudC12aWV3YCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsZXRJZDogc2VsZWN0ZWRBcHBsZXQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvblR5cGU6ICdmaWxlX3JldmlldycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNrbm93bGVkZ2VkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgYXBwbGV0IHByb2dyZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZSBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29tcGxldGVkQXBwbGV0cyhwcmV2ID0+IG5ldyBTZXQoWy4uLnByZXYsIHNlbGVjdGVkQXBwbGV0LmlkXSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNlbGVjdGVkIGFwcGxldCB0byBzaG93IGNvbXBsZXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRBcHBsZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNlbGVjdGVkQXBwbGV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX3Byb2dyZXNzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkQXBwbGV0KHVwZGF0ZWRBcHBsZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGNvbmZldHRpIGNlbGVicmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93Q29uZmV0dGkodHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgYSBtb21lbnQgZm9yIHRoZSB1c2VyIHRvIHNlZSB0aGUgc3VjY2VzcywgdGhlbiBjbG9zZSBtb2RhbFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dDb25mZXR0aShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dGaWxlVXBsb2FkTW9kYWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCByZWZyZXNoIHByb2plY3QgZGF0YSBoZXJlIGFzIGl0IHdpbGwgcmVzZXQgbG9jYWwgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNvbXBsZXRpb24gaXMgYWxyZWFkeSB0cmFja2VkIGxvY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTMgYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmVlbi03MDAgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1tZWRpdW0gbXQtNFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBNYXJrIEZpbGVzIGFzIFJldmlld2VkXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgey8qIFNob3cgd2hlbiBhbHJlYWR5IHJldmlld2VkICovfVxuICAgICAgICAgICAgICAgICAge2NvbXBsZXRlZEFwcGxldHMuaGFzKHNlbGVjdGVkQXBwbGV0LmlkKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktMyBiZy1ncmVlbi01MCB0ZXh0LWdyZWVuLTcwMCByb3VuZGVkLWxnIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAg4pyTIEZpbGVzIHJldmlld2VkIG9uIHtuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS04IHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgIDxGaWxlIGNsYXNzTmFtZT1cInctMTIgaC0xMiBteC1hdXRvIG1iLTMgdGV4dC1ncmF5LTMwMFwiIC8+XG4gICAgICAgICAgICAgICAgICA8cD5ObyBmaWxlcyBhdmFpbGFibGUgeWV0PC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBtdC0xXCI+Q2hlY2sgYmFjayBsYXRlciBmb3IgcHJvamVjdCBmaWxlczwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBBbGxvdyBjbGllbnQgdXBsb2FkIGlmIGVuYWJsZWQgKi99XG4gICAgICAgICAgICAgIHtzZWxlY3RlZEFwcGxldC5jb25maWc/LmFsbG93X2NsaWVudF91cGxvYWQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBwdC02IGJvcmRlci10XCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbWItM1wiPllvdSBjYW4gdXBsb2FkIGZpbGVzIHRvbzo8L3A+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2FzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGNsaWVudCBmaWxlIHVwbG9hZFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0NsaWVudCBmaWxlIHVwbG9hZCBjb21pbmcgc29vbiEnKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgcC00IHRleHQtY2VudGVyIGN1cnNvci1wb2ludGVyIGhvdmVyOmJvcmRlci1wdXJwbGUtNDAwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFVwbG9hZCBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtZ3JheS00MDAgbXgtYXV0byBtYi0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5DbGljayB0byB1cGxvYWQgZmlsZTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgTWF4IHtzZWxlY3RlZEFwcGxldC5jb25maWcubWF4X2ZpbGVfc2l6ZSB8fCAxMH1NQlxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuLy8gRm9ybSBNb2RhbCBDb21wb25lbnQgLSBVc2luZyBNdWx0aVN0ZXBGb3JtUmVuZGVyZXJcbmZ1bmN0aW9uIEZvcm1Nb2RhbCh7IGZvcm0sIG9uU3VibWl0LCBvbkNsb3NlLCBzYXZlZFByb2dyZXNzLCBvblByb2dyZXNzVXBkYXRlLCBpc1ZpZXdPbmx5ID0gZmFsc2UgfSkge1xuICAvLyBDcmVhdGUgYSBjdXN0b20gb25TdWJtaXQgaGFuZGxlciB0aGF0IHdvcmtzIHdpdGggTXVsdGlTdGVwRm9ybVJlbmRlcmVyXG4gIGNvbnN0IGhhbmRsZUZvcm1Db21wbGV0ZSA9IGFzeW5jIChyZXNwb25zZXMpID0+IHtcbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2VzIHRvIG1hdGNoIGV4cGVjdGVkIGZvcm1hdFxuICAgIGNvbnN0IHRyYW5zZm9ybWVkUmVzcG9uc2VzID0ge307XG4gICAgT2JqZWN0LmtleXMocmVzcG9uc2VzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICB0cmFuc2Zvcm1lZFJlc3BvbnNlc1trZXldID0gcmVzcG9uc2VzW2tleV07XG4gICAgfSk7XG4gICAgXG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IG9uU3VibWl0IGhhbmRsZXJcbiAgICBhd2FpdCBvblN1Ym1pdCh0cmFuc2Zvcm1lZFJlc3BvbnNlcyk7XG4gICAgb25DbG9zZSgpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrLzUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNCB6LTUwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgbWF4LXctNHhsIHctZnVsbCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtNCB0b3AtNCBwLTIgaG92ZXI6YmctZ3JheS0xMDAgcm91bmRlZC1sZyB6LTEwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNlwiPlxuICAgICAgICAgICAgPE11bHRpU3RlcEZvcm1SZW5kZXJlciBcbiAgICAgICAgICAgICAgZm9ybT17Zm9ybX0gXG4gICAgICAgICAgICAgIGlzTW9kYWw9e3RydWV9XG4gICAgICAgICAgICAgIG9uQ29tcGxldGU9e2hhbmRsZUZvcm1Db21wbGV0ZX1cbiAgICAgICAgICAgICAgaW5pdGlhbERhdGE9e3NhdmVkUHJvZ3Jlc3M/LmRhdGF9XG4gICAgICAgICAgICAgIGluaXRpYWxTZWN0aW9uPXtzYXZlZFByb2dyZXNzPy5zZWN0aW9ufVxuICAgICAgICAgICAgICBvblByb2dyZXNzQ2hhbmdlPXtvblByb2dyZXNzVXBkYXRlfVxuICAgICAgICAgICAgICBpc1ZpZXdPbmx5PXtpc1ZpZXdPbmx5fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2xpZW50RGFzaGJvYXJkUGFnZSgpIHtcbiAgcmV0dXJuIChcbiAgICA8QXV0aEd1YXJkIFxuICAgICAgcmVxdWlyZUF1dGg9e3RydWV9IFxuICAgICAgYWxsb3dlZFJvbGVzPXtbJ2NsaWVudCcsICdzdXBlcl9hZG1pbicsICdwcm9qZWN0X2FkbWluJywgJ3RlYW1fbWVtYmVyJ119XG4gICAgICByZWRpcmVjdFRvPVwiL2F1dGgvbG9naW5cIlxuICAgID5cbiAgICAgIDxDbGllbnREYXNoYm9hcmQgLz5cbiAgICA8L0F1dGhHdWFyZD5cbiAgKTtcbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VQYXJhbXMiLCJ1c2VSb3V0ZXIiLCJBcnJvd0xlZnQiLCJDaGVja0NpcmNsZSIsIkNsb2NrIiwiTG9jayIsIkZpbGVUZXh0IiwiVXBsb2FkIiwiRXllIiwiTWVzc2FnZVNxdWFyZSIsIlBhbGV0dGUiLCJTdGFyIiwiVHJvcGh5IiwiVGFyZ2V0IiwiWmFwIiwiWCIsIkVkaXQyIiwiRXh0ZXJuYWxMaW5rIiwiTGluayIsIkRvd25sb2FkIiwiRmlsZSIsImR5bmFtaWMiLCJNdWx0aVN0ZXBGb3JtUmVuZGVyZXIiLCJBdXRoR3VhcmQiLCJ1c2VFc2NhcGVLZXkiLCJjcmVhdGVDbGllbnQiLCJDb25mZXR0aUNlbGVicmF0aW9uIiwic3NyIiwiQ2xpZW50RGFzaGJvYXJkIiwic2VsZWN0ZWRBcHBsZXQiLCJwYXJhbXMiLCJyb3V0ZXIiLCJwcm9qZWN0Iiwic2V0UHJvamVjdCIsInByb2plY3RsZXRzIiwic2V0UHJvamVjdGxldHMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNldFNlbGVjdGVkQXBwbGV0Iiwic2hvd0Zvcm1Nb2RhbCIsInNldFNob3dGb3JtTW9kYWwiLCJmb3JtRGF0YSIsInNldEZvcm1EYXRhIiwic2hvd0NvbmZldHRpIiwic2V0U2hvd0NvbmZldHRpIiwiY29tcGxldGVkQXBwbGV0cyIsInNldENvbXBsZXRlZEFwcGxldHMiLCJTZXQiLCJzdGF0cyIsInNldFN0YXRzIiwidG90YWxBcHBsZXRzIiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwiZm9ybVByb2dyZXNzIiwic2V0Rm9ybVByb2dyZXNzIiwidXNlcklkIiwic2V0VXNlcklkIiwidXNlckZvcm1SZXNwb25zZXMiLCJzZXRVc2VyRm9ybVJlc3BvbnNlcyIsImlzRm9ybVZpZXdPbmx5Iiwic2V0SXNGb3JtVmlld09ubHkiLCJzaG93TGlua1N1Ym1pc3Npb25Nb2RhbCIsInNldFNob3dMaW5rU3VibWlzc2lvbk1vZGFsIiwic2hvd0ZpbGVVcGxvYWRNb2RhbCIsInNldFNob3dGaWxlVXBsb2FkTW9kYWwiLCJnZXRBdXRoZW50aWNhdGVkVXNlciIsInN1cGFiYXNlIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsImF1dGgiLCJnZXRVc2VyIiwiaWQiLCJjb25zb2xlIiwic3RvcmVkVXNlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIm5ld1VzZXJJZCIsIk1hdGgiLCJEYXRlIiwibm93IiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJzZXRJdGVtIiwiZmV0Y2hQcm9qZWN0RGF0YSIsInByb2plY3RJZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJqc29uIiwiY29tcGxldGVkIiwiZm9yRWFjaCIsInByb2plY3RsZXQiLCJhcHBsZXRzIiwiYXBwbGV0Iiwic3RhdHVzIiwidXNlcl9zdGF0dXMiLCJhZGQiLCJmb3JtX3Byb2dyZXNzIiwiZm9ybV9pZCIsInByZXYiLCJmb3JtSWRzIiwidHlwZSIsImNvbmZpZyIsImZvcm1SZXNwb25zZXMiLCJmb3JtSWQiLCJyZXNwb25zZVJlcyIsIm9rIiwicmVzcG9uc2VEYXRhIiwicmVzcG9uc2VzIiwibGVuZ3RoIiwibG9nIiwiaGFuZGxlQXBwbGV0Q2xpY2siLCJpc1ZpZXdPbmx5IiwiaXNGb3JtIiwiaXNMaW5rU3VibWlzc2lvbiIsImlzRmlsZVVwbG9hZCIsImZvcm1Jc0xvY2tlZCIsImZvcm0iLCJ1c2VySGFzQ29tcGxldGVkIiwiaGFzIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXBwbGV0SWQiLCJpbnRlcmFjdGlvblR5cGUiLCJhbGVydCIsInByZXZpb3VzUmVzcG9uc2VzIiwicmVzcG9uc2VfZGF0YSIsInRyYW5zZm9ybWVkRm9ybSIsInNvcnRlZEZpZWxkcyIsImFsb2FfZm9ybV9maWVsZHMiLCJzb3J0IiwiYSIsImIiLCJmaWVsZF9vcmRlciIsIl9pZCIsInVybElkIiwidXJsX2lkIiwiZmllbGRzIiwibWFwIiwiZmllbGQiLCJsYWJlbCIsImZpZWxkX2xhYmVsIiwibmFtZSIsImZpZWxkX25hbWUiLCJmaWVsZF90eXBlIiwicG9zaXRpb24iLCJzZWN0aW9uIiwidmFsaWRhdGlvbiIsInJlcXVpcmVkIiwicGxhY2Vob2xkZXIiLCJvcHRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwicGFyc2UiLCJmb3JtUmVzIiwiRXJyb3IiLCJoYW5kbGVGb3JtU3VibWl0IiwiY3NyZlRva2VuIiwic3Vic3RyaW5nIiwiZG9jdW1lbnQiLCJjb29raWUiLCJyZXNwb25zZVJlc3VsdCIsInRleHQiLCJ1cGRhdGVSZXN1bHQiLCJmb3JtX3Jlc3BvbnNlcyIsIm5ld0NvbXBsZXRlZCIsInN1Ym1pdHRlZF9hdCIsInRvSVNPU3RyaW5nIiwibmV3UHJvZ3Jlc3MiLCJzZXRUaW1lb3V0IiwiZ2V0QXBwbGV0SWNvbiIsImljb25zIiwidXBsb2FkIiwicmV2aWV3IiwibW9vZGJvYXJkIiwiY29udGVudF9nYXRoZXIiLCJjYWxjdWxhdGVQcm9ncmVzcyIsImRpdiIsImNsYXNzTmFtZSIsInByb2dyZXNzIiwic2hvdyIsImR1cmF0aW9uIiwiaDEiLCJwcm9qZWN0X25hbWUiLCJwIiwic3ZnIiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsImZpbGwiLCJzdHJva2VEYXNoYXJyYXkiLCJzcGFuIiwiaW5Qcm9ncmVzc0NvdW50IiwiZmlsdGVyIiwiaDIiLCJpbmRleCIsImlzTG9ja2VkIiwiaXNDb21wbGV0ZWQiLCJoYXNTdGFydGVkQXBwbGV0cyIsInNvbWUiLCJhbGxBcHBsZXRzQ29tcGxldGUiLCJldmVyeSIsImlzSW5Qcm9ncmVzcyIsImgzIiwiZGVzY3JpcHRpb24iLCJkZWFkbGluZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIkljb24iLCJpc0FwcGxldENvbXBsZXRlZCIsInVzZXJIYXNTdWJtaXR0ZWQiLCJidXR0b25TdGF0ZSIsInN0YXR1c01lc3NhZ2UiLCJjb21wbGV0aW9uRGF0ZSIsInVzZXJfY29tcGxldGVkX2F0IiwibW9udGgiLCJkYXkiLCJ5ZWFyIiwic3VibWlzc2lvbkRhdGUiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJ0aXRsZSIsImhlYWRpbmciLCJjbGllbnRfaW5zdHJ1Y3Rpb25zIiwiRm9ybU1vZGFsIiwib25TdWJtaXQiLCJvbkNsb3NlIiwic2F2ZWRQcm9ncmVzcyIsIm9uUHJvZ3Jlc3NVcGRhdGUiLCJsaW5rcyIsImxpbmsiLCJpZHgiLCJocmVmIiwidXJsIiwidGFyZ2V0IiwicmVsIiwiYWxsb3dfY2xpZW50X2Fja25vd2xlZGdtZW50IiwiaG91ciIsIm1pbnV0ZSIsImFja25vd2xlZGdlZCIsImFja25vd2xlZGdlZEF0IiwiZmlsZXMiLCJmaWxlIiwiZ2V0RmlsZUljb24iLCJmaWxlTmFtZSIsImV4dCIsInNwbGl0IiwicG9wIiwidG9Mb3dlckNhc2UiLCJpbWFnZUV4dHMiLCJkb2NFeHRzIiwiaW5jbHVkZXMiLCJmb3JtYXRGaWxlU2l6ZSIsImJ5dGVzIiwiayIsInNpemVzIiwiaSIsImZsb29yIiwicm91bmQiLCJwb3ciLCJjYXRlZ29yeSIsInNpemUiLCJ1cGxvYWRlZF9hdCIsInN0b3JhZ2VfdHlwZSIsImluY3JlbWVudF9kb3dubG9hZCIsImVyciIsIndpbmRvdyIsIm9wZW4iLCJjcmVhdGVFbGVtZW50IiwiZG93bmxvYWQiLCJjbGljayIsInVwZGF0ZWRBcHBsZXQiLCJ1c2VyX3Byb2dyZXNzIiwiY29tcGxldGVkQXQiLCJhbGxvd19jbGllbnRfdXBsb2FkIiwiaW5wdXQiLCJvbkNoYW5nZSIsImUiLCJtYXhfZmlsZV9zaXplIiwiaGFuZGxlRm9ybUNvbXBsZXRlIiwidHJhbnNmb3JtZWRSZXNwb25zZXMiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiaXNNb2RhbCIsIm9uQ29tcGxldGUiLCJpbml0aWFsRGF0YSIsImluaXRpYWxTZWN0aW9uIiwib25Qcm9ncmVzc0NoYW5nZSIsIkNsaWVudERhc2hib2FyZFBhZ2UiLCJyZXF1aXJlQXV0aCIsImFsbG93ZWRSb2xlcyIsInJlZGlyZWN0VG8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/project/[projectId]/dashboard/page.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./hooks/useEscapeKey.js":
/*!*******************************!*\
  !*** ./hooks/useEscapeKey.js ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useEscapeKey: function() { return /* binding */ useEscapeKey; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar _s = $RefreshSig$();\n\n/**\n * Custom hook to handle ESC key press for closing modals\n * @param {Function} onEscape - Callback function to execute when ESC is pressed\n * @param {boolean} isActive - Whether the hook should be active (typically when modal is open)\n */ function useEscapeKey(onEscape) {\n    let isActive = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n    _s();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!isActive) return;\n        const handleEscape = (event)=>{\n            if (event.key === \"Escape\" || event.keyCode === 27) {\n                onEscape();\n            }\n        };\n        document.addEventListener(\"keydown\", handleEscape);\n        return ()=>{\n            document.removeEventListener(\"keydown\", handleEscape);\n        };\n    }, [\n        onEscape,\n        isActive\n    ]);\n}\n_s(useEscapeKey, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n/* harmony default export */ __webpack_exports__[\"default\"] = (useEscapeKey);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUVzY2FwZUtleS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtDO0FBRWxDOzs7O0NBSUMsR0FDTSxTQUFTQyxhQUFhQyxRQUFRO1FBQUVDLFdBQUFBLGlFQUFXOztJQUNoREgsZ0RBQVNBLENBQUM7UUFDUixJQUFJLENBQUNHLFVBQVU7UUFFZixNQUFNQyxlQUFlLENBQUNDO1lBQ3BCLElBQUlBLE1BQU1DLEdBQUcsS0FBSyxZQUFZRCxNQUFNRSxPQUFPLEtBQUssSUFBSTtnQkFDbERMO1lBQ0Y7UUFDRjtRQUVBTSxTQUFTQyxnQkFBZ0IsQ0FBQyxXQUFXTDtRQUVyQyxPQUFPO1lBQ0xJLFNBQVNFLG1CQUFtQixDQUFDLFdBQVdOO1FBQzFDO0lBQ0YsR0FBRztRQUFDRjtRQUFVQztLQUFTO0FBQ3pCO0dBaEJnQkY7QUFrQmhCLCtEQUFlQSxZQUFZQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2hvb2tzL3VzZUVzY2FwZUtleS5qcz8xODUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBDdXN0b20gaG9vayB0byBoYW5kbGUgRVNDIGtleSBwcmVzcyBmb3IgY2xvc2luZyBtb2RhbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRXNjYXBlIC0gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIEVTQyBpcyBwcmVzc2VkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzQWN0aXZlIC0gV2hldGhlciB0aGUgaG9vayBzaG91bGQgYmUgYWN0aXZlICh0eXBpY2FsbHkgd2hlbiBtb2RhbCBpcyBvcGVuKVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlRXNjYXBlS2V5KG9uRXNjYXBlLCBpc0FjdGl2ZSA9IHRydWUpIHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzQWN0aXZlKSByZXR1cm47XG5cbiAgICBjb25zdCBoYW5kbGVFc2NhcGUgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnIHx8IGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgIG9uRXNjYXBlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFc2NhcGUpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVFc2NhcGUpO1xuICAgIH07XG4gIH0sIFtvbkVzY2FwZSwgaXNBY3RpdmVdKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlRXNjYXBlS2V5OyJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VFc2NhcGVLZXkiLCJvbkVzY2FwZSIsImlzQWN0aXZlIiwiaGFuZGxlRXNjYXBlIiwiZXZlbnQiLCJrZXkiLCJrZXlDb2RlIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useEscapeKey.js\n"));

/***/ })

});