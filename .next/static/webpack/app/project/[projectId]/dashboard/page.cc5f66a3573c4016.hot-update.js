"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/project/[projectId]/dashboard/page",{

/***/ "(app-pages-browser)/./app/project/[projectId]/dashboard/page.js":
/*!***************************************************!*\
  !*** ./app/project/[projectId]/dashboard/page.js ***!
  \***************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ClientDashboardPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/palette.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/lock.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pen.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/external-link.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,CheckCircle,Clock,Download,Edit2,ExternalLink,Eye,File,FileText,Link,Lock,MessageSquare,Palette,Star,Target,Trophy,Upload,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dynamic */ \"(app-pages-browser)/./node_modules/next/dist/api/app-dynamic.js\");\n/* harmony import */ var _components_MultiStepFormRenderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/MultiStepFormRenderer */ \"(app-pages-browser)/./components/MultiStepFormRenderer.js\");\n/* harmony import */ var _components_AuthGuard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/AuthGuard */ \"(app-pages-browser)/./components/AuthGuard.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Dynamic imports for heavy components\nconst ConfettiCelebration = (0,next_dynamic__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(()=>__webpack_require__.e(/*! import() */ \"_app-pages-browser_components_ConfettiCelebration_js\").then(__webpack_require__.bind(__webpack_require__, /*! @/components/ConfettiCelebration */ \"(app-pages-browser)/./components/ConfettiCelebration.js\")), {\n    loadableGenerated: {\n        modules: [\n            \"app/project/[projectId]/dashboard/page.js -> \" + \"@/components/ConfettiCelebration\"\n        ]\n    },\n    ssr: false\n});\n_c = ConfettiCelebration;\nfunction ClientDashboard() {\n    var _selectedApplet_config, _selectedApplet_config1, _selectedApplet_config2, _selectedApplet_config3, _selectedApplet_config4, _selectedApplet_config5, _selectedApplet_config6, _selectedApplet_config7;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [project, setProject] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [projectlets, setProjectlets] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [selectedApplet, setSelectedApplet] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showFormModal, setShowFormModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showConfetti, setShowConfetti] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [completedApplets, setCompletedApplets] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [stats, setStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        totalApplets: 0,\n        completedApplets: 0,\n        progressPercentage: 0\n    });\n    const [formProgress, setFormProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}); // Store progress for each form\n    const [userId, setUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // Track user ID\n    const [userFormResponses, setUserFormResponses] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}); // Track actual form submissions by form ID\n    const [isFormViewOnly, setIsFormViewOnly] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Track if form is in view-only mode\n    const [showLinkSubmissionModal, setShowLinkSubmissionModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Track link submission modal\n    const [showFileUploadModal, setShowFileUploadModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Track file upload modal\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Generate or retrieve user ID\n        const storedUserId = localStorage.getItem(\"client_user_id\");\n        if (storedUserId) {\n            setUserId(storedUserId);\n        } else {\n            // Generate a unique ID for this client session\n            const newUserId = \"client_\".concat(Date.now(), \"_\").concat(Math.random().toString(36).substr(2, 9));\n            localStorage.setItem(\"client_user_id\", newUserId);\n            setUserId(newUserId);\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (userId) {\n            fetchProjectData();\n        }\n    }, [\n        params.projectId,\n        userId\n    ]);\n    const fetchProjectData = async ()=>{\n        try {\n            var _data_projectlets;\n            // Fetch project data and projectlets from client-view endpoint with user ID\n            const response = await fetch(\"/api/aloa-projects/\".concat(params.projectId, \"/client-view?userId=\").concat(userId));\n            const data = await response.json();\n            setProject(data.project);\n            setProjectlets(data.projectlets || []);\n            setStats(data.stats || {\n                totalApplets: 0,\n                completedApplets: 0,\n                progressPercentage: 0\n            });\n            // Build completed set from user-specific status\n            const completed = new Set();\n            (_data_projectlets = data.projectlets) === null || _data_projectlets === void 0 ? void 0 : _data_projectlets.forEach((projectlet)=>{\n                var _projectlet_applets;\n                (_projectlet_applets = projectlet.applets) === null || _projectlet_applets === void 0 ? void 0 : _projectlet_applets.forEach((applet)=>{\n                    // Use user-specific status if available, otherwise fallback to default\n                    const status = applet.user_status || applet.status;\n                    if (status === \"completed\" || status === \"approved\") {\n                        completed.add(applet.id);\n                    }\n                    // Restore form progress if available\n                    if (applet.form_progress && applet.form_id) {\n                        setFormProgress((prev)=>({\n                                ...prev,\n                                [applet.form_id]: applet.form_progress\n                            }));\n                    }\n                });\n            });\n            setCompletedApplets(completed);\n            // Fetch all form responses for this user to properly track submissions\n            try {\n                var _data_projectlets1;\n                const formIds = new Set();\n                (_data_projectlets1 = data.projectlets) === null || _data_projectlets1 === void 0 ? void 0 : _data_projectlets1.forEach((projectlet)=>{\n                    var _projectlet_applets;\n                    (_projectlet_applets = projectlet.applets) === null || _projectlet_applets === void 0 ? void 0 : _projectlet_applets.forEach((applet)=>{\n                        var _applet_config;\n                        if (applet.type === \"form\" && (applet.form_id || ((_applet_config = applet.config) === null || _applet_config === void 0 ? void 0 : _applet_config.form_id))) {\n                            var _applet_config1;\n                            formIds.add(applet.form_id || ((_applet_config1 = applet.config) === null || _applet_config1 === void 0 ? void 0 : _applet_config1.form_id));\n                        }\n                    });\n                });\n                // Fetch responses for all forms\n                const formResponses = {};\n                for (const formId of formIds){\n                    const responseRes = await fetch(\"/api/aloa-responses?form_id=\".concat(formId, \"&user_id=\").concat(userId));\n                    if (responseRes.ok) {\n                        const responseData = await responseRes.json();\n                        if (responseData.responses && responseData.responses.length > 0) {\n                            formResponses[formId] = responseData.responses[0];\n                        }\n                    }\n                }\n                setUserFormResponses(formResponses);\n                console.log(\"User form responses loaded:\", formResponses);\n            } catch (error) {\n                console.error(\"Error fetching form responses:\", error);\n            }\n        } catch (error) {\n            console.error(\"Error fetching project:\", error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleAppletClick = async function(applet, projectlet) {\n        let isViewOnly = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n        var _applet_config, _applet_form;\n        // For forms, allow editing if completed but not locked\n        const isForm = applet.type === \"form\";\n        const isLinkSubmission = applet.type === \"link_submission\";\n        const isFileUpload = applet.type === \"upload\" || applet.type === \"file_upload\";\n        const formId = applet.form_id || ((_applet_config = applet.config) === null || _applet_config === void 0 ? void 0 : _applet_config.form_id);\n        const formIsLocked = isForm && ((_applet_form = applet.form) === null || _applet_form === void 0 ? void 0 : _applet_form.status) === \"closed\";\n        const userHasCompleted = isForm && formId ? userFormResponses[formId] : completedApplets.has(applet.id);\n        // Block if:\n        // 1. Non-form, non-link-submission, non-file-upload applet that's already completed\n        // 2. Form that's locked and user hasn't submitted (can't start new)\n        // Link submissions and file uploads should always be viewable even after completion\n        if (!isForm && !isLinkSubmission && !isFileUpload && userHasCompleted || isForm && formIsLocked && !userHasCompleted) {\n            return; // Cannot proceed\n        }\n        // Mark applet as in progress for this user\n        await fetch(\"/api/aloa-projects/\".concat(params.projectId, \"/client-view\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                appletId: applet.id,\n                status: \"in_progress\",\n                interactionType: \"view\",\n                userId: userId\n            })\n        });\n        if (applet.type === \"form\") {\n            var _applet_config1;\n            // Check for form_id in multiple places\n            const formId = applet.form_id || ((_applet_config1 = applet.config) === null || _applet_config1 === void 0 ? void 0 : _applet_config1.form_id);\n            if (!formId) {\n                console.error(\"No form_id found for applet:\", applet);\n                alert(\"This form is not properly configured. Please contact support.\");\n                return;\n            }\n            // Set view-only mode if form is locked (isViewOnly parameter is true)\n            setIsFormViewOnly(isViewOnly);\n            // If user has already completed this form, get their previous responses\n            let previousResponses = null;\n            if (userHasCompleted && userFormResponses[formId]) {\n                previousResponses = userFormResponses[formId].response_data;\n                console.log(\"Loaded previous responses for\", isViewOnly ? \"viewing\" : \"editing\", \":\", previousResponses);\n            }\n            // Use form data from applet if available, otherwise fetch\n            if (applet.form) {\n                var _form_aloa_form_fields, _transformedForm_fields, _applet_config2;\n                // Transform the preloaded form data to match MultiStepFormRenderer's expected structure\n                const form = applet.form;\n                const sortedFields = ((_form_aloa_form_fields = form.aloa_form_fields) === null || _form_aloa_form_fields === void 0 ? void 0 : _form_aloa_form_fields.sort((a, b)=>(a.field_order || 0) - (b.field_order || 0))) || [];\n                const transformedForm = {\n                    ...form,\n                    _id: form.id,\n                    urlId: form.url_id,\n                    fields: sortedFields.map((field)=>{\n                        var _field_validation;\n                        return {\n                            _id: field.id,\n                            label: field.field_label,\n                            name: field.field_name,\n                            type: field.field_type,\n                            position: field.field_order,\n                            section: ((_field_validation = field.validation) === null || _field_validation === void 0 ? void 0 : _field_validation.section) || \"General Information\",\n                            required: field.required,\n                            placeholder: field.placeholder,\n                            options: Array.isArray(field.options) ? field.options : typeof field.options === \"string\" ? JSON.parse(field.options) : field.options,\n                            validation: field.validation\n                        };\n                    })\n                };\n                console.log(\"Transformed preloaded form:\", transformedForm);\n                console.log(\"Form fields count:\", (_transformedForm_fields = transformedForm.fields) === null || _transformedForm_fields === void 0 ? void 0 : _transformedForm_fields.length);\n                console.log(\"Form fields:\", transformedForm.fields);\n                setFormData(transformedForm);\n                setSelectedApplet({\n                    ...applet,\n                    projectlet,\n                    form_id: applet.form_id || ((_applet_config2 = applet.config) === null || _applet_config2 === void 0 ? void 0 : _applet_config2.form_id)\n                });\n                // If we have previous responses, set them as saved progress\n                if (previousResponses) {\n                    setFormProgress((prev)=>({\n                            ...prev,\n                            [formId]: {\n                                data: previousResponses\n                            }\n                        }));\n                }\n                setShowFormModal(true);\n            } else {\n                try {\n                    var _form_aloa_form_fields1;\n                    const formRes = await fetch(\"/api/aloa-forms/\".concat(formId));\n                    if (!formRes.ok) {\n                        throw new Error(\"Failed to fetch form: \".concat(formRes.status));\n                    }\n                    const form = await formRes.json();\n                    console.log(\"Fetched form:\", form);\n                    // Transform the form data to match MultiStepFormRenderer's expected structure\n                    const sortedFields = ((_form_aloa_form_fields1 = form.aloa_form_fields) === null || _form_aloa_form_fields1 === void 0 ? void 0 : _form_aloa_form_fields1.sort((a, b)=>(a.field_order || 0) - (b.field_order || 0))) || [];\n                    const transformedForm = {\n                        ...form,\n                        _id: form.id,\n                        urlId: form.url_id,\n                        fields: sortedFields.map((field)=>{\n                            var _field_validation;\n                            return {\n                                _id: field.id,\n                                label: field.field_label,\n                                name: field.field_name,\n                                type: field.field_type,\n                                position: field.field_order,\n                                section: ((_field_validation = field.validation) === null || _field_validation === void 0 ? void 0 : _field_validation.section) || \"General Information\",\n                                required: field.required,\n                                placeholder: field.placeholder,\n                                options: Array.isArray(field.options) ? field.options : typeof field.options === \"string\" ? JSON.parse(field.options) : field.options,\n                                validation: field.validation\n                            };\n                        })\n                    };\n                    console.log(\"Transformed form:\", transformedForm);\n                    setFormData(transformedForm);\n                    setSelectedApplet({\n                        ...applet,\n                        projectlet,\n                        form_id: formId\n                    });\n                    // If we have previous responses, set them as saved progress\n                    if (previousResponses) {\n                        setFormProgress((prev)=>({\n                                ...prev,\n                                [formId]: {\n                                    data: previousResponses\n                                }\n                            }));\n                    }\n                    setShowFormModal(true);\n                } catch (error) {\n                    console.error(\"Error fetching form:\", error);\n                    alert(\"Unable to load the form. Please try again later.\");\n                }\n            }\n        } else if (applet.type === \"link_submission\") {\n            // Handle link submission applet\n            setSelectedApplet({\n                ...applet,\n                projectlet\n            });\n            setShowLinkSubmissionModal(true);\n        } else if (isFileUpload) {\n            // Handle file upload applet\n            setSelectedApplet({\n                ...applet,\n                projectlet\n            });\n            setShowFileUploadModal(true);\n        }\n    };\n    const handleFormSubmit = async (responses)=>{\n        try {\n            var _selectedApplet_form, _selectedApplet_form1;\n            // Get CSRF token (generate a simple one for now)\n            const csrfToken = Math.random().toString(36).substring(2);\n            document.cookie = \"csrf-token=\".concat(csrfToken, \"; path=/\");\n            // Submit form response with project ID and user ID\n            const responseResult = await fetch(\"/api/aloa-responses\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"X-CSRF-Token\": csrfToken\n                },\n                body: JSON.stringify({\n                    formId: selectedApplet.form_id || ((_selectedApplet_form = selectedApplet.form) === null || _selectedApplet_form === void 0 ? void 0 : _selectedApplet_form.id),\n                    projectId: params.projectId,\n                    userId: userId,\n                    data: responses\n                })\n            });\n            if (!responseResult.ok) {\n                console.error(\"Failed to submit form response:\", await responseResult.text());\n            }\n            // Mark applet as completed for this user\n            const updateResult = await fetch(\"/api/aloa-projects/\".concat(params.projectId, \"/client-view\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    appletId: selectedApplet.id,\n                    status: \"completed\",\n                    interactionType: \"submission\",\n                    userId: userId,\n                    data: {\n                        form_responses: responses\n                    }\n                })\n            });\n            if (!updateResult.ok) {\n                console.error(\"Failed to update applet status:\", await updateResult.text());\n                throw new Error(\"Failed to mark form as completed\");\n            }\n            // Update local state\n            const newCompleted = new Set(completedApplets);\n            newCompleted.add(selectedApplet.id);\n            setCompletedApplets(newCompleted);\n            // Update form responses state to track this submission\n            const formId = selectedApplet.form_id || ((_selectedApplet_form1 = selectedApplet.form) === null || _selectedApplet_form1 === void 0 ? void 0 : _selectedApplet_form1.id);\n            if (formId) {\n                setUserFormResponses((prev)=>({\n                        ...prev,\n                        [formId]: {\n                            response_data: responses,\n                            submitted_at: new Date().toISOString()\n                        }\n                    }));\n                // Clear saved progress for this form since it's completed\n                setFormProgress((prev)=>{\n                    const newProgress = {\n                        ...prev\n                    };\n                    delete newProgress[formId];\n                    return newProgress;\n                });\n            }\n            // Close modal and show celebration\n            setShowFormModal(false);\n            setShowConfetti(true);\n            setTimeout(()=>setShowConfetti(false), 7000);\n            // Refresh data to get updated status from server\n            fetchProjectData();\n        } catch (error) {\n            console.error(\"Error submitting form:\", error);\n            alert(\"There was an error submitting the form. Please try again.\");\n        }\n    };\n    const getAppletIcon = (type)=>{\n        const icons = {\n            form: _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n            upload: _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n            review: _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n            moodboard: _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n            content_gather: _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n        };\n        return icons[type] || _barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n    };\n    const calculateProgress = ()=>{\n        return stats.progressPercentage || 0;\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600\"\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 380,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n            lineNumber: 379,\n            columnNumber: 7\n        }, this);\n    }\n    const progress = calculateProgress();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ConfettiCelebration, {\n                show: showConfetti,\n                duration: 6000\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 389,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white shadow-sm border-b\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-3xl font-bold text-gray-900\",\n                                        children: (project === null || project === void 0 ? void 0 : project.project_name) || (project === null || project === void 0 ? void 0 : project.name) || \"Project Dashboard\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 396,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-600 mt-1\",\n                                        children: \"Welcome to your project workspace\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 397,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 395,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-20 h-20 transform -rotate-90\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                cx: \"40\",\n                                                cy: \"40\",\n                                                r: \"36\",\n                                                stroke: \"currentColor\",\n                                                strokeWidth: \"8\",\n                                                fill: \"none\",\n                                                className: \"text-gray-200\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 403,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                cx: \"40\",\n                                                cy: \"40\",\n                                                r: \"36\",\n                                                stroke: \"currentColor\",\n                                                strokeWidth: \"8\",\n                                                fill: \"none\",\n                                                strokeDasharray: \"\".concat(progress * 2.26, \" 226\"),\n                                                className: \"text-purple-600 transition-all duration-500\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 412,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 402,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xl font-bold\",\n                                            children: [\n                                                progress,\n                                                \"%\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 424,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 423,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 401,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                        lineNumber: 394,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                    lineNumber: 393,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 392,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl p-6 shadow-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"Tasks Complete\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 438,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold\",\n                                                    children: stats.completedApplets || 0\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 439,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 437,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                            className: \"w-8 h-8 text-green-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 441,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 436,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 435,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl p-6 shadow-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"In Progress\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 448,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold\",\n                                                    children: (()=>{\n                                                        // Count applets that are in progress (started but not completed)\n                                                        let inProgressCount = 0;\n                                                        projectlets.forEach((projectlet)=>{\n                                                            var _projectlet_applets;\n                                                            (_projectlet_applets = projectlet.applets) === null || _projectlet_applets === void 0 ? void 0 : _projectlet_applets.forEach((applet)=>{\n                                                                const status = applet.user_status || applet.status;\n                                                                if (status === \"in_progress\" || status === \"started\") {\n                                                                    inProgressCount++;\n                                                                }\n                                                            });\n                                                        });\n                                                        return inProgressCount;\n                                                    })()\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 449,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 447,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            className: \"w-8 h-8 text-yellow-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 465,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 446,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 445,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl p-6 shadow-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"Locked\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 472,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold\",\n                                                    children: projectlets.filter((p)=>p.status === \"locked\").length\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 473,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 471,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                            className: \"w-8 h-8 text-gray-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 477,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 470,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 469,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white rounded-xl p-6 shadow-sm\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"Achievement\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 484,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold\",\n                                                    children: \"\\uD83C\\uDFC6\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 485,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 483,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            className: \"w-8 h-8 text-purple-500\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 487,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 482,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 481,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                        lineNumber: 434,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-xl font-bold text-gray-900\",\n                                children: \"Your Project Journey\"\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                lineNumber: 494,\n                                columnNumber: 11\n                            }, this),\n                            projectlets.map((projectlet, index)=>{\n                                const isLocked = projectlet.status === \"locked\";\n                                const isCompleted = projectlet.status === \"completed\";\n                                const applets = projectlet.applets || [];\n                                // Check if projectlet is in progress (has started applets but not all complete)\n                                const hasStartedApplets = applets.some((applet)=>{\n                                    const status = applet.user_status || applet.status;\n                                    return status === \"in_progress\" || status === \"started\" || status === \"completed\" || status === \"approved\";\n                                });\n                                const allAppletsComplete = applets.length > 0 && applets.every((applet)=>{\n                                    const status = applet.user_status || applet.status;\n                                    return status === \"completed\" || status === \"approved\";\n                                });\n                                const isInProgress = hasStartedApplets && !allAppletsComplete;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white rounded-xl shadow-sm overflow-hidden \".concat(isLocked ? \"opacity-60\" : \"\"),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-6 border-b \".concat(isCompleted ? \"bg-green-50\" : isInProgress ? \"bg-yellow-50\" : isLocked ? \"bg-gray-50\" : \"bg-white\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center space-x-4\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-10 h-10 rounded-full flex items-center justify-center \".concat(isCompleted ? \"bg-green-100 text-green-600\" : isInProgress ? \"bg-yellow-100 text-yellow-600\" : isLocked ? \"bg-gray-100 text-gray-400\" : \"bg-purple-100 text-purple-600\"),\n                                                                children: isCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                    className: \"w-6 h-6\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 533,\n                                                                    columnNumber: 40\n                                                                }, this) : isInProgress ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                                    className: \"w-6 h-6\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 534,\n                                                                    columnNumber: 41\n                                                                }, this) : isLocked ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                    className: \"w-6 h-6\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 535,\n                                                                    columnNumber: 37\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-bold\",\n                                                                    children: index + 1\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 536,\n                                                                    columnNumber: 26\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                lineNumber: 527,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                        className: \"font-bold text-lg\",\n                                                                        children: projectlet.name\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                        lineNumber: 539,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    projectlet.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm text-gray-600\",\n                                                                        children: projectlet.description\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                        lineNumber: 541,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                lineNumber: 538,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                        lineNumber: 526,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    projectlet.deadline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: [\n                                                            \"Due: \",\n                                                            new Date(projectlet.deadline).toLocaleDateString()\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                        lineNumber: 547,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 525,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 520,\n                                            columnNumber: 17\n                                        }, this),\n                                        !isLocked && applets.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-6 \".concat(isInProgress ? \"bg-yellow-50/50\" : \"\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: applets.map((applet)=>{\n                                                    var _applet_config, _applet_form, _applet_form1, _applet_config1, _applet_config2;\n                                                    const Icon = getAppletIcon(applet.type);\n                                                    const isAppletCompleted = completedApplets.has(applet.id);\n                                                    // Check if it's a form and whether it's still accepting responses\n                                                    const isForm = applet.type === \"form\";\n                                                    const formId = applet.form_id || ((_applet_config = applet.config) === null || _applet_config === void 0 ? void 0 : _applet_config.form_id);\n                                                    const formIsLocked = isForm && ((_applet_form = applet.form) === null || _applet_form === void 0 ? void 0 : _applet_form.status) === \"closed\";\n                                                    // Check actual form submissions, not just applet status\n                                                    const userHasSubmitted = isForm && formId && userFormResponses[formId];\n                                                    // Determine display state\n                                                    let buttonState = \"available\";\n                                                    let statusMessage = null;\n                                                    if (isForm) {\n                                                        if (userHasSubmitted && formIsLocked) {\n                                                            // User has submitted AND form is locked - can view only\n                                                            buttonState = \"completed-locked\";\n                                                            statusMessage = \"Form completed & locked. No longer accepting responses.\";\n                                                        } else if (userHasSubmitted && !formIsLocked) {\n                                                            // User has submitted but form still accepting responses - can edit\n                                                            buttonState = \"user-complete-editable\";\n                                                            statusMessage = \"Form completed! We are still awaiting other responses. Want to make a change? Click the pencil icon.\";\n                                                        } else if (formIsLocked) {\n                                                            // Form is locked but user hasn't submitted\n                                                            buttonState = \"locked\";\n                                                            statusMessage = \"Form closed to new responses\";\n                                                        }\n                                                    } else if (applet.type === \"link_submission\" && isAppletCompleted) {\n                                                        // Link submissions should be viewable even after completion\n                                                        buttonState = \"link-completed\";\n                                                        statusMessage = \"Links reviewed - click to view again\";\n                                                    } else if ((applet.type === \"upload\" || applet.type === \"file_upload\") && isAppletCompleted) {\n                                                        // File uploads should be viewable even after completion\n                                                        buttonState = \"file-completed\";\n                                                        statusMessage = \"Files reviewed - click to view again\";\n                                                    } else if (isAppletCompleted) {\n                                                        buttonState = \"completed\";\n                                                    }\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleAppletClick(applet, projectlet, buttonState === \"completed-locked\"),\n                                                        disabled: buttonState === \"locked\" || buttonState === \"completed\" && applet.type !== \"link_submission\" && applet.type !== \"upload\" && applet.type !== \"file_upload\",\n                                                        className: \"w-full p-4 rounded-lg border-2 transition-all \".concat(buttonState === \"completed-locked\" ? \"bg-green-50 border-green-300 hover:border-green-400 hover:shadow-md cursor-pointer\" : buttonState === \"user-complete-editable\" ? \"bg-green-50 border-green-300 hover:border-green-400 hover:shadow-md cursor-pointer\" : buttonState === \"link-completed\" ? \"bg-green-50 border-green-300 hover:border-green-400 hover:shadow-md cursor-pointer\" : buttonState === \"file-completed\" ? \"bg-purple-50 border-purple-300 hover:border-purple-400 hover:shadow-md cursor-pointer\" : buttonState === \"locked\" ? \"bg-gray-50 border-gray-300 cursor-default opacity-75\" : buttonState === \"completed\" ? \"bg-green-50 border-green-300 cursor-default\" : \"bg-white border-gray-200 hover:border-purple-300 hover:shadow-md cursor-pointer\"),\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center space-x-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"p-2 rounded-lg \".concat(buttonState === \"completed-locked\" || buttonState === \"user-complete-editable\" || buttonState === \"link-completed\" ? \"bg-green-100\" : buttonState === \"file-completed\" ? \"bg-purple-100\" : buttonState === \"locked\" ? \"bg-gray-100\" : buttonState === \"completed\" ? \"bg-green-100\" : \"bg-purple-100\"),\n                                                                            children: buttonState === \"completed-locked\" || buttonState === \"user-complete-editable\" || buttonState === \"completed\" || buttonState === \"link-completed\" || buttonState === \"file-completed\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                                className: \"w-5 h-5 text-green-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                lineNumber: 629,\n                                                                                columnNumber: 37\n                                                                            }, this) : buttonState === \"locked\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                                className: \"w-5 h-5 text-gray-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                lineNumber: 631,\n                                                                                columnNumber: 37\n                                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Icon, {\n                                                                                className: \"w-5 h-5 text-purple-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                lineNumber: 633,\n                                                                                columnNumber: 37\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                            lineNumber: 621,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-left\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: applet.type === \"form\" && ((_applet_form1 = applet.form) === null || _applet_form1 === void 0 ? void 0 : _applet_form1.title) ? applet.form.title : applet.type === \"link_submission\" && ((_applet_config1 = applet.config) === null || _applet_config1 === void 0 ? void 0 : _applet_config1.heading) ? applet.config.heading : (applet.type === \"upload\" || applet.type === \"file_upload\") && ((_applet_config2 = applet.config) === null || _applet_config2 === void 0 ? void 0 : _applet_config2.heading) ? applet.config.heading : applet.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                    lineNumber: 637,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                statusMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"text-sm text-gray-600 italic\",\n                                                                                    children: statusMessage\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                    lineNumber: 647,\n                                                                                    columnNumber: 37\n                                                                                }, this) : applet.client_instructions ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"text-sm text-gray-600\",\n                                                                                    children: applet.client_instructions\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                    lineNumber: 649,\n                                                                                    columnNumber: 37\n                                                                                }, this) : null\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                            lineNumber: 636,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 620,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                buttonState === \"locked\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                    className: \"w-5 h-5 text-gray-500\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 655,\n                                                                    columnNumber: 33\n                                                                }, this) : buttonState === \"user-complete-editable\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                                    className: \"w-5 h-5 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 657,\n                                                                    columnNumber: 33\n                                                                }, this) : buttonState === \"completed-locked\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                    className: \"w-5 h-5 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 659,\n                                                                    columnNumber: 33\n                                                                }, this) : buttonState === \"link-completed\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                    className: \"w-5 h-5 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 661,\n                                                                    columnNumber: 33\n                                                                }, this) : buttonState === \"completed\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                    className: \"w-6 h-6 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 663,\n                                                                    columnNumber: 33\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-purple-600\",\n                                                                    children: \"Start →\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 665,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 619,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, applet.id, false, {\n                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                        lineNumber: 599,\n                                                        columnNumber: 27\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 557,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 556,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, projectlet.id, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 513,\n                                    columnNumber: 15\n                                }, this);\n                            })\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                        lineNumber: 493,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 432,\n                columnNumber: 7\n            }, this),\n            showFormModal && formData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FormModal, {\n                form: formData,\n                onSubmit: handleFormSubmit,\n                onClose: ()=>{\n                    // Save progress when closing\n                    if (selectedApplet === null || selectedApplet === void 0 ? void 0 : selectedApplet.form_id) {\n                    // Progress is automatically saved via onProgressUpdate\n                    }\n                    setShowFormModal(false);\n                    setIsFormViewOnly(false); // Reset view-only mode when closing\n                },\n                savedProgress: formProgress[selectedApplet === null || selectedApplet === void 0 ? void 0 : selectedApplet.form_id],\n                onProgressUpdate: null,\n                isViewOnly: isFormViewOnly\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 684,\n                columnNumber: 9\n            }, this),\n            showLinkSubmissionModal && selectedApplet && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6 border-b\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-2xl font-bold\",\n                                            children: ((_selectedApplet_config = selectedApplet.config) === null || _selectedApplet_config === void 0 ? void 0 : _selectedApplet_config.heading) || \"Links & Resources\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 707,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setShowLinkSubmissionModal(false),\n                                            className: \"p-2 hover:bg-gray-100 rounded-lg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                className: \"w-6 h-6\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 714,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 710,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 706,\n                                    columnNumber: 15\n                                }, this),\n                                ((_selectedApplet_config1 = selectedApplet.config) === null || _selectedApplet_config1 === void 0 ? void 0 : _selectedApplet_config1.description) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-gray-600\",\n                                    children: selectedApplet.config.description\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 718,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 705,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6\",\n                            children: [\n                                ((_selectedApplet_config2 = selectedApplet.config) === null || _selectedApplet_config2 === void 0 ? void 0 : _selectedApplet_config2.links) && selectedApplet.config.links.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: selectedApplet.config.links.map((link, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"border rounded-lg p-4 hover:bg-gray-50 transition-colors\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                href: link.url,\n                                                target: \"_blank\",\n                                                rel: \"noopener noreferrer\",\n                                                className: \"flex items-start space-x-3 group\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                        className: \"w-5 h-5 text-blue-600 mt-1 flex-shrink-0 group-hover:text-blue-700\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                        lineNumber: 733,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"font-medium text-blue-600 group-hover:text-blue-700 group-hover:underline\",\n                                                                children: link.text || \"View Link\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                lineNumber: 735,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            link.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm text-gray-600 mt-1\",\n                                                                children: link.description\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                lineNumber: 739,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                        lineNumber: 734,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 727,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, idx, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 726,\n                                            columnNumber: 21\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 724,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-500 text-center py-8\",\n                                    children: \"No links available yet.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 747,\n                                    columnNumber: 17\n                                }, this),\n                                ((_selectedApplet_config3 = selectedApplet.config) === null || _selectedApplet_config3 === void 0 ? void 0 : _selectedApplet_config3.allow_client_acknowledgment) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-6 pt-6 border-t\",\n                                    children: completedApplets.has(selectedApplet.id) || selectedApplet.user_status === \"completed\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full py-3 bg-green-100 text-green-700 rounded-lg text-center font-medium border border-green-300\",\n                                        children: [\n                                            \"✓ Marked as Reviewed on \",\n                                            selectedApplet.user_completed_at ? new Date(selectedApplet.user_completed_at).toLocaleDateString(\"en-US\", {\n                                                month: \"short\",\n                                                day: \"numeric\",\n                                                year: \"numeric\",\n                                                hour: \"numeric\",\n                                                minute: \"2-digit\"\n                                            }) : \"Recently\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 753,\n                                        columnNumber: 21\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: async ()=>{\n                                            // Mark as acknowledged\n                                            await fetch(\"/api/aloa-projects/\".concat(params.projectId, \"/client-view\"), {\n                                                method: \"POST\",\n                                                headers: {\n                                                    \"Content-Type\": \"application/json\"\n                                                },\n                                                body: JSON.stringify({\n                                                    appletId: selectedApplet.id,\n                                                    status: \"completed\",\n                                                    interactionType: \"completion\",\n                                                    userId: userId,\n                                                    data: {\n                                                        acknowledged: true,\n                                                        acknowledgedAt: new Date().toISOString()\n                                                    }\n                                                })\n                                            });\n                                            // Update local state\n                                            setCompletedApplets((prev)=>new Set([\n                                                    ...prev,\n                                                    selectedApplet.id\n                                                ]));\n                                            setShowLinkSubmissionModal(false);\n                                            // Trigger confetti celebration\n                                            setShowConfetti(true);\n                                            setTimeout(()=>setShowConfetti(false), 7000);\n                                            // Refresh project data\n                                            fetchProjectData();\n                                        },\n                                        className: \"w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium\",\n                                        children: \"Mark as Reviewed\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                        lineNumber: 766,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 751,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 722,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                    lineNumber: 704,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 703,\n                columnNumber: 9\n            }, this),\n            showFileUploadModal && selectedApplet && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6 border-b\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-2xl font-bold\",\n                                            children: ((_selectedApplet_config4 = selectedApplet.config) === null || _selectedApplet_config4 === void 0 ? void 0 : _selectedApplet_config4.heading) || \"File Downloads\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 810,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setShowFileUploadModal(false),\n                                            className: \"p-2 hover:bg-gray-100 rounded-lg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                className: \"w-6 h-6\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 817,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 813,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 809,\n                                    columnNumber: 15\n                                }, this),\n                                ((_selectedApplet_config5 = selectedApplet.config) === null || _selectedApplet_config5 === void 0 ? void 0 : _selectedApplet_config5.description) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-2 text-gray-600\",\n                                    children: selectedApplet.config.description\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 821,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 808,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6\",\n                            children: [\n                                ((_selectedApplet_config6 = selectedApplet.config) === null || _selectedApplet_config6 === void 0 ? void 0 : _selectedApplet_config6.files) && selectedApplet.config.files.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        selectedApplet.config.files.map((file, idx)=>{\n                                            const getFileIcon = (fileName)=>{\n                                                const ext = fileName.split(\".\").pop().toLowerCase();\n                                                const imageExts = [\n                                                    \"jpg\",\n                                                    \"jpeg\",\n                                                    \"png\",\n                                                    \"gif\",\n                                                    \"svg\"\n                                                ];\n                                                const docExts = [\n                                                    \"pdf\",\n                                                    \"doc\",\n                                                    \"docx\",\n                                                    \"txt\"\n                                                ];\n                                                if (imageExts.includes(ext)) return \"\\uD83D\\uDDBC️\";\n                                                if (docExts.includes(ext)) return \"\\uD83D\\uDCC4\";\n                                                if (ext === \"zip\" || ext === \"rar\") return \"\\uD83D\\uDCE6\";\n                                                return \"\\uD83D\\uDCCE\";\n                                            };\n                                            const formatFileSize = (bytes)=>{\n                                                if (!bytes || bytes === 0) return \"0 Bytes\";\n                                                const k = 1024;\n                                                const sizes = [\n                                                    \"Bytes\",\n                                                    \"KB\",\n                                                    \"MB\",\n                                                    \"GB\"\n                                                ];\n                                                const i = Math.floor(Math.log(bytes) / Math.log(k));\n                                                return Math.round(bytes / Math.pow(k, i) * 100) / 100 + \" \" + sizes[i];\n                                            };\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border rounded-lg p-4 hover:bg-gray-50 transition-colors\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center space-x-3\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-2xl\",\n                                                                    children: getFileIcon(file.name)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 852,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"font-medium text-gray-900\",\n                                                                            children: [\n                                                                                file.name,\n                                                                                file.category === \"final-deliverables\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded\",\n                                                                                    children: \"Final\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                    lineNumber: 857,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                            lineNumber: 854,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-sm text-gray-500\",\n                                                                            children: [\n                                                                                formatFileSize(file.size),\n                                                                                \" • Uploaded \",\n                                                                                new Date(file.uploaded_at).toLocaleDateString(),\n                                                                                file.storage_type === \"supabase\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"ml-2 text-blue-600\",\n                                                                                    children: \"☁️ Cloud\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                                    lineNumber: 863,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                            lineNumber: 860,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 853,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 851,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: async ()=>{\n                                                                // Track download\n                                                                if (file.id) {\n                                                                    try {\n                                                                        await fetch(\"/api/project-files\", {\n                                                                            method: \"PATCH\",\n                                                                            headers: {\n                                                                                \"Content-Type\": \"application/json\"\n                                                                            },\n                                                                            body: JSON.stringify({\n                                                                                id: file.id,\n                                                                                increment_download: true\n                                                                            })\n                                                                        });\n                                                                    } catch (err) {\n                                                                        console.log(\"Download tracking failed:\", err);\n                                                                    }\n                                                                }\n                                                                // Handle different storage types\n                                                                if (file.storage_type === \"supabase\" && file.url) {\n                                                                    // Supabase Storage file\n                                                                    window.open(file.url, \"_blank\");\n                                                                } else if (file.url && !file.data) {\n                                                                    // Legacy URL file\n                                                                    window.open(file.url, \"_blank\");\n                                                                } else if (file.data) {\n                                                                    // Base64 data\n                                                                    const link = document.createElement(\"a\");\n                                                                    link.href = file.data;\n                                                                    link.download = file.name;\n                                                                    link.click();\n                                                                }\n                                                            },\n                                                            className: \"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                    className: \"w-4 h-4\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 902,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    children: \"Download\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                                    lineNumber: 903,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 868,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 850,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, idx, false, {\n                                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                lineNumber: 849,\n                                                columnNumber: 23\n                                            }, this);\n                                        }),\n                                        !completedApplets.has(selectedApplet.id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: async ()=>{\n                                                // Mark applet as completed\n                                                await fetch(\"/api/aloa-projects/\".concat(params.projectId, \"/client-view\"), {\n                                                    method: \"POST\",\n                                                    headers: {\n                                                        \"Content-Type\": \"application/json\"\n                                                    },\n                                                    body: JSON.stringify({\n                                                        action: \"update_applet_progress\",\n                                                        appletId: selectedApplet.id,\n                                                        userId: userId,\n                                                        projectletId: selectedApplet.projectlet.id,\n                                                        progressData: {\n                                                            status: \"completed\",\n                                                            completedAt: new Date().toISOString()\n                                                        }\n                                                    })\n                                                });\n                                                // Update local state\n                                                setCompletedApplets((prev)=>new Set([\n                                                        ...prev,\n                                                        selectedApplet.id\n                                                    ]));\n                                                setShowFileUploadModal(false);\n                                                // Trigger confetti celebration\n                                                setShowConfetti(true);\n                                                setTimeout(()=>setShowConfetti(false), 7000);\n                                                // Refresh project data\n                                                fetchProjectData();\n                                            },\n                                            className: \"w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium mt-4\",\n                                            children: \"Mark Files as Reviewed\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 912,\n                                            columnNumber: 21\n                                        }, this),\n                                        completedApplets.has(selectedApplet.id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center py-3 bg-green-50 text-green-700 rounded-lg font-medium\",\n                                            children: [\n                                                \"✓ Files reviewed on \",\n                                                new Date().toLocaleDateString()\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 949,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 827,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-8 text-gray-500\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                            className: \"w-12 h-12 mx-auto mb-3 text-gray-300\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 956,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"No files available yet\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 957,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm mt-1\",\n                                            children: \"Check back later for project files\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 958,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 955,\n                                    columnNumber: 17\n                                }, this),\n                                ((_selectedApplet_config7 = selectedApplet.config) === null || _selectedApplet_config7 === void 0 ? void 0 : _selectedApplet_config7.allow_client_upload) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-6 pt-6 border-t\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-600 mb-3\",\n                                            children: \"You can upload files too:\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 965,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"relative\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"file\",\n                                                    className: \"hidden\",\n                                                    onChange: async (e)=>{\n                                                        const file = e.target.files[0];\n                                                        if (!file) return;\n                                                        // TODO: Implement client file upload\n                                                        alert(\"Client file upload coming soon!\");\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 967,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-purple-400 transition-colors\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                            className: \"w-8 h-8 text-gray-400 mx-auto mb-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 979,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm text-gray-600\",\n                                                            children: \"Click to upload file\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 980,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-gray-500 mt-1\",\n                                                            children: [\n                                                                \"Max \",\n                                                                selectedApplet.config.max_file_size || 10,\n                                                                \"MB\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                            lineNumber: 981,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                                    lineNumber: 978,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                            lineNumber: 966,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                                    lineNumber: 964,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 825,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                    lineNumber: 807,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 806,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n        lineNumber: 388,\n        columnNumber: 5\n    }, this);\n}\n_s(ClientDashboard, \"dpDiJZnjrr/UjwB6XZiIdd8g3m4=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c1 = ClientDashboard;\n// Form Modal Component - Using MultiStepFormRenderer\nfunction FormModal(param) {\n    let { form, onSubmit, onClose, savedProgress, onProgressUpdate, isViewOnly = false } = param;\n    // Create a custom onSubmit handler that works with MultiStepFormRenderer\n    const handleFormComplete = async (responses)=>{\n        // Transform responses to match expected format\n        const transformedResponses = {};\n        Object.keys(responses).forEach((key)=>{\n            transformedResponses[key] = responses[key];\n        });\n        // Call the parent onSubmit handler\n        await onSubmit(transformedResponses);\n        onClose();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        className: \"absolute right-4 top-4 p-2 hover:bg-gray-100 rounded-lg z-10\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_CheckCircle_Clock_Download_Edit2_ExternalLink_Eye_File_FileText_Link_Lock_MessageSquare_Palette_Star_Target_Trophy_Upload_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 1019,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                        lineNumber: 1015,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MultiStepFormRenderer__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            form: form,\n                            isModal: true,\n                            onComplete: handleFormComplete,\n                            initialData: savedProgress === null || savedProgress === void 0 ? void 0 : savedProgress.data,\n                            initialSection: savedProgress === null || savedProgress === void 0 ? void 0 : savedProgress.section,\n                            onProgressChange: onProgressUpdate,\n                            isViewOnly: isViewOnly\n                        }, void 0, false, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                            lineNumber: 1023,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                        lineNumber: 1022,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n                lineNumber: 1014,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n            lineNumber: 1013,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n        lineNumber: 1012,\n        columnNumber: 5\n    }, this);\n}\n_c2 = FormModal;\nfunction ClientDashboardPage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AuthGuard__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        requireAuth: true,\n        allowedRoles: [\n            \"client\",\n            \"super_admin\",\n            \"project_admin\",\n            \"team_member\"\n        ],\n        redirectTo: \"/auth/login\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ClientDashboard, {}, void 0, false, {\n            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n            lineNumber: 1046,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/app/project/[projectId]/dashboard/page.js\",\n        lineNumber: 1041,\n        columnNumber: 5\n    }, this);\n}\n_c3 = ClientDashboardPage;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"ConfettiCelebration\");\n$RefreshReg$(_c1, \"ClientDashboard\");\n$RefreshReg$(_c2, \"FormModal\");\n$RefreshReg$(_c3, \"ClientDashboardPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9wcm9qZWN0L1twcm9qZWN0SWRdL2Rhc2hib2FyZC9wYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU0QztBQUNXO0FBcUJqQztBQUNhO0FBQ29DO0FBQ3hCO0FBRS9DLHVDQUF1QztBQUN2QyxNQUFNMEIsc0JBQXNCSCx3REFBT0EsQ0FBQyxJQUFNLG9QQUFPOzs7Ozs7SUFBdUNJLEtBQUs7O0tBQXZGRDtBQUVOLFNBQVNFO1FBbXFCVUMsd0JBU0pBLHlCQU1BQSx5QkEyQkFBLHlCQTZESUEseUJBU0pBLHlCQU1BQSx5QkF5SUFBOztJQWo2QmIsTUFBTUMsU0FBUzVCLDBEQUFTQTtJQUN4QixNQUFNNkIsU0FBUzVCLDBEQUFTQTtJQUN4QixNQUFNLENBQUM2QixTQUFTQyxXQUFXLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUNrQyxhQUFhQyxlQUFlLEdBQUduQywrQ0FBUUEsQ0FBQyxFQUFFO0lBQ2pELE1BQU0sQ0FBQ29DLFNBQVNDLFdBQVcsR0FBR3JDLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQzZCLGdCQUFnQlMsa0JBQWtCLEdBQUd0QywrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUN1QyxlQUFlQyxpQkFBaUIsR0FBR3hDLCtDQUFRQSxDQUFDO0lBQ25ELE1BQU0sQ0FBQ3lDLFVBQVVDLFlBQVksR0FBRzFDLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQzJDLGNBQWNDLGdCQUFnQixHQUFHNUMsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDNkMsa0JBQWtCQyxvQkFBb0IsR0FBRzlDLCtDQUFRQSxDQUFDLElBQUkrQztJQUM3RCxNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBR2pELCtDQUFRQSxDQUFDO1FBQUVrRCxjQUFjO1FBQUdMLGtCQUFrQjtRQUFHTSxvQkFBb0I7SUFBRTtJQUNqRyxNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFH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akUsMEJBQUFBLG9DQUFBQSxjQUFlOUUsT0FBTzs0QkFDdENnSixrQkFBa0JqRTs0QkFDbEJwSCxZQUFZQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTzFCO01BeENTZ0g7QUEwQ00sU0FBU3NFO0lBQ3RCLHFCQUNFLDhEQUFDeFEsNkRBQVNBO1FBQ1J5USxhQUFhO1FBQ2JDLGNBQWM7WUFBQztZQUFVO1lBQWU7WUFBaUI7U0FBYztRQUN2RUMsWUFBVztrQkFFWCw0RUFBQ3hROzs7Ozs7Ozs7O0FBR1A7TUFWd0JxUSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvcHJvamVjdC9bcHJvamVjdElkXS9kYXNoYm9hcmQvcGFnZS5qcz9hYmUxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVBhcmFtcywgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCB7IFxuICBBcnJvd0xlZnQsXG4gIENoZWNrQ2lyY2xlLFxuICBDbG9jayxcbiAgTG9jayxcbiAgRmlsZVRleHQsXG4gIFVwbG9hZCxcbiAgRXllLFxuICBNZXNzYWdlU3F1YXJlLFxuICBQYWxldHRlLFxuICBTdGFyLFxuICBUcm9waHksXG4gIFRhcmdldCxcbiAgWmFwLFxuICBYLFxuICBFZGl0MixcbiAgRXh0ZXJuYWxMaW5rLFxuICBMaW5rLFxuICBEb3dubG9hZCxcbiAgRmlsZVxufSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IGR5bmFtaWMgZnJvbSAnbmV4dC9keW5hbWljJztcbmltcG9ydCBNdWx0aVN0ZXBGb3JtUmVuZGVyZXIgZnJvbSAnQC9jb21wb25lbnRzL011bHRpU3RlcEZvcm1SZW5kZXJlcic7XG5pbXBvcnQgQXV0aEd1YXJkIGZyb20gJ0AvY29tcG9uZW50cy9BdXRoR3VhcmQnO1xuXG4vLyBEeW5hbWljIGltcG9ydHMgZm9yIGhlYXZ5IGNvbXBvbmVudHNcbmNvbnN0IENvbmZldHRpQ2VsZWJyYXRpb24gPSBkeW5hbWljKCgpID0+IGltcG9ydCgnQC9jb21wb25lbnRzL0NvbmZldHRpQ2VsZWJyYXRpb24nKSwgeyBzc3I6IGZhbHNlIH0pO1xuXG5mdW5jdGlvbiBDbGllbnREYXNoYm9hcmQoKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW3Byb2plY3QsIHNldFByb2plY3RdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtwcm9qZWN0bGV0cywgc2V0UHJvamVjdGxldHNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3NlbGVjdGVkQXBwbGV0LCBzZXRTZWxlY3RlZEFwcGxldF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3Nob3dGb3JtTW9kYWwsIHNldFNob3dGb3JtTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2hvd0NvbmZldHRpLCBzZXRTaG93Q29uZmV0dGldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29tcGxldGVkQXBwbGV0cywgc2V0Q29tcGxldGVkQXBwbGV0c10gPSB1c2VTdGF0ZShuZXcgU2V0KCkpO1xuICBjb25zdCBbc3RhdHMsIHNldFN0YXRzXSA9IHVzZVN0YXRlKHsgdG90YWxBcHBsZXRzOiAwLCBjb21wbGV0ZWRBcHBsZXRzOiAwLCBwcm9ncmVzc1BlcmNlbnRhZ2U6IDAgfSk7XG4gIGNvbnN0IFtmb3JtUHJvZ3Jlc3MsIHNldEZvcm1Qcm9ncmVzc10gPSB1c2VTdGF0ZSh7fSk7IC8vIFN0b3JlIHByb2dyZXNzIGZvciBlYWNoIGZvcm1cbiAgY29uc3QgW3VzZXJJZCwgc2V0VXNlcklkXSA9IHVzZVN0YXRlKG51bGwpOyAvLyBUcmFjayB1c2VyIElEXG4gIGNvbnN0IFt1c2VyRm9ybVJlc3BvbnNlcywgc2V0VXNlckZvcm1SZXNwb25zZXNdID0gdXNlU3RhdGUoe30pOyAvLyBUcmFjayBhY3R1YWwgZm9ybSBzdWJtaXNzaW9ucyBieSBmb3JtIElEXG4gIGNvbnN0IFtpc0Zvcm1WaWV3T25seSwgc2V0SXNGb3JtVmlld09ubHldID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBUcmFjayBpZiBmb3JtIGlzIGluIHZpZXctb25seSBtb2RlXG4gIGNvbnN0IFtzaG93TGlua1N1Ym1pc3Npb25Nb2RhbCwgc2V0U2hvd0xpbmtTdWJtaXNzaW9uTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBUcmFjayBsaW5rIHN1Ym1pc3Npb24gbW9kYWxcbiAgY29uc3QgW3Nob3dGaWxlVXBsb2FkTW9kYWwsIHNldFNob3dGaWxlVXBsb2FkTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBUcmFjayBmaWxlIHVwbG9hZCBtb2RhbFxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gR2VuZXJhdGUgb3IgcmV0cmlldmUgdXNlciBJRFxuICAgIGNvbnN0IHN0b3JlZFVzZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjbGllbnRfdXNlcl9pZCcpO1xuICAgIGlmIChzdG9yZWRVc2VySWQpIHtcbiAgICAgIHNldFVzZXJJZChzdG9yZWRVc2VySWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3IgdGhpcyBjbGllbnQgc2Vzc2lvblxuICAgICAgY29uc3QgbmV3VXNlcklkID0gYGNsaWVudF8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2xpZW50X3VzZXJfaWQnLCBuZXdVc2VySWQpO1xuICAgICAgc2V0VXNlcklkKG5ld1VzZXJJZCk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICBmZXRjaFByb2plY3REYXRhKCk7XG4gICAgfVxuICB9LCBbcGFyYW1zLnByb2plY3RJZCwgdXNlcklkXSk7XG5cbiAgY29uc3QgZmV0Y2hQcm9qZWN0RGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gRmV0Y2ggcHJvamVjdCBkYXRhIGFuZCBwcm9qZWN0bGV0cyBmcm9tIGNsaWVudC12aWV3IGVuZHBvaW50IHdpdGggdXNlciBJRFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9hbG9hLXByb2plY3RzLyR7cGFyYW1zLnByb2plY3RJZH0vY2xpZW50LXZpZXc/dXNlcklkPSR7dXNlcklkfWApO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgc2V0UHJvamVjdChkYXRhLnByb2plY3QpO1xuICAgICAgc2V0UHJvamVjdGxldHMoZGF0YS5wcm9qZWN0bGV0cyB8fCBbXSk7XG4gICAgICBzZXRTdGF0cyhkYXRhLnN0YXRzIHx8IHsgdG90YWxBcHBsZXRzOiAwLCBjb21wbGV0ZWRBcHBsZXRzOiAwLCBwcm9ncmVzc1BlcmNlbnRhZ2U6IDAgfSk7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIGNvbXBsZXRlZCBzZXQgZnJvbSB1c2VyLXNwZWNpZmljIHN0YXR1c1xuICAgICAgY29uc3QgY29tcGxldGVkID0gbmV3IFNldCgpO1xuICAgICAgZGF0YS5wcm9qZWN0bGV0cz8uZm9yRWFjaChwcm9qZWN0bGV0ID0+IHtcbiAgICAgICAgcHJvamVjdGxldC5hcHBsZXRzPy5mb3JFYWNoKGFwcGxldCA9PiB7XG4gICAgICAgICAgLy8gVXNlIHVzZXItc3BlY2lmaWMgc3RhdHVzIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZhbGxiYWNrIHRvIGRlZmF1bHRcbiAgICAgICAgICBjb25zdCBzdGF0dXMgPSBhcHBsZXQudXNlcl9zdGF0dXMgfHwgYXBwbGV0LnN0YXR1cztcbiAgICAgICAgICBpZiAoc3RhdHVzID09PSAnY29tcGxldGVkJyB8fCBzdGF0dXMgPT09ICdhcHByb3ZlZCcpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlZC5hZGQoYXBwbGV0LmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUmVzdG9yZSBmb3JtIHByb2dyZXNzIGlmIGF2YWlsYWJsZVxuICAgICAgICAgIGlmIChhcHBsZXQuZm9ybV9wcm9ncmVzcyAmJiBhcHBsZXQuZm9ybV9pZCkge1xuICAgICAgICAgICAgc2V0Rm9ybVByb2dyZXNzKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgW2FwcGxldC5mb3JtX2lkXTogYXBwbGV0LmZvcm1fcHJvZ3Jlc3NcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBzZXRDb21wbGV0ZWRBcHBsZXRzKGNvbXBsZXRlZCk7XG4gICAgICBcbiAgICAgIC8vIEZldGNoIGFsbCBmb3JtIHJlc3BvbnNlcyBmb3IgdGhpcyB1c2VyIHRvIHByb3Blcmx5IHRyYWNrIHN1Ym1pc3Npb25zXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBmb3JtSWRzID0gbmV3IFNldCgpO1xuICAgICAgICBkYXRhLnByb2plY3RsZXRzPy5mb3JFYWNoKHByb2plY3RsZXQgPT4ge1xuICAgICAgICAgIHByb2plY3RsZXQuYXBwbGV0cz8uZm9yRWFjaChhcHBsZXQgPT4ge1xuICAgICAgICAgICAgaWYgKGFwcGxldC50eXBlID09PSAnZm9ybScgJiYgKGFwcGxldC5mb3JtX2lkIHx8IGFwcGxldC5jb25maWc/LmZvcm1faWQpKSB7XG4gICAgICAgICAgICAgIGZvcm1JZHMuYWRkKGFwcGxldC5mb3JtX2lkIHx8IGFwcGxldC5jb25maWc/LmZvcm1faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZldGNoIHJlc3BvbnNlcyBmb3IgYWxsIGZvcm1zXG4gICAgICAgIGNvbnN0IGZvcm1SZXNwb25zZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBmb3JtSWQgb2YgZm9ybUlkcykge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlUmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvYWxvYS1yZXNwb25zZXM/Zm9ybV9pZD0ke2Zvcm1JZH0mdXNlcl9pZD0ke3VzZXJJZH1gKTtcbiAgICAgICAgICBpZiAocmVzcG9uc2VSZXMub2spIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlUmVzLmpzb24oKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZURhdGEucmVzcG9uc2VzICYmIHJlc3BvbnNlRGF0YS5yZXNwb25zZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBmb3JtUmVzcG9uc2VzW2Zvcm1JZF0gPSByZXNwb25zZURhdGEucmVzcG9uc2VzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRVc2VyRm9ybVJlc3BvbnNlcyhmb3JtUmVzcG9uc2VzKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgZm9ybSByZXNwb25zZXMgbG9hZGVkOicsIGZvcm1SZXNwb25zZXMpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZm9ybSByZXNwb25zZXM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9qZWN0OicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFwcGxldENsaWNrID0gYXN5bmMgKGFwcGxldCwgcHJvamVjdGxldCwgaXNWaWV3T25seSA9IGZhbHNlKSA9PiB7XG4gICAgLy8gRm9yIGZvcm1zLCBhbGxvdyBlZGl0aW5nIGlmIGNvbXBsZXRlZCBidXQgbm90IGxvY2tlZFxuICAgIGNvbnN0IGlzRm9ybSA9IGFwcGxldC50eXBlID09PSAnZm9ybSc7XG4gICAgY29uc3QgaXNMaW5rU3VibWlzc2lvbiA9IGFwcGxldC50eXBlID09PSAnbGlua19zdWJtaXNzaW9uJztcbiAgICBjb25zdCBpc0ZpbGVVcGxvYWQgPSBhcHBsZXQudHlwZSA9PT0gJ3VwbG9hZCcgfHwgYXBwbGV0LnR5cGUgPT09ICdmaWxlX3VwbG9hZCc7XG4gICAgY29uc3QgZm9ybUlkID0gYXBwbGV0LmZvcm1faWQgfHwgYXBwbGV0LmNvbmZpZz8uZm9ybV9pZDtcbiAgICBjb25zdCBmb3JtSXNMb2NrZWQgPSBpc0Zvcm0gJiYgYXBwbGV0LmZvcm0/LnN0YXR1cyA9PT0gJ2Nsb3NlZCc7XG4gICAgY29uc3QgdXNlckhhc0NvbXBsZXRlZCA9IGlzRm9ybSAmJiBmb3JtSWQgPyB1c2VyRm9ybVJlc3BvbnNlc1tmb3JtSWRdIDogY29tcGxldGVkQXBwbGV0cy5oYXMoYXBwbGV0LmlkKTtcbiAgICBcbiAgICAvLyBCbG9jayBpZjpcbiAgICAvLyAxLiBOb24tZm9ybSwgbm9uLWxpbmstc3VibWlzc2lvbiwgbm9uLWZpbGUtdXBsb2FkIGFwcGxldCB0aGF0J3MgYWxyZWFkeSBjb21wbGV0ZWRcbiAgICAvLyAyLiBGb3JtIHRoYXQncyBsb2NrZWQgYW5kIHVzZXIgaGFzbid0IHN1Ym1pdHRlZCAoY2FuJ3Qgc3RhcnQgbmV3KVxuICAgIC8vIExpbmsgc3VibWlzc2lvbnMgYW5kIGZpbGUgdXBsb2FkcyBzaG91bGQgYWx3YXlzIGJlIHZpZXdhYmxlIGV2ZW4gYWZ0ZXIgY29tcGxldGlvblxuICAgIGlmICgoIWlzRm9ybSAmJiAhaXNMaW5rU3VibWlzc2lvbiAmJiAhaXNGaWxlVXBsb2FkICYmIHVzZXJIYXNDb21wbGV0ZWQpIHx8IChpc0Zvcm0gJiYgZm9ybUlzTG9ja2VkICYmICF1c2VySGFzQ29tcGxldGVkKSkge1xuICAgICAgcmV0dXJuOyAvLyBDYW5ub3QgcHJvY2VlZFxuICAgIH1cblxuICAgIC8vIE1hcmsgYXBwbGV0IGFzIGluIHByb2dyZXNzIGZvciB0aGlzIHVzZXJcbiAgICBhd2FpdCBmZXRjaChgL2FwaS9hbG9hLXByb2plY3RzLyR7cGFyYW1zLnByb2plY3RJZH0vY2xpZW50LXZpZXdgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhcHBsZXRJZDogYXBwbGV0LmlkLFxuICAgICAgICBzdGF0dXM6ICdpbl9wcm9ncmVzcycsXG4gICAgICAgIGludGVyYWN0aW9uVHlwZTogJ3ZpZXcnLFxuICAgICAgICB1c2VySWQ6IHVzZXJJZFxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIGlmIChhcHBsZXQudHlwZSA9PT0gJ2Zvcm0nKSB7XG4gICAgICAvLyBDaGVjayBmb3IgZm9ybV9pZCBpbiBtdWx0aXBsZSBwbGFjZXNcbiAgICAgIGNvbnN0IGZvcm1JZCA9IGFwcGxldC5mb3JtX2lkIHx8IGFwcGxldC5jb25maWc/LmZvcm1faWQ7XG4gICAgICBcbiAgICAgIGlmICghZm9ybUlkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGZvcm1faWQgZm91bmQgZm9yIGFwcGxldDonLCBhcHBsZXQpO1xuICAgICAgICBhbGVydCgnVGhpcyBmb3JtIGlzIG5vdCBwcm9wZXJseSBjb25maWd1cmVkLiBQbGVhc2UgY29udGFjdCBzdXBwb3J0LicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNldCB2aWV3LW9ubHkgbW9kZSBpZiBmb3JtIGlzIGxvY2tlZCAoaXNWaWV3T25seSBwYXJhbWV0ZXIgaXMgdHJ1ZSlcbiAgICAgIHNldElzRm9ybVZpZXdPbmx5KGlzVmlld09ubHkpO1xuICAgICAgXG4gICAgICAvLyBJZiB1c2VyIGhhcyBhbHJlYWR5IGNvbXBsZXRlZCB0aGlzIGZvcm0sIGdldCB0aGVpciBwcmV2aW91cyByZXNwb25zZXNcbiAgICAgIGxldCBwcmV2aW91c1Jlc3BvbnNlcyA9IG51bGw7XG4gICAgICBpZiAodXNlckhhc0NvbXBsZXRlZCAmJiB1c2VyRm9ybVJlc3BvbnNlc1tmb3JtSWRdKSB7XG4gICAgICAgIHByZXZpb3VzUmVzcG9uc2VzID0gdXNlckZvcm1SZXNwb25zZXNbZm9ybUlkXS5yZXNwb25zZV9kYXRhO1xuICAgICAgICBjb25zb2xlLmxvZygnTG9hZGVkIHByZXZpb3VzIHJlc3BvbnNlcyBmb3InLCBpc1ZpZXdPbmx5ID8gJ3ZpZXdpbmcnIDogJ2VkaXRpbmcnLCAnOicsIHByZXZpb3VzUmVzcG9uc2VzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXNlIGZvcm0gZGF0YSBmcm9tIGFwcGxldCBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmZXRjaFxuICAgICAgaWYgKGFwcGxldC5mb3JtKSB7XG4gICAgICAgIC8vIFRyYW5zZm9ybSB0aGUgcHJlbG9hZGVkIGZvcm0gZGF0YSB0byBtYXRjaCBNdWx0aVN0ZXBGb3JtUmVuZGVyZXIncyBleHBlY3RlZCBzdHJ1Y3R1cmVcbiAgICAgICAgY29uc3QgZm9ybSA9IGFwcGxldC5mb3JtO1xuICAgICAgICBjb25zdCBzb3J0ZWRGaWVsZHMgPSBmb3JtLmFsb2FfZm9ybV9maWVsZHM/LnNvcnQoKGEsIGIpID0+IChhLmZpZWxkX29yZGVyIHx8IDApIC0gKGIuZmllbGRfb3JkZXIgfHwgMCkpIHx8IFtdO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRGb3JtID0ge1xuICAgICAgICAgIC4uLmZvcm0sXG4gICAgICAgICAgX2lkOiBmb3JtLmlkLFxuICAgICAgICAgIHVybElkOiBmb3JtLnVybF9pZCxcbiAgICAgICAgICBmaWVsZHM6IHNvcnRlZEZpZWxkcy5tYXAoZmllbGQgPT4gKHtcbiAgICAgICAgICAgIF9pZDogZmllbGQuaWQsXG4gICAgICAgICAgICBsYWJlbDogZmllbGQuZmllbGRfbGFiZWwsXG4gICAgICAgICAgICBuYW1lOiBmaWVsZC5maWVsZF9uYW1lLFxuICAgICAgICAgICAgdHlwZTogZmllbGQuZmllbGRfdHlwZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaWVsZC5maWVsZF9vcmRlcixcbiAgICAgICAgICAgIHNlY3Rpb246IGZpZWxkLnZhbGlkYXRpb24/LnNlY3Rpb24gfHwgJ0dlbmVyYWwgSW5mb3JtYXRpb24nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZpZWxkLnJlcXVpcmVkLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGZpZWxkLnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgb3B0aW9uczogQXJyYXkuaXNBcnJheShmaWVsZC5vcHRpb25zKSA/IGZpZWxkLm9wdGlvbnMgOiAodHlwZW9mIGZpZWxkLm9wdGlvbnMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShmaWVsZC5vcHRpb25zKSA6IGZpZWxkLm9wdGlvbnMpLFxuICAgICAgICAgICAgdmFsaWRhdGlvbjogZmllbGQudmFsaWRhdGlvblxuICAgICAgICAgIH0pKVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ1RyYW5zZm9ybWVkIHByZWxvYWRlZCBmb3JtOicsIHRyYW5zZm9ybWVkRm9ybSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGb3JtIGZpZWxkcyBjb3VudDonLCB0cmFuc2Zvcm1lZEZvcm0uZmllbGRzPy5sZW5ndGgpO1xuICAgICAgICBjb25zb2xlLmxvZygnRm9ybSBmaWVsZHM6JywgdHJhbnNmb3JtZWRGb3JtLmZpZWxkcyk7XG4gICAgICAgIHNldEZvcm1EYXRhKHRyYW5zZm9ybWVkRm9ybSk7XG4gICAgICAgIHNldFNlbGVjdGVkQXBwbGV0KHsgLi4uYXBwbGV0LCBwcm9qZWN0bGV0LCBmb3JtX2lkOiBhcHBsZXQuZm9ybV9pZCB8fCBhcHBsZXQuY29uZmlnPy5mb3JtX2lkIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBwcmV2aW91cyByZXNwb25zZXMsIHNldCB0aGVtIGFzIHNhdmVkIHByb2dyZXNzXG4gICAgICAgIGlmIChwcmV2aW91c1Jlc3BvbnNlcykge1xuICAgICAgICAgIHNldEZvcm1Qcm9ncmVzcyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgW2Zvcm1JZF06IHsgZGF0YTogcHJldmlvdXNSZXNwb25zZXMgfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0U2hvd0Zvcm1Nb2RhbCh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZm9ybVJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2Fsb2EtZm9ybXMvJHtmb3JtSWR9YCk7XG4gICAgICAgICAgaWYgKCFmb3JtUmVzLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBmb3JtOiAke2Zvcm1SZXMuc3RhdHVzfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBmb3JtID0gYXdhaXQgZm9ybVJlcy5qc29uKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoZWQgZm9ybTonLCBmb3JtKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBUcmFuc2Zvcm0gdGhlIGZvcm0gZGF0YSB0byBtYXRjaCBNdWx0aVN0ZXBGb3JtUmVuZGVyZXIncyBleHBlY3RlZCBzdHJ1Y3R1cmVcbiAgICAgICAgICBjb25zdCBzb3J0ZWRGaWVsZHMgPSBmb3JtLmFsb2FfZm9ybV9maWVsZHM/LnNvcnQoKGEsIGIpID0+IChhLmZpZWxkX29yZGVyIHx8IDApIC0gKGIuZmllbGRfb3JkZXIgfHwgMCkpIHx8IFtdO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkRm9ybSA9IHtcbiAgICAgICAgICAgIC4uLmZvcm0sXG4gICAgICAgICAgICBfaWQ6IGZvcm0uaWQsXG4gICAgICAgICAgICB1cmxJZDogZm9ybS51cmxfaWQsXG4gICAgICAgICAgICBmaWVsZHM6IHNvcnRlZEZpZWxkcy5tYXAoZmllbGQgPT4gKHtcbiAgICAgICAgICAgICAgX2lkOiBmaWVsZC5pZCxcbiAgICAgICAgICAgICAgbGFiZWw6IGZpZWxkLmZpZWxkX2xhYmVsLFxuICAgICAgICAgICAgICBuYW1lOiBmaWVsZC5maWVsZF9uYW1lLFxuICAgICAgICAgICAgICB0eXBlOiBmaWVsZC5maWVsZF90eXBlLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogZmllbGQuZmllbGRfb3JkZXIsXG4gICAgICAgICAgICAgIHNlY3Rpb246IGZpZWxkLnZhbGlkYXRpb24/LnNlY3Rpb24gfHwgJ0dlbmVyYWwgSW5mb3JtYXRpb24nLFxuICAgICAgICAgICAgICByZXF1aXJlZDogZmllbGQucmVxdWlyZWQsXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBmaWVsZC5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgb3B0aW9uczogQXJyYXkuaXNBcnJheShmaWVsZC5vcHRpb25zKSA/IGZpZWxkLm9wdGlvbnMgOiAodHlwZW9mIGZpZWxkLm9wdGlvbnMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShmaWVsZC5vcHRpb25zKSA6IGZpZWxkLm9wdGlvbnMpLFxuICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBmaWVsZC52YWxpZGF0aW9uXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdUcmFuc2Zvcm1lZCBmb3JtOicsIHRyYW5zZm9ybWVkRm9ybSk7XG4gICAgICAgICAgc2V0Rm9ybURhdGEodHJhbnNmb3JtZWRGb3JtKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZEFwcGxldCh7IC4uLmFwcGxldCwgcHJvamVjdGxldCwgZm9ybV9pZDogZm9ybUlkIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgcHJldmlvdXMgcmVzcG9uc2VzLCBzZXQgdGhlbSBhcyBzYXZlZCBwcm9ncmVzc1xuICAgICAgICAgIGlmIChwcmV2aW91c1Jlc3BvbnNlcykge1xuICAgICAgICAgICAgc2V0Rm9ybVByb2dyZXNzKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgW2Zvcm1JZF06IHsgZGF0YTogcHJldmlvdXNSZXNwb25zZXMgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZXRTaG93Rm9ybU1vZGFsKHRydWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGZvcm06JywgZXJyb3IpO1xuICAgICAgICAgIGFsZXJ0KCdVbmFibGUgdG8gbG9hZCB0aGUgZm9ybS4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYXBwbGV0LnR5cGUgPT09ICdsaW5rX3N1Ym1pc3Npb24nKSB7XG4gICAgICAvLyBIYW5kbGUgbGluayBzdWJtaXNzaW9uIGFwcGxldFxuICAgICAgc2V0U2VsZWN0ZWRBcHBsZXQoeyAuLi5hcHBsZXQsIHByb2plY3RsZXQgfSk7XG4gICAgICBzZXRTaG93TGlua1N1Ym1pc3Npb25Nb2RhbCh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKGlzRmlsZVVwbG9hZCkge1xuICAgICAgLy8gSGFuZGxlIGZpbGUgdXBsb2FkIGFwcGxldFxuICAgICAgc2V0U2VsZWN0ZWRBcHBsZXQoeyAuLi5hcHBsZXQsIHByb2plY3RsZXQgfSk7XG4gICAgICBzZXRTaG93RmlsZVVwbG9hZE1vZGFsKHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVGb3JtU3VibWl0ID0gYXN5bmMgKHJlc3BvbnNlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgQ1NSRiB0b2tlbiAoZ2VuZXJhdGUgYSBzaW1wbGUgb25lIGZvciBub3cpXG4gICAgICBjb25zdCBjc3JmVG9rZW4gPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG4gICAgICBkb2N1bWVudC5jb29raWUgPSBgY3NyZi10b2tlbj0ke2NzcmZUb2tlbn07IHBhdGg9L2A7XG5cbiAgICAgIC8vIFN1Ym1pdCBmb3JtIHJlc3BvbnNlIHdpdGggcHJvamVjdCBJRCBhbmQgdXNlciBJRFxuICAgICAgY29uc3QgcmVzcG9uc2VSZXN1bHQgPSBhd2FpdCBmZXRjaCgnL2FwaS9hbG9hLXJlc3BvbnNlcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnWC1DU1JGLVRva2VuJzogY3NyZlRva2VuXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBmb3JtSWQ6IHNlbGVjdGVkQXBwbGV0LmZvcm1faWQgfHwgc2VsZWN0ZWRBcHBsZXQuZm9ybT8uaWQsXG4gICAgICAgICAgcHJvamVjdElkOiBwYXJhbXMucHJvamVjdElkLCAgLy8gSW5jbHVkZSB0aGUgcHJvamVjdCBJRFxuICAgICAgICAgIHVzZXJJZDogdXNlcklkLCAgLy8gSW5jbHVkZSB0aGUgdXNlciBJRFxuICAgICAgICAgIGRhdGE6IHJlc3BvbnNlc1xuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2VSZXN1bHQub2spIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN1Ym1pdCBmb3JtIHJlc3BvbnNlOicsIGF3YWl0IHJlc3BvbnNlUmVzdWx0LnRleHQoKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIE1hcmsgYXBwbGV0IGFzIGNvbXBsZXRlZCBmb3IgdGhpcyB1c2VyXG4gICAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSBhd2FpdCBmZXRjaChgL2FwaS9hbG9hLXByb2plY3RzLyR7cGFyYW1zLnByb2plY3RJZH0vY2xpZW50LXZpZXdgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGFwcGxldElkOiBzZWxlY3RlZEFwcGxldC5pZCxcbiAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgIGludGVyYWN0aW9uVHlwZTogJ3N1Ym1pc3Npb24nLFxuICAgICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICAgIGRhdGE6IHsgZm9ybV9yZXNwb25zZXM6IHJlc3BvbnNlcyB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgaWYgKCF1cGRhdGVSZXN1bHQub2spIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBhcHBsZXQgc3RhdHVzOicsIGF3YWl0IHVwZGF0ZVJlc3VsdC50ZXh0KCkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBtYXJrIGZvcm0gYXMgY29tcGxldGVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgY29uc3QgbmV3Q29tcGxldGVkID0gbmV3IFNldChjb21wbGV0ZWRBcHBsZXRzKTtcbiAgICAgIG5ld0NvbXBsZXRlZC5hZGQoc2VsZWN0ZWRBcHBsZXQuaWQpO1xuICAgICAgc2V0Q29tcGxldGVkQXBwbGV0cyhuZXdDb21wbGV0ZWQpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgZm9ybSByZXNwb25zZXMgc3RhdGUgdG8gdHJhY2sgdGhpcyBzdWJtaXNzaW9uXG4gICAgICBjb25zdCBmb3JtSWQgPSBzZWxlY3RlZEFwcGxldC5mb3JtX2lkIHx8IHNlbGVjdGVkQXBwbGV0LmZvcm0/LmlkO1xuICAgICAgaWYgKGZvcm1JZCkge1xuICAgICAgICBzZXRVc2VyRm9ybVJlc3BvbnNlcyhwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbZm9ybUlkXToge1xuICAgICAgICAgICAgcmVzcG9uc2VfZGF0YTogcmVzcG9uc2VzLFxuICAgICAgICAgICAgc3VibWl0dGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFyIHNhdmVkIHByb2dyZXNzIGZvciB0aGlzIGZvcm0gc2luY2UgaXQncyBjb21wbGV0ZWRcbiAgICAgICAgc2V0Rm9ybVByb2dyZXNzKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld1Byb2dyZXNzID0geyAuLi5wcmV2IH07XG4gICAgICAgICAgZGVsZXRlIG5ld1Byb2dyZXNzW2Zvcm1JZF07XG4gICAgICAgICAgcmV0dXJuIG5ld1Byb2dyZXNzO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xvc2UgbW9kYWwgYW5kIHNob3cgY2VsZWJyYXRpb25cbiAgICAgIHNldFNob3dGb3JtTW9kYWwoZmFsc2UpO1xuICAgICAgc2V0U2hvd0NvbmZldHRpKHRydWUpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTaG93Q29uZmV0dGkoZmFsc2UpLCA3MDAwKTtcblxuICAgICAgLy8gUmVmcmVzaCBkYXRhIHRvIGdldCB1cGRhdGVkIHN0YXR1cyBmcm9tIHNlcnZlclxuICAgICAgZmV0Y2hQcm9qZWN0RGF0YSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdWJtaXR0aW5nIGZvcm06JywgZXJyb3IpO1xuICAgICAgYWxlcnQoJ1RoZXJlIHdhcyBhbiBlcnJvciBzdWJtaXR0aW5nIHRoZSBmb3JtLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRBcHBsZXRJY29uID0gKHR5cGUpID0+IHtcbiAgICBjb25zdCBpY29ucyA9IHtcbiAgICAgIGZvcm06IEZpbGVUZXh0LFxuICAgICAgdXBsb2FkOiBVcGxvYWQsXG4gICAgICByZXZpZXc6IEV5ZSxcbiAgICAgIG1vb2Rib2FyZDogUGFsZXR0ZSxcbiAgICAgIGNvbnRlbnRfZ2F0aGVyOiBNZXNzYWdlU3F1YXJlXG4gICAgfTtcbiAgICByZXR1cm4gaWNvbnNbdHlwZV0gfHwgRmlsZVRleHQ7XG4gIH07XG5cbiAgY29uc3QgY2FsY3VsYXRlUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRzLnByb2dyZXNzUGVyY2VudGFnZSB8fCAwO1xuICB9O1xuXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTUwIHRvLWJsdWUtNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItYi0yIGJvcmRlci1wdXJwbGUtNjAwXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgcHJvZ3Jlc3MgPSBjYWxjdWxhdGVQcm9ncmVzcygpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtNTAgdG8tYmx1ZS01MFwiPlxuICAgICAgPENvbmZldHRpQ2VsZWJyYXRpb24gc2hvdz17c2hvd0NvbmZldHRpfSBkdXJhdGlvbj17NjAwMH0gLz5cbiAgICAgIFxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgc2hhZG93LXNtIGJvcmRlci1iXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctN3hsIG14LWF1dG8gcHgtNCBzbTpweC02IGxnOnB4LTggcHktNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj57cHJvamVjdD8ucHJvamVjdF9uYW1lIHx8IHByb2plY3Q/Lm5hbWUgfHwgJ1Byb2plY3QgRGFzaGJvYXJkJ308L2gxPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbXQtMVwiPldlbGNvbWUgdG8geW91ciBwcm9qZWN0IHdvcmtzcGFjZTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogUHJvZ3Jlc3MgUmluZyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTIwIGgtMjAgdHJhbnNmb3JtIC1yb3RhdGUtOTBcIj5cbiAgICAgICAgICAgICAgICA8Y2lyY2xlXG4gICAgICAgICAgICAgICAgICBjeD1cIjQwXCJcbiAgICAgICAgICAgICAgICAgIGN5PVwiNDBcIlxuICAgICAgICAgICAgICAgICAgcj1cIjM2XCJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjhcIlxuICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTIwMFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8Y2lyY2xlXG4gICAgICAgICAgICAgICAgICBjeD1cIjQwXCJcbiAgICAgICAgICAgICAgICAgIGN5PVwiNDBcIlxuICAgICAgICAgICAgICAgICAgcj1cIjM2XCJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjhcIlxuICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgc3Ryb2tlRGFzaGFycmF5PXtgJHtwcm9ncmVzcyAqIDIuMjZ9IDIyNmB9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS02MDAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNTAwXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGRcIj57cHJvZ3Jlc3N9JTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIE1haW4gQ29udGVudCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctN3hsIG14LWF1dG8gcHgtNCBzbTpweC02IGxnOnB4LTggcHktOFwiPlxuICAgICAgICB7LyogU3RhdHMgQ2FyZHMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtNCBnYXAtNCBtYi04XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+VGFza3MgQ29tcGxldGU8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+e3N0YXRzLmNvbXBsZXRlZEFwcGxldHMgfHwgMH08L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwidy04IGgtOCB0ZXh0LWdyZWVuLTUwMFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgcC02IHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5JbiBQcm9ncmVzczwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIj5cbiAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBhcHBsZXRzIHRoYXQgYXJlIGluIHByb2dyZXNzIChzdGFydGVkIGJ1dCBub3QgY29tcGxldGVkKVxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5Qcm9ncmVzc0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGxldHMuZm9yRWFjaChwcm9qZWN0bGV0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0bGV0LmFwcGxldHM/LmZvckVhY2goYXBwbGV0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGFwcGxldC51c2VyX3N0YXR1cyB8fCBhcHBsZXQuc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2luX3Byb2dyZXNzJyB8fCBzdGF0dXMgPT09ICdzdGFydGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpblByb2dyZXNzQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpblByb2dyZXNzQ291bnQ7XG4gICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxDbG9jayBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQteWVsbG93LTUwMFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgcC02IHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5Mb2NrZWQ8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+XG4gICAgICAgICAgICAgICAgICB7cHJvamVjdGxldHMuZmlsdGVyKHAgPT4gcC5zdGF0dXMgPT09ICdsb2NrZWQnKS5sZW5ndGh9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPExvY2sgY2xhc3NOYW1lPVwidy04IGgtOCB0ZXh0LWdyYXktNTAwXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBwLTYgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPkFjaGlldmVtZW50PC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPvCfj4Y8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8VHJvcGh5IGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1wdXJwbGUtNTAwXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogUHJvamVjdGxldHMgVGltZWxpbmUgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5Zb3VyIFByb2plY3QgSm91cm5leTwvaDI+XG4gICAgICAgICAgXG4gICAgICAgICAge3Byb2plY3RsZXRzLm1hcCgocHJvamVjdGxldCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzTG9ja2VkID0gcHJvamVjdGxldC5zdGF0dXMgPT09ICdsb2NrZWQnO1xuICAgICAgICAgICAgY29uc3QgaXNDb21wbGV0ZWQgPSBwcm9qZWN0bGV0LnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCc7XG4gICAgICAgICAgICBjb25zdCBhcHBsZXRzID0gcHJvamVjdGxldC5hcHBsZXRzIHx8IFtdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBwcm9qZWN0bGV0IGlzIGluIHByb2dyZXNzIChoYXMgc3RhcnRlZCBhcHBsZXRzIGJ1dCBub3QgYWxsIGNvbXBsZXRlKVxuICAgICAgICAgICAgY29uc3QgaGFzU3RhcnRlZEFwcGxldHMgPSBhcHBsZXRzLnNvbWUoYXBwbGV0ID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gYXBwbGV0LnVzZXJfc3RhdHVzIHx8IGFwcGxldC5zdGF0dXM7XG4gICAgICAgICAgICAgIHJldHVybiBzdGF0dXMgPT09ICdpbl9wcm9ncmVzcycgfHwgc3RhdHVzID09PSAnc3RhcnRlZCcgfHwgc3RhdHVzID09PSAnY29tcGxldGVkJyB8fCBzdGF0dXMgPT09ICdhcHByb3ZlZCc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGFsbEFwcGxldHNDb21wbGV0ZSA9IGFwcGxldHMubGVuZ3RoID4gMCAmJiBhcHBsZXRzLmV2ZXJ5KGFwcGxldCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGFwcGxldC51c2VyX3N0YXR1cyB8fCBhcHBsZXQuc3RhdHVzO1xuICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzID09PSAnY29tcGxldGVkJyB8fCBzdGF0dXMgPT09ICdhcHByb3ZlZCc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGlzSW5Qcm9ncmVzcyA9IGhhc1N0YXJ0ZWRBcHBsZXRzICYmICFhbGxBcHBsZXRzQ29tcGxldGU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBrZXk9e3Byb2plY3RsZXQuaWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctc20gb3ZlcmZsb3ctaGlkZGVuICR7XG4gICAgICAgICAgICAgICAgICBpc0xvY2tlZCA/ICdvcGFjaXR5LTYwJyA6ICcnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7LyogUHJvamVjdGxldCBIZWFkZXIgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BwLTYgYm9yZGVyLWIgJHtcbiAgICAgICAgICAgICAgICAgIGlzQ29tcGxldGVkID8gJ2JnLWdyZWVuLTUwJyA6IFxuICAgICAgICAgICAgICAgICAgaXNJblByb2dyZXNzID8gJ2JnLXllbGxvdy01MCcgOlxuICAgICAgICAgICAgICAgICAgaXNMb2NrZWQgPyAnYmctZ3JheS01MCcgOiAnYmctd2hpdGUnXG4gICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctMTAgaC0xMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGxldGVkID8gJ2JnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNJblByb2dyZXNzID8gJ2JnLXllbGxvdy0xMDAgdGV4dC15ZWxsb3ctNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0xvY2tlZCA/ICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNDAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAnYmctcHVycGxlLTEwMCB0ZXh0LXB1cnBsZS02MDAnXG4gICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAge2lzQ29tcGxldGVkID8gPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNiBoLTZcIiAvPiA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgIGlzSW5Qcm9ncmVzcyA/IDxDbG9jayBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz4gOlxuICAgICAgICAgICAgICAgICAgICAgICAgIGlzTG9ja2VkID8gPExvY2sgY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+IDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+e2luZGV4ICsgMX08L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGdcIj57cHJvamVjdGxldC5uYW1lfTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cHJvamVjdGxldC5kZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPntwcm9qZWN0bGV0LmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAge3Byb2plY3RsZXQuZGVhZGxpbmUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBEdWU6IHtuZXcgRGF0ZShwcm9qZWN0bGV0LmRlYWRsaW5lKS50b0xvY2FsZURhdGVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIEFwcGxldHMgKFRhc2tzKSAqL31cbiAgICAgICAgICAgICAgICB7IWlzTG9ja2VkICYmIGFwcGxldHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHAtNiAke2lzSW5Qcm9ncmVzcyA/ICdiZy15ZWxsb3ctNTAvNTAnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2FwcGxldHMubWFwKGFwcGxldCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uID0gZ2V0QXBwbGV0SWNvbihhcHBsZXQudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0FwcGxldENvbXBsZXRlZCA9IGNvbXBsZXRlZEFwcGxldHMuaGFzKGFwcGxldC5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGEgZm9ybSBhbmQgd2hldGhlciBpdCdzIHN0aWxsIGFjY2VwdGluZyByZXNwb25zZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRm9ybSA9IGFwcGxldC50eXBlID09PSAnZm9ybSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtSWQgPSBhcHBsZXQuZm9ybV9pZCB8fCBhcHBsZXQuY29uZmlnPy5mb3JtX2lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybUlzTG9ja2VkID0gaXNGb3JtICYmIGFwcGxldC5mb3JtPy5zdGF0dXMgPT09ICdjbG9zZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgYWN0dWFsIGZvcm0gc3VibWlzc2lvbnMsIG5vdCBqdXN0IGFwcGxldCBzdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJIYXNTdWJtaXR0ZWQgPSBpc0Zvcm0gJiYgZm9ybUlkICYmIHVzZXJGb3JtUmVzcG9uc2VzW2Zvcm1JZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSBkaXNwbGF5IHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnV0dG9uU3RhdGUgPSAnYXZhaWxhYmxlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGF0dXNNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlckhhc1N1Ym1pdHRlZCAmJiBmb3JtSXNMb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2VyIGhhcyBzdWJtaXR0ZWQgQU5EIGZvcm0gaXMgbG9ja2VkIC0gY2FuIHZpZXcgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0YXRlID0gJ2NvbXBsZXRlZC1sb2NrZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c01lc3NhZ2UgPSAnRm9ybSBjb21wbGV0ZWQgJiBsb2NrZWQuIE5vIGxvbmdlciBhY2NlcHRpbmcgcmVzcG9uc2VzLic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXNlckhhc1N1Ym1pdHRlZCAmJiAhZm9ybUlzTG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlciBoYXMgc3VibWl0dGVkIGJ1dCBmb3JtIHN0aWxsIGFjY2VwdGluZyByZXNwb25zZXMgLSBjYW4gZWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0YXRlID0gJ3VzZXItY29tcGxldGUtZWRpdGFibGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c01lc3NhZ2UgPSAnRm9ybSBjb21wbGV0ZWQhIFdlIGFyZSBzdGlsbCBhd2FpdGluZyBvdGhlciByZXNwb25zZXMuIFdhbnQgdG8gbWFrZSBhIGNoYW5nZT8gQ2xpY2sgdGhlIHBlbmNpbCBpY29uLic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybUlzTG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9ybSBpcyBsb2NrZWQgYnV0IHVzZXIgaGFzbid0IHN1Ym1pdHRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0YXRlID0gJ2xvY2tlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzTWVzc2FnZSA9ICdGb3JtIGNsb3NlZCB0byBuZXcgcmVzcG9uc2VzJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHBsZXQudHlwZSA9PT0gJ2xpbmtfc3VibWlzc2lvbicgJiYgaXNBcHBsZXRDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGluayBzdWJtaXNzaW9ucyBzaG91bGQgYmUgdmlld2FibGUgZXZlbiBhZnRlciBjb21wbGV0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0YXRlID0gJ2xpbmstY29tcGxldGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzTWVzc2FnZSA9ICdMaW5rcyByZXZpZXdlZCAtIGNsaWNrIHRvIHZpZXcgYWdhaW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoYXBwbGV0LnR5cGUgPT09ICd1cGxvYWQnIHx8IGFwcGxldC50eXBlID09PSAnZmlsZV91cGxvYWQnKSAmJiBpc0FwcGxldENvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaWxlIHVwbG9hZHMgc2hvdWxkIGJlIHZpZXdhYmxlIGV2ZW4gYWZ0ZXIgY29tcGxldGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25TdGF0ZSA9ICdmaWxlLWNvbXBsZXRlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c01lc3NhZ2UgPSAnRmlsZXMgcmV2aWV3ZWQgLSBjbGljayB0byB2aWV3IGFnYWluJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcHBsZXRDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uU3RhdGUgPSAnY29tcGxldGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YXBwbGV0LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFwcGxldENsaWNrKGFwcGxldCwgcHJvamVjdGxldCwgYnV0dG9uU3RhdGUgPT09ICdjb21wbGV0ZWQtbG9ja2VkJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2J1dHRvblN0YXRlID09PSAnbG9ja2VkJyB8fCAoYnV0dG9uU3RhdGUgPT09ICdjb21wbGV0ZWQnICYmIGFwcGxldC50eXBlICE9PSAnbGlua19zdWJtaXNzaW9uJyAmJiBhcHBsZXQudHlwZSAhPT0gJ3VwbG9hZCcgJiYgYXBwbGV0LnR5cGUgIT09ICdmaWxlX3VwbG9hZCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBwLTQgcm91bmRlZC1sZyBib3JkZXItMiB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uU3RhdGUgPT09ICdjb21wbGV0ZWQtbG9ja2VkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi01MCBib3JkZXItZ3JlZW4tMzAwIGhvdmVyOmJvcmRlci1ncmVlbi00MDAgaG92ZXI6c2hhZG93LW1kIGN1cnNvci1wb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGJ1dHRvblN0YXRlID09PSAndXNlci1jb21wbGV0ZS1lZGl0YWJsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tNTAgYm9yZGVyLWdyZWVuLTMwMCBob3Zlcjpib3JkZXItZ3JlZW4tNDAwIGhvdmVyOnNoYWRvdy1tZCBjdXJzb3ItcG9pbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBidXR0b25TdGF0ZSA9PT0gJ2xpbmstY29tcGxldGVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi01MCBib3JkZXItZ3JlZW4tMzAwIGhvdmVyOmJvcmRlci1ncmVlbi00MDAgaG92ZXI6c2hhZG93LW1kIGN1cnNvci1wb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGJ1dHRvblN0YXRlID09PSAnZmlsZS1jb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXB1cnBsZS01MCBib3JkZXItcHVycGxlLTMwMCBob3Zlcjpib3JkZXItcHVycGxlLTQwMCBob3ZlcjpzaGFkb3ctbWQgY3Vyc29yLXBvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYnV0dG9uU3RhdGUgPT09ICdsb2NrZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYXktNTAgYm9yZGVyLWdyYXktMzAwIGN1cnNvci1kZWZhdWx0IG9wYWNpdHktNzUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYnV0dG9uU3RhdGUgPT09ICdjb21wbGV0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTUwIGJvcmRlci1ncmVlbi0zMDAgY3Vyc29yLWRlZmF1bHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIGJvcmRlci1ncmF5LTIwMCBob3Zlcjpib3JkZXItcHVycGxlLTMwMCBob3ZlcjpzaGFkb3ctbWQgY3Vyc29yLXBvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1sZyAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblN0YXRlID09PSAnY29tcGxldGVkLWxvY2tlZCcgfHwgYnV0dG9uU3RhdGUgPT09ICd1c2VyLWNvbXBsZXRlLWVkaXRhYmxlJyB8fCBidXR0b25TdGF0ZSA9PT0gJ2xpbmstY29tcGxldGVkJyA/ICdiZy1ncmVlbi0xMDAnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25TdGF0ZSA9PT0gJ2ZpbGUtY29tcGxldGVkJyA/ICdiZy1wdXJwbGUtMTAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uU3RhdGUgPT09ICdsb2NrZWQnID8gJ2JnLWdyYXktMTAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uU3RhdGUgPT09ICdjb21wbGV0ZWQnID8gJ2JnLWdyZWVuLTEwMCcgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmctcHVycGxlLTEwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtidXR0b25TdGF0ZSA9PT0gJ2NvbXBsZXRlZC1sb2NrZWQnIHx8IGJ1dHRvblN0YXRlID09PSAndXNlci1jb21wbGV0ZS1lZGl0YWJsZScgfHwgYnV0dG9uU3RhdGUgPT09ICdjb21wbGV0ZWQnIHx8IGJ1dHRvblN0YXRlID09PSAnbGluay1jb21wbGV0ZWQnIHx8IGJ1dHRvblN0YXRlID09PSAnZmlsZS1jb21wbGV0ZWQnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBidXR0b25TdGF0ZSA9PT0gJ2xvY2tlZCcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9jayBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtZ3JheS02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtcHVycGxlLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthcHBsZXQudHlwZSA9PT0gJ2Zvcm0nICYmIGFwcGxldC5mb3JtPy50aXRsZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcHBsZXQuZm9ybS50aXRsZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhcHBsZXQudHlwZSA9PT0gJ2xpbmtfc3VibWlzc2lvbicgJiYgYXBwbGV0LmNvbmZpZz8uaGVhZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGFwcGxldC5jb25maWcuaGVhZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChhcHBsZXQudHlwZSA9PT0gJ3VwbG9hZCcgfHwgYXBwbGV0LnR5cGUgPT09ICdmaWxlX3VwbG9hZCcpICYmIGFwcGxldC5jb25maWc/LmhlYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhcHBsZXQuY29uZmlnLmhlYWRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhcHBsZXQubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3N0YXR1c01lc3NhZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgaXRhbGljXCI+e3N0YXR1c01lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiBhcHBsZXQuY2xpZW50X2luc3RydWN0aW9ucyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPnthcHBsZXQuY2xpZW50X2luc3RydWN0aW9uc308L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtidXR0b25TdGF0ZSA9PT0gJ2xvY2tlZCcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMb2NrIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ncmF5LTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogYnV0dG9uU3RhdGUgPT09ICd1c2VyLWNvbXBsZXRlLWVkaXRhYmxlJyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEVkaXQyIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IGJ1dHRvblN0YXRlID09PSAnY29tcGxldGVkLWxvY2tlZCcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWdyZWVuLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogYnV0dG9uU3RhdGUgPT09ICdsaW5rLWNvbXBsZXRlZCcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWdyZWVuLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogYnV0dG9uU3RhdGUgPT09ICdjb21wbGV0ZWQnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwidy02IGgtNiB0ZXh0LWdyZWVuLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcHVycGxlLTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0IOKGklxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBGb3JtIE1vZGFsICovfVxuICAgICAge3Nob3dGb3JtTW9kYWwgJiYgZm9ybURhdGEgJiYgKFxuICAgICAgICA8Rm9ybU1vZGFsXG4gICAgICAgICAgZm9ybT17Zm9ybURhdGF9XG4gICAgICAgICAgb25TdWJtaXQ9e2hhbmRsZUZvcm1TdWJtaXR9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4ge1xuICAgICAgICAgICAgLy8gU2F2ZSBwcm9ncmVzcyB3aGVuIGNsb3NpbmdcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEFwcGxldD8uZm9ybV9pZCkge1xuICAgICAgICAgICAgICAvLyBQcm9ncmVzcyBpcyBhdXRvbWF0aWNhbGx5IHNhdmVkIHZpYSBvblByb2dyZXNzVXBkYXRlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRTaG93Rm9ybU1vZGFsKGZhbHNlKTtcbiAgICAgICAgICAgIHNldElzRm9ybVZpZXdPbmx5KGZhbHNlKTsgLy8gUmVzZXQgdmlldy1vbmx5IG1vZGUgd2hlbiBjbG9zaW5nXG4gICAgICAgICAgfX1cbiAgICAgICAgICBzYXZlZFByb2dyZXNzPXtmb3JtUHJvZ3Jlc3Nbc2VsZWN0ZWRBcHBsZXQ/LmZvcm1faWRdfVxuICAgICAgICAgIG9uUHJvZ3Jlc3NVcGRhdGU9e251bGx9XG4gICAgICAgICAgaXNWaWV3T25seT17aXNGb3JtVmlld09ubHl9XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICB7LyogTGluayBTdWJtaXNzaW9uIE1vZGFsICovfVxuICAgICAge3Nob3dMaW5rU3VibWlzc2lvbk1vZGFsICYmIHNlbGVjdGVkQXBwbGV0ICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrLzUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNCB6LTUwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIG1heC13LTJ4bCB3LWZ1bGwgbWF4LWgtWzkwdmhdIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgYm9yZGVyLWJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+XG4gICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRBcHBsZXQuY29uZmlnPy5oZWFkaW5nIHx8ICdMaW5rcyAmIFJlc291cmNlcyd9XG4gICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TGlua1N1Ym1pc3Npb25Nb2RhbChmYWxzZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgaG92ZXI6YmctZ3JheS0xMDAgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7c2VsZWN0ZWRBcHBsZXQuY29uZmlnPy5kZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWdyYXktNjAwXCI+e3NlbGVjdGVkQXBwbGV0LmNvbmZpZy5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTZcIj5cbiAgICAgICAgICAgICAge3NlbGVjdGVkQXBwbGV0LmNvbmZpZz8ubGlua3MgJiYgc2VsZWN0ZWRBcHBsZXQuY29uZmlnLmxpbmtzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEFwcGxldC5jb25maWcubGlua3MubWFwKChsaW5rLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2lkeH0gY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbGcgcC00IGhvdmVyOmJnLWdyYXktNTAgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17bGluay51cmx9XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyBncm91cFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEV4dGVybmFsTGluayBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtYmx1ZS02MDAgbXQtMSBmbGV4LXNocmluay0wIGdyb3VwLWhvdmVyOnRleHQtYmx1ZS03MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ibHVlLTYwMCBncm91cC1ob3Zlcjp0ZXh0LWJsdWUtNzAwIGdyb3VwLWhvdmVyOnVuZGVybGluZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsaW5rLnRleHQgfHwgJ1ZpZXcgTGluayd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2xpbmsuZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBtdC0xXCI+e2xpbmsuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC1jZW50ZXIgcHktOFwiPk5vIGxpbmtzIGF2YWlsYWJsZSB5ZXQuPC9wPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAge3NlbGVjdGVkQXBwbGV0LmNvbmZpZz8uYWxsb3dfY2xpZW50X2Fja25vd2xlZGdtZW50ICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgcHQtNiBib3JkZXItdFwiPlxuICAgICAgICAgICAgICAgICAge2NvbXBsZXRlZEFwcGxldHMuaGFzKHNlbGVjdGVkQXBwbGV0LmlkKSB8fCBzZWxlY3RlZEFwcGxldC51c2VyX3N0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTMgYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tNzAwIHJvdW5kZWQtbGcgdGV4dC1jZW50ZXIgZm9udC1tZWRpdW0gYm9yZGVyIGJvcmRlci1ncmVlbi0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICDinJMgTWFya2VkIGFzIFJldmlld2VkIG9uIHtzZWxlY3RlZEFwcGxldC51c2VyX2NvbXBsZXRlZF9hdCA/IFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoc2VsZWN0ZWRBcHBsZXQudXNlcl9jb21wbGV0ZWRfYXQpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiAnc2hvcnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBob3VyOiAnbnVtZXJpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogJzItZGlnaXQnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1JlY2VudGx5J1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFyayBhcyBhY2tub3dsZWRnZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKGAvYXBpL2Fsb2EtcHJvamVjdHMvJHtwYXJhbXMucHJvamVjdElkfS9jbGllbnQtdmlld2AsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGV0SWQ6IHNlbGVjdGVkQXBwbGV0LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25UeXBlOiAnY29tcGxldGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBhY2tub3dsZWRnZWQ6IHRydWUsIGFja25vd2xlZGdlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29tcGxldGVkQXBwbGV0cyhwcmV2ID0+IG5ldyBTZXQoWy4uLnByZXYsIHNlbGVjdGVkQXBwbGV0LmlkXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0xpbmtTdWJtaXNzaW9uTW9kYWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGNvbmZldHRpIGNlbGVicmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93Q29uZmV0dGkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNob3dDb25mZXR0aShmYWxzZSksIDcwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIHByb2plY3QgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hQcm9qZWN0RGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTMgYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmVlbi03MDAgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1tZWRpdW1cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgTWFyayBhcyBSZXZpZXdlZFxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogRmlsZSBVcGxvYWQgTW9kYWwgKi99XG4gICAgICB7c2hvd0ZpbGVVcGxvYWRNb2RhbCAmJiBzZWxlY3RlZEFwcGxldCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay81MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTQgei01MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBtYXgtdy0yeGwgdy1mdWxsIG1heC1oLVs5MHZoXSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IGJvcmRlci1iXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPlxuICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQXBwbGV0LmNvbmZpZz8uaGVhZGluZyB8fCAnRmlsZSBEb3dubG9hZHMnfVxuICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0ZpbGVVcGxvYWRNb2RhbChmYWxzZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgaG92ZXI6YmctZ3JheS0xMDAgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICB7c2VsZWN0ZWRBcHBsZXQuY29uZmlnPy5kZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWdyYXktNjAwXCI+e3NlbGVjdGVkQXBwbGV0LmNvbmZpZy5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTZcIj5cbiAgICAgICAgICAgICAge3NlbGVjdGVkQXBwbGV0LmNvbmZpZz8uZmlsZXMgJiYgc2VsZWN0ZWRBcHBsZXQuY29uZmlnLmZpbGVzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEFwcGxldC5jb25maWcuZmlsZXMubWFwKChmaWxlLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2V0RmlsZUljb24gPSAoZmlsZU5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHQgPSBmaWxlTmFtZS5zcGxpdCgnLicpLnBvcCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VFeHRzID0gWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ3N2ZyddO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY0V4dHMgPSBbJ3BkZicsICdkb2MnLCAnZG9jeCcsICd0eHQnXTtcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VFeHRzLmluY2x1ZGVzKGV4dCkpIHJldHVybiAn8J+WvO+4jyc7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY0V4dHMuaW5jbHVkZXMoZXh0KSkgcmV0dXJuICfwn5OEJztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0ID09PSAnemlwJyB8fCBleHQgPT09ICdyYXInKSByZXR1cm4gJ/Cfk6YnO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAn8J+Tjic7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXRGaWxlU2l6ZSA9IChieXRlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghYnl0ZXMgfHwgYnl0ZXMgPT09IDApIHJldHVybiAnMCBCeXRlcyc7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgayA9IDEwMjQ7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJ107XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGJ5dGVzIC8gTWF0aC5wb3coaywgaSkgKiAxMDApIC8gMTAwICsgJyAnICsgc2l6ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT1cImJvcmRlciByb3VuZGVkLWxnIHAtNCBob3ZlcjpiZy1ncmF5LTUwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsXCI+e2dldEZpbGVJY29uKGZpbGUubmFtZSl9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWxlLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWxlLmNhdGVnb3J5ID09PSAnZmluYWwtZGVsaXZlcmFibGVzJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiB0ZXh0LXhzIGJnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTcwMCBweC0yIHB5LTAuNSByb3VuZGVkXCI+RmluYWw8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEZpbGVTaXplKGZpbGUuc2l6ZSl9IOKAoiBVcGxvYWRlZCB7bmV3IERhdGUoZmlsZS51cGxvYWRlZF9hdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWxlLnN0b3JhZ2VfdHlwZSA9PT0gJ3N1cGFiYXNlJyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMiB0ZXh0LWJsdWUtNjAwXCI+4piB77iPIENsb3VkPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWNrIGRvd25sb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL3Byb2plY3QtZmlsZXMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaWQ6IGZpbGUuaWQsIGluY3JlbWVudF9kb3dubG9hZDogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRG93bmxvYWQgdHJhY2tpbmcgZmFpbGVkOicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBzdG9yYWdlIHR5cGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zdG9yYWdlX3R5cGUgPT09ICdzdXBhYmFzZScgJiYgZmlsZS51cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwYWJhc2UgU3RvcmFnZSBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGZpbGUudXJsLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmlsZS51cmwgJiYgIWZpbGUuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMZWdhY3kgVVJMIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oZmlsZS51cmwsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmaWxlLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmFzZTY0IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluay5ocmVmID0gZmlsZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gZmlsZS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgcHgtNCBweS0yIGJnLXB1cnBsZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLXB1cnBsZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERvd25sb2FkIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkRvd25sb2FkPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBNYXJrIGFzIFJldmlld2VkIEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgIHshY29tcGxldGVkQXBwbGV0cy5oYXMoc2VsZWN0ZWRBcHBsZXQuaWQpICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgYXBwbGV0IGFzIGNvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvYWxvYS1wcm9qZWN0cy8ke3BhcmFtcy5wcm9qZWN0SWR9L2NsaWVudC12aWV3YCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICd1cGRhdGVfYXBwbGV0X3Byb2dyZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsZXRJZDogc2VsZWN0ZWRBcHBsZXQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGxldElkOiBzZWxlY3RlZEFwcGxldC5wcm9qZWN0bGV0LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzRGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDb21wbGV0ZWRBcHBsZXRzKHByZXYgPT4gbmV3IFNldChbLi4ucHJldiwgc2VsZWN0ZWRBcHBsZXQuaWRdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93RmlsZVVwbG9hZE1vZGFsKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBjb25mZXR0aSBjZWxlYnJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0NvbmZldHRpKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTaG93Q29uZmV0dGkoZmFsc2UpLCA3MDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVmcmVzaCBwcm9qZWN0IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUHJvamVjdERhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0zIGJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctZ3JlZW4tNzAwIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtIG10LTRcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgTWFyayBGaWxlcyBhcyBSZXZpZXdlZFxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBTaG93IHdoZW4gYWxyZWFkeSByZXZpZXdlZCAqL31cbiAgICAgICAgICAgICAgICAgIHtjb21wbGV0ZWRBcHBsZXRzLmhhcyhzZWxlY3RlZEFwcGxldC5pZCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTMgYmctZ3JlZW4tNTAgdGV4dC1ncmVlbi03MDAgcm91bmRlZC1sZyBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgIOKckyBGaWxlcyByZXZpZXdlZCBvbiB7bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktOCB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICA8RmlsZSBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgbXgtYXV0byBtYi0zIHRleHQtZ3JheS0zMDBcIiAvPlxuICAgICAgICAgICAgICAgICAgPHA+Tm8gZmlsZXMgYXZhaWxhYmxlIHlldDwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gbXQtMVwiPkNoZWNrIGJhY2sgbGF0ZXIgZm9yIHByb2plY3QgZmlsZXM8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogQWxsb3cgY2xpZW50IHVwbG9hZCBpZiBlbmFibGVkICovfVxuICAgICAgICAgICAgICB7c2VsZWN0ZWRBcHBsZXQuY29uZmlnPy5hbGxvd19jbGllbnRfdXBsb2FkICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgcHQtNiBib3JkZXItdFwiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG1iLTNcIj5Zb3UgY2FuIHVwbG9hZCBmaWxlcyB0b286PC9wPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXthc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBjbGllbnQgZmlsZSB1cGxvYWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdDbGllbnQgZmlsZSB1cGxvYWQgY29taW5nIHNvb24hJyk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIHAtNCB0ZXh0LWNlbnRlciBjdXJzb3ItcG9pbnRlciBob3Zlcjpib3JkZXItcHVycGxlLTQwMCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxVcGxvYWQgY2xhc3NOYW1lPVwidy04IGgtOCB0ZXh0LWdyYXktNDAwIG14LWF1dG8gbWItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+Q2xpY2sgdG8gdXBsb2FkIGZpbGU8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIE1heCB7c2VsZWN0ZWRBcHBsZXQuY29uZmlnLm1heF9maWxlX3NpemUgfHwgMTB9TUJcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIEZvcm0gTW9kYWwgQ29tcG9uZW50IC0gVXNpbmcgTXVsdGlTdGVwRm9ybVJlbmRlcmVyXG5mdW5jdGlvbiBGb3JtTW9kYWwoeyBmb3JtLCBvblN1Ym1pdCwgb25DbG9zZSwgc2F2ZWRQcm9ncmVzcywgb25Qcm9ncmVzc1VwZGF0ZSwgaXNWaWV3T25seSA9IGZhbHNlIH0pIHtcbiAgLy8gQ3JlYXRlIGEgY3VzdG9tIG9uU3VibWl0IGhhbmRsZXIgdGhhdCB3b3JrcyB3aXRoIE11bHRpU3RlcEZvcm1SZW5kZXJlclxuICBjb25zdCBoYW5kbGVGb3JtQ29tcGxldGUgPSBhc3luYyAocmVzcG9uc2VzKSA9PiB7XG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlcyB0byBtYXRjaCBleHBlY3RlZCBmb3JtYXRcbiAgICBjb25zdCB0cmFuc2Zvcm1lZFJlc3BvbnNlcyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKHJlc3BvbnNlcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgdHJhbnNmb3JtZWRSZXNwb25zZXNba2V5XSA9IHJlc3BvbnNlc1trZXldO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIENhbGwgdGhlIHBhcmVudCBvblN1Ym1pdCBoYW5kbGVyXG4gICAgYXdhaXQgb25TdWJtaXQodHJhbnNmb3JtZWRSZXNwb25zZXMpO1xuICAgIG9uQ2xvc2UoKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay81MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTQgei01MFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIG1heC13LTR4bCB3LWZ1bGwgbWF4LWgtWzkwdmhdIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTQgdG9wLTQgcC0yIGhvdmVyOmJnLWdyYXktMTAwIHJvdW5kZWQtbGcgei0xMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTZcIj5cbiAgICAgICAgICAgIDxNdWx0aVN0ZXBGb3JtUmVuZGVyZXIgXG4gICAgICAgICAgICAgIGZvcm09e2Zvcm19IFxuICAgICAgICAgICAgICBpc01vZGFsPXt0cnVlfVxuICAgICAgICAgICAgICBvbkNvbXBsZXRlPXtoYW5kbGVGb3JtQ29tcGxldGV9XG4gICAgICAgICAgICAgIGluaXRpYWxEYXRhPXtzYXZlZFByb2dyZXNzPy5kYXRhfVxuICAgICAgICAgICAgICBpbml0aWFsU2VjdGlvbj17c2F2ZWRQcm9ncmVzcz8uc2VjdGlvbn1cbiAgICAgICAgICAgICAgb25Qcm9ncmVzc0NoYW5nZT17b25Qcm9ncmVzc1VwZGF0ZX1cbiAgICAgICAgICAgICAgaXNWaWV3T25seT17aXNWaWV3T25seX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENsaWVudERhc2hib2FyZFBhZ2UoKSB7XG4gIHJldHVybiAoXG4gICAgPEF1dGhHdWFyZCBcbiAgICAgIHJlcXVpcmVBdXRoPXt0cnVlfSBcbiAgICAgIGFsbG93ZWRSb2xlcz17WydjbGllbnQnLCAnc3VwZXJfYWRtaW4nLCAncHJvamVjdF9hZG1pbicsICd0ZWFtX21lbWJlciddfVxuICAgICAgcmVkaXJlY3RUbz1cIi9hdXRoL2xvZ2luXCJcbiAgICA+XG4gICAgICA8Q2xpZW50RGFzaGJvYXJkIC8+XG4gICAgPC9BdXRoR3VhcmQ+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUGFyYW1zIiwidXNlUm91dGVyIiwiQXJyb3dMZWZ0IiwiQ2hlY2tDaXJjbGUiLCJDbG9jayIsIkxvY2siLCJGaWxlVGV4dCIsIlVwbG9hZCIsIkV5ZSIsIk1lc3NhZ2VTcXVhcmUiLCJQYWxldHRlIiwiU3RhciIsIlRyb3BoeSIsIlRhcmdldCIsIlphcCIsIlgiLCJFZGl0MiIsIkV4dGVybmFsTGluayIsIkxpbmsiLCJEb3dubG9hZCIsIkZpbGUiLCJkeW5hbWljIiwiTXVsdGlTdGVwRm9ybVJlbmRlcmVyIiwiQXV0aEd1YXJkIiwiQ29uZmV0dGlDZWxlYnJhdGlvbiIsInNzciIsIkNsaWVudERhc2hib2FyZCIsInNlbGVjdGVkQXBwbGV0IiwicGFyYW1zIiwicm91dGVyIiwicHJvamVjdCIsInNldFByb2plY3QiLCJwcm9qZWN0bGV0cyIsInNldFByb2plY3RsZXRzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRTZWxlY3RlZEFwcGxldCIsInNob3dGb3JtTW9kYWwiLCJzZXRTaG93Rm9ybU1vZGFsIiwiZm9ybURhdGEiLCJzZXRGb3JtRGF0YSIsInNob3dDb25mZXR0aSIsInNldFNob3dDb25mZXR0aSIsImNvbXBsZXRlZEFwcGxldHMiLCJzZXRDb21wbGV0ZWRBcHBsZXRzIiwiU2V0Iiwic3RhdHMiLCJzZXRTdGF0cyIsInRvdGFsQXBwbGV0cyIsInByb2dyZXNzUGVyY2VudGFnZSIsImZvcm1Qcm9ncmVzcyIsInNldEZvcm1Qcm9ncmVzcyIsInVzZXJJZCIsInNldFVzZXJJZCIsInVzZXJGb3JtUmVzcG9uc2VzIiwic2V0VXNlckZvcm1SZXNwb25zZXMiLCJpc0Zvcm1WaWV3T25seSIsInNldElzRm9ybVZpZXdPbmx5Iiwic2hvd0xpbmtTdWJtaXNzaW9uTW9kYWwiLCJzZXRTaG93TGlua1N1Ym1pc3Npb25Nb2RhbCIsInNob3dGaWxlVXBsb2FkTW9kYWwiLCJzZXRTaG93RmlsZVVwbG9hZE1vZGFsIiwic3RvcmVkVXNlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIm5ld1VzZXJJZCIsIk1hdGgiLCJEYXRlIiwibm93IiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJzZXRJdGVtIiwiZmV0Y2hQcm9qZWN0RGF0YSIsInByb2plY3RJZCIsImRhdGEiLCJyZXNwb25zZSIsImZldGNoIiwianNvbiIsImNvbXBsZXRlZCIsImZvckVhY2giLCJwcm9qZWN0bGV0IiwiYXBwbGV0cyIsImFwcGxldCIsInN0YXR1cyIsInVzZXJfc3RhdHVzIiwiYWRkIiwiaWQiLCJmb3JtX3Byb2dyZXNzIiwiZm9ybV9pZCIsInByZXYiLCJmb3JtSWRzIiwidHlwZSIsImNvbmZpZyIsImZvcm1SZXNwb25zZXMiLCJmb3JtSWQiLCJyZXNwb25zZVJlcyIsIm9rIiwicmVzcG9uc2VEYXRhIiwicmVzcG9uc2VzIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiaGFuZGxlQXBwbGV0Q2xpY2siLCJpc1ZpZXdPbmx5IiwiaXNGb3JtIiwiaXNMaW5rU3VibWlzc2lvbiIsImlzRmlsZVVwbG9hZCIsImZvcm1Jc0xvY2tlZCIsImZvcm0iLCJ1c2VySGFzQ29tcGxldGVkIiwiaGFzIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXBwbGV0SWQiLCJpbnRlcmFjdGlvblR5cGUiLCJhbGVydCIsInByZXZpb3VzUmVzcG9uc2VzIiwicmVzcG9uc2VfZGF0YSIsInRyYW5zZm9ybWVkRm9ybSIsInNvcnRlZEZpZWxkcyIsImFsb2FfZm9ybV9maWVsZHMiLCJzb3J0IiwiYSIsImIiLCJmaWVsZF9vcmRlciIsIl9pZCIsInVybElkIiwidXJsX2lkIiwiZmllbGRzIiwibWFwIiwiZmllbGQiLCJsYWJlbCIsImZpZWxkX2xhYmVsIiwibmFtZSIsImZpZWxkX25hbWUiLCJmaWVsZF90eXBlIiwicG9zaXRpb24iLCJzZWN0aW9uIiwidmFsaWRhdGlvbiIsInJlcXVpcmVkIiwicGxhY2Vob2xkZXIiLCJvcHRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwicGFyc2UiLCJmb3JtUmVzIiwiRXJyb3IiLCJoYW5kbGVGb3JtU3VibWl0IiwiY3NyZlRva2VuIiwic3Vic3RyaW5nIiwiZG9jdW1lbnQiLCJjb29raWUiLCJyZXNwb25zZVJlc3VsdCIsInRleHQiLCJ1cGRhdGVSZXN1bHQiLCJmb3JtX3Jlc3BvbnNlcyIsIm5ld0NvbXBsZXRlZCIsInN1Ym1pdHRlZF9hdCIsInRvSVNPU3RyaW5nIiwibmV3UHJvZ3Jlc3MiLCJzZXRUaW1lb3V0IiwiZ2V0QXBwbGV0SWNvbiIsImljb25zIiwidXBsb2FkIiwicmV2aWV3IiwibW9vZGJvYXJkIiwiY29udGVudF9nYXRoZXIiLCJjYWxjdWxhdGVQcm9ncmVzcyIsImRpdiIsImNsYXNzTmFtZSIsInByb2dyZXNzIiwic2hvdyIsImR1cmF0aW9uIiwiaDEiLCJwcm9qZWN0X25hbWUiLCJwIiwic3ZnIiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsImZpbGwiLCJzdHJva2VEYXNoYXJyYXkiLCJzcGFuIiwiaW5Qcm9ncmVzc0NvdW50IiwiZmlsdGVyIiwiaDIiLCJpbmRleCIsImlzTG9ja2VkIiwiaXNDb21wbGV0ZWQiLCJoYXNTdGFydGVkQXBwbGV0cyIsInNvbWUiLCJhbGxBcHBsZXRzQ29tcGxldGUiLCJldmVyeSIsImlzSW5Qcm9ncmVzcyIsImgzIiwiZGVzY3JpcHRpb24iLCJkZWFkbGluZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIkljb24iLCJpc0FwcGxldENvbXBsZXRlZCIsInVzZXJIYXNTdWJtaXR0ZWQiLCJidXR0b25TdGF0ZSIsInN0YXR1c01lc3NhZ2UiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJ0aXRsZSIsImhlYWRpbmciLCJjbGllbnRfaW5zdHJ1Y3Rpb25zIiwiRm9ybU1vZGFsIiwib25TdWJtaXQiLCJvbkNsb3NlIiwic2F2ZWRQcm9ncmVzcyIsIm9uUHJvZ3Jlc3NVcGRhdGUiLCJsaW5rcyIsImxpbmsiLCJpZHgiLCJocmVmIiwidXJsIiwidGFyZ2V0IiwicmVsIiwiYWxsb3dfY2xpZW50X2Fja25vd2xlZGdtZW50IiwidXNlcl9jb21wbGV0ZWRfYXQiLCJtb250aCIsImRheSIsInllYXIiLCJob3VyIiwibWludXRlIiwiYWNrbm93bGVkZ2VkIiwiYWNrbm93bGVkZ2VkQXQiLCJmaWxlcyIsImZpbGUiLCJnZXRGaWxlSWNvbiIsImZpbGVOYW1lIiwiZXh0Iiwic3BsaXQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsImltYWdlRXh0cyIsImRvY0V4dHMiLCJpbmNsdWRlcyIsImZvcm1hdEZpbGVTaXplIiwiYnl0ZXMiLCJrIiwic2l6ZXMiLCJpIiwiZmxvb3IiLCJyb3VuZCIsInBvdyIsImNhdGVnb3J5Iiwic2l6ZSIsInVwbG9hZGVkX2F0Iiwic3RvcmFnZV90eXBlIiwiaW5jcmVtZW50X2Rvd25sb2FkIiwiZXJyIiwid2luZG93Iiwib3BlbiIsImNyZWF0ZUVsZW1lbnQiLCJkb3dubG9hZCIsImNsaWNrIiwiYWN0aW9uIiwicHJvamVjdGxldElkIiwicHJvZ3Jlc3NEYXRhIiwiY29tcGxldGVkQXQiLCJhbGxvd19jbGllbnRfdXBsb2FkIiwiaW5wdXQiLCJvbkNoYW5nZSIsImUiLCJtYXhfZmlsZV9zaXplIiwiaGFuZGxlRm9ybUNvbXBsZXRlIiwidHJhbnNmb3JtZWRSZXNwb25zZXMiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiaXNNb2RhbCIsIm9uQ29tcGxldGUiLCJpbml0aWFsRGF0YSIsImluaXRpYWxTZWN0aW9uIiwib25Qcm9ncmVzc0NoYW5nZSIsIkNsaWVudERhc2hib2FyZFBhZ2UiLCJyZXF1aXJlQXV0aCIsImFsbG93ZWRSb2xlcyIsInJlZGlyZWN0VG8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/project/[projectId]/dashboard/page.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/AuthGuard.js":
/*!*********************************!*\
  !*** ./components/AuthGuard.js ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AuthGuard; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _lib_supabase_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/supabase-browser */ \"(app-pages-browser)/./lib/supabase-browser.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_Lock_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,Lock!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/lock.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_Lock_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,Lock!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-alert.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction AuthGuard(param) {\n    let { children, allowedRoles = [], redirectTo = \"/auth/login\", requireAuth = true } = param;\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [authorized, setAuthorized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [userRole, setUserRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        checkAuth();\n    }, []);\n    const checkAuth = async ()=>{\n        try {\n            var _data_user, _data_user1, _data_user_profile, _data_user2, _data_user3;\n            const supabase = (0,_lib_supabase_browser__WEBPACK_IMPORTED_MODULE_3__.createClient)();\n            // Check if user is authenticated\n            const { data: { user }, error: userError } = await supabase.auth.getUser();\n            if (userError || !user) {\n                if (requireAuth) {\n                    console.log(\"No authenticated user, redirecting to login\");\n                    router.push(\"\".concat(redirectTo, \"?message=Please login to continue\"));\n                } else {\n                    setAuthorized(true);\n                }\n                setLoading(false);\n                return;\n            }\n            // Get user profile with role using API endpoint to bypass RLS issues\n            console.log(\"Fetching profile for user:\", user.id, user.email);\n            const response = await fetch(\"/api/auth/profile\", {\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            const data = await response.json();\n            console.log(\"Profile API response:\", data);\n            console.log(\"Response structure:\", {\n                hasUser: !!data.user,\n                hasRole: !!((_data_user = data.user) === null || _data_user === void 0 ? void 0 : _data_user.role),\n                hasProfile: !!((_data_user1 = data.user) === null || _data_user1 === void 0 ? void 0 : _data_user1.profile),\n                profileRole: (_data_user2 = data.user) === null || _data_user2 === void 0 ? void 0 : (_data_user_profile = _data_user2.profile) === null || _data_user_profile === void 0 ? void 0 : _data_user_profile.role,\n                userRole: (_data_user3 = data.user) === null || _data_user3 === void 0 ? void 0 : _data_user3.role\n            });\n            if (!response.ok || data.error) {\n                console.error(\"Error fetching user profile:\", data.error);\n                setError(\"Unable to verify user permissions: \" + (data.error || \"Unknown error\"));\n                setLoading(false);\n                return;\n            }\n            if (!data.user || !data.user.role) {\n                console.error(\"No user role found in response\");\n                console.error(\"Full data structure:\", JSON.stringify(data, null, 2));\n                setError(\"User profile incomplete. Please contact support.\");\n                setLoading(false);\n                return;\n            }\n            const profile = data.user.profile || {\n                role: data.user.role\n            };\n            const actualRole = profile.role || data.user.role;\n            setUserRole(actualRole);\n            console.log(\"User role determined:\", {\n                profileRole: profile.role,\n                userRole: data.user.role,\n                actualRole: actualRole,\n                settingTo: actualRole\n            });\n            // Check if user role is allowed\n            if (allowedRoles.length > 0) {\n                console.log(\"Checking role access:\", {\n                    userRole: actualRole,\n                    allowedRoles: allowedRoles,\n                    isIncluded: allowedRoles.includes(actualRole)\n                });\n                const isAllowed = allowedRoles.includes(actualRole);\n                if (!isAllowed) {\n                    console.log(\"User role \".concat(actualRole, \" not in allowed roles:\"), allowedRoles);\n                    setError(\"Access denied. This area is restricted to: \".concat(allowedRoles.join(\", \")));\n                    setAuthorized(false);\n                } else {\n                    console.log(\"Access granted for role:\", actualRole);\n                    setAuthorized(true);\n                }\n            } else {\n                // If no specific roles required, just check authentication\n                console.log(\"No specific roles required, user is authenticated\");\n                setAuthorized(true);\n            }\n            setLoading(false);\n        } catch (error) {\n            console.error(\"Auth check error:\", error);\n            setError(\"An error occurred while checking permissions\");\n            setLoading(false);\n        }\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gradient-subtle flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                        lineNumber: 123,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600\",\n                        children: \"Checking permissions...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                        lineNumber: 124,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                lineNumber: 122,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n            lineNumber: 121,\n            columnNumber: 7\n        }, this);\n    }\n    if (error || !authorized) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gradient-subtle flex items-center justify-center p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white p-8 rounded-lg shadow-xl max-w-md w-full\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-center mb-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 bg-red-100 rounded-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_Lock_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-8 h-8 text-red-600\"\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                                lineNumber: 136,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                            lineNumber: 135,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                        lineNumber: 134,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold text-gray-900 text-center mb-2\",\n                        children: \"Access Restricted\"\n                    }, void 0, false, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                        lineNumber: 140,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-start\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_Lock_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-5 h-5 text-red-600 mt-0.5 mr-2 flex-shrink-0\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                                    lineNumber: 146,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-red-800 text-sm\",\n                                            children: error || \"You do not have permission to access this page.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                                            lineNumber: 148,\n                                            columnNumber: 17\n                                        }, this),\n                                        userRole && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-red-600 text-xs mt-1\",\n                                            children: [\n                                                \"Your role: \",\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold\",\n                                                    children: userRole\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                                                    lineNumber: 153,\n                                                    columnNumber: 32\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                                            lineNumber: 152,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                                    lineNumber: 147,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                            lineNumber: 145,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                        lineNumber: 144,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>router.back(),\n                                className: \"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors\",\n                                children: \"Go Back\"\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                                lineNumber: 161,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>router.push(\"/auth/login\"),\n                                className: \"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n                                children: \"Return to Login\"\n                            }, void 0, false, {\n                                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                                lineNumber: 168,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                        lineNumber: 160,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n                lineNumber: 133,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/rosspalmer/Ross GitHub Projects/aloa-web-design-project-manager/components/AuthGuard.js\",\n            lineNumber: 132,\n            columnNumber: 7\n        }, this);\n    }\n    return children;\n}\n_s(AuthGuard, \"QhXdk1PethsR/B5GpgWL8BE8G9Y=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = AuthGuard;\nvar _c;\n$RefreshReg$(_c, \"AuthGuard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvQXV0aEd1YXJkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFNEM7QUFDQTtBQUNVO0FBQ0w7QUFFbEMsU0FBU00sVUFBVSxLQUtqQztRQUxpQyxFQUNoQ0MsUUFBUSxFQUNSQyxlQUFlLEVBQUUsRUFDakJDLGFBQWEsYUFBYSxFQUMxQkMsY0FBYyxJQUFJLEVBQ25CLEdBTGlDOztJQU1oQyxNQUFNQyxTQUFTVCwwREFBU0E7SUFDeEIsTUFBTSxDQUFDVSxTQUFTQyxXQUFXLEdBQUdaLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2EsWUFBWUMsY0FBYyxHQUFHZCwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNlLFVBQVVDLFlBQVksR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ2lCLE9BQU9DLFNBQVMsR0FBR2xCLCtDQUFRQSxDQUFDO0lBRW5DRCxnREFBU0EsQ0FBQztRQUNSb0I7SUFDRixHQUFHLEVBQUU7SUFFTCxNQUFNQSxZQUFZO1FBQ2hCLElBQUk7Z0JBK0JXQyxZQUNHQSxhQUNEQSxvQkFBQUEsYUFDSEE7WUFqQ1osTUFBTUMsV0FBV25CLG1FQUFZQTtZQUU3QixpQ0FBaUM7WUFDakMsTUFBTSxFQUFFa0IsTUFBTSxFQUFFRSxJQUFJLEVBQUUsRUFBRUwsT0FBT00sU0FBUyxFQUFFLEdBQUcsTUFBTUYsU0FBU0csSUFBSSxDQUFDQyxPQUFPO1lBRXhFLElBQUlGLGFBQWEsQ0FBQ0QsTUFBTTtnQkFDdEIsSUFBSWIsYUFBYTtvQkFDZmlCLFFBQVFDLEdBQUcsQ0FBQztvQkFDWmpCLE9BQU9rQixJQUFJLENBQUMsR0FBYyxPQUFYcEIsWUFBVztnQkFDNUIsT0FBTztvQkFDTE0sY0FBYztnQkFDaEI7Z0JBQ0FGLFdBQVc7Z0JBQ1g7WUFDRjtZQUVBLHFFQUFxRTtZQUNyRWMsUUFBUUMsR0FBRyxDQUFDLDhCQUE4QkwsS0FBS08sRUFBRSxFQUFFUCxLQUFLUSxLQUFL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Q0FDZiw4REFBQ0M7d0JBQUVELFdBQVU7a0NBQWdCOzs7Ozs7Ozs7Ozs7Ozs7OztJQUlyQztJQUVBLElBQUlwQyxTQUFTLENBQUNKLFlBQVk7UUFDeEIscUJBQ0UsOERBQUN1QztZQUFJQyxXQUFVO3NCQUNiLDRFQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDRDs0QkFBSUMsV0FBVTtzQ0FDYiw0RUFBQ2xELDRGQUFJQTtnQ0FBQ2tELFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBSXBCLDhEQUFDRTt3QkFBR0YsV0FBVTtrQ0FBb0Q7Ozs7OztrQ0FJbEUsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNqRCw0RkFBV0E7b0NBQUNpRCxXQUFVOzs7Ozs7OENBQ3ZCLDhEQUFDRDs7c0RBQ0MsOERBQUNFOzRDQUFFRCxXQUFVO3NEQUNWcEMsU0FBUzs7Ozs7O3dDQUVYRiwwQkFDQyw4REFBQ3VDOzRDQUFFRCxXQUFVOztnREFBNEI7OERBQzVCLDhEQUFDRztvREFBS0gsV0FBVTs4REFBaUJ0Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBT3RELDhEQUFDcUM7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDSTtnQ0FDQ0MsU0FBUyxJQUFNaEQsT0FBT2lELElBQUk7Z0NBQzFCTixXQUFVOzBDQUNYOzs7Ozs7MENBSUQsOERBQUNJO2dDQUNDQyxTQUFTLElBQU1oRCxPQUFPa0IsSUFBSSxDQUFDO2dDQUMzQnlCLFdBQVU7MENBQ1g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBT1g7SUFFQSxPQUFPL0M7QUFDVDtHQTdLd0JEOztRQU1QSixzREFBU0E7OztLQU5GSSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0F1dGhHdWFyZC5qcz81ZmE0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS1icm93c2VyJztcbmltcG9ydCB7IExvY2ssIEFsZXJ0Q2lyY2xlIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXV0aEd1YXJkKHsgXG4gIGNoaWxkcmVuLCBcbiAgYWxsb3dlZFJvbGVzID0gW10sXG4gIHJlZGlyZWN0VG8gPSAnL2F1dGgvbG9naW4nLFxuICByZXF1aXJlQXV0aCA9IHRydWUgXG59KSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2F1dGhvcml6ZWQsIHNldEF1dGhvcml6ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdXNlclJvbGUsIHNldFVzZXJSb2xlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2hlY2tBdXRoKCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBjaGVja0F1dGggPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYXV0aGVudGljYXRlZFxuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSwgZXJyb3I6IHVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG4gICAgICBcbiAgICAgIGlmICh1c2VyRXJyb3IgfHwgIXVzZXIpIHtcbiAgICAgICAgaWYgKHJlcXVpcmVBdXRoKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ05vIGF1dGhlbnRpY2F0ZWQgdXNlciwgcmVkaXJlY3RpbmcgdG8gbG9naW4nKTtcbiAgICAgICAgICByb3V0ZXIucHVzaChgJHtyZWRpcmVjdFRvfT9tZXNzYWdlPVBsZWFzZSBsb2dpbiB0byBjb250aW51ZWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEF1dGhvcml6ZWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHVzZXIgcHJvZmlsZSB3aXRoIHJvbGUgdXNpbmcgQVBJIGVuZHBvaW50IHRvIGJ5cGFzcyBSTFMgaXNzdWVzXG4gICAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgcHJvZmlsZSBmb3IgdXNlcjonLCB1c2VyLmlkLCB1c2VyLmVtYWlsKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hdXRoL3Byb2ZpbGUnLCB7XG4gICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdQcm9maWxlIEFQSSByZXNwb25zZTonLCBkYXRhKTtcbiAgICAgIGNvbnNvbGUubG9nKCdSZXNwb25zZSBzdHJ1Y3R1cmU6Jywge1xuICAgICAgICBoYXNVc2VyOiAhIWRhdGEudXNlcixcbiAgICAgICAgaGFzUm9sZTogISFkYXRhLnVzZXI/LnJvbGUsXG4gICAgICAgIGhhc1Byb2ZpbGU6ICEhZGF0YS51c2VyPy5wcm9maWxlLFxuICAgICAgICBwcm9maWxlUm9sZTogZGF0YS51c2VyPy5wcm9maWxlPy5yb2xlLFxuICAgICAgICB1c2VyUm9sZTogZGF0YS51c2VyPy5yb2xlXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCBkYXRhLmVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgcHJvZmlsZTonLCBkYXRhLmVycm9yKTtcbiAgICAgICAgc2V0RXJyb3IoJ1VuYWJsZSB0byB2ZXJpZnkgdXNlciBwZXJtaXNzaW9uczogJyArIChkYXRhLmVycm9yIHx8ICdVbmtub3duIGVycm9yJykpO1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWRhdGEudXNlciB8fCAhZGF0YS51c2VyLnJvbGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gdXNlciByb2xlIGZvdW5kIGluIHJlc3BvbnNlJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Z1bGwgZGF0YSBzdHJ1Y3R1cmU6JywgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xuICAgICAgICBzZXRFcnJvcignVXNlciBwcm9maWxlIGluY29tcGxldGUuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuJyk7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHByb2ZpbGUgPSBkYXRhLnVzZXIucHJvZmlsZSB8fCB7IHJvbGU6IGRhdGEudXNlci5yb2xlIH07XG4gICAgICBjb25zdCBhY3R1YWxSb2xlID0gcHJvZmlsZS5yb2xlIHx8IGRhdGEudXNlci5yb2xlO1xuICAgICAgc2V0VXNlclJvbGUoYWN0dWFsUm9sZSk7XG4gICAgICBjb25zb2xlLmxvZygnVXNlciByb2xlIGRldGVybWluZWQ6Jywge1xuICAgICAgICBwcm9maWxlUm9sZTogcHJvZmlsZS5yb2xlLFxuICAgICAgICB1c2VyUm9sZTogZGF0YS51c2VyLnJvbGUsXG4gICAgICAgIGFjdHVhbFJvbGU6IGFjdHVhbFJvbGUsXG4gICAgICAgIHNldHRpbmdUbzogYWN0dWFsUm9sZVxuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHVzZXIgcm9sZSBpcyBhbGxvd2VkXG4gICAgICBpZiAoYWxsb3dlZFJvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0NoZWNraW5nIHJvbGUgYWNjZXNzOicsIHtcbiAgICAgICAgICB1c2VyUm9sZTogYWN0dWFsUm9sZSxcbiAgICAgICAgICBhbGxvd2VkUm9sZXM6IGFsbG93ZWRSb2xlcyxcbiAgICAgICAgICBpc0luY2x1ZGVkOiBhbGxvd2VkUm9sZXMuaW5jbHVkZXMoYWN0dWFsUm9sZSlcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpc0FsbG93ZWQgPSBhbGxvd2VkUm9sZXMuaW5jbHVkZXMoYWN0dWFsUm9sZSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzQWxsb3dlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBVc2VyIHJvbGUgJHthY3R1YWxSb2xlfSBub3QgaW4gYWxsb3dlZCByb2xlczpgLCBhbGxvd2VkUm9sZXMpO1xuICAgICAgICAgIHNldEVycm9yKGBBY2Nlc3MgZGVuaWVkLiBUaGlzIGFyZWEgaXMgcmVzdHJpY3RlZCB0bzogJHthbGxvd2VkUm9sZXMuam9pbignLCAnKX1gKTtcbiAgICAgICAgICBzZXRBdXRob3JpemVkKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQWNjZXNzIGdyYW50ZWQgZm9yIHJvbGU6JywgYWN0dWFsUm9sZSk7XG4gICAgICAgICAgc2V0QXV0aG9yaXplZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgbm8gc3BlY2lmaWMgcm9sZXMgcmVxdWlyZWQsIGp1c3QgY2hlY2sgYXV0aGVudGljYXRpb25cbiAgICAgICAgY29uc29sZS5sb2coJ05vIHNwZWNpZmljIHJvbGVzIHJlcXVpcmVkLCB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQnKTtcbiAgICAgICAgc2V0QXV0aG9yaXplZCh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGggY2hlY2sgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgc2V0RXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIGNoZWNraW5nIHBlcm1pc3Npb25zJyk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtc3VidGxlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBib3JkZXItNCBib3JkZXItYmx1ZS01MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpbiBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+Q2hlY2tpbmcgcGVybWlzc2lvbnMuLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChlcnJvciB8fCAhYXV0aG9yaXplZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC1zdWJ0bGUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC04IHJvdW5kZWQtbGcgc2hhZG93LXhsIG1heC13LW1kIHctZnVsbFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1yZWQtMTAwIHJvdW5kZWQtZnVsbFwiPlxuICAgICAgICAgICAgICA8TG9jayBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtcmVkLTYwMFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgdGV4dC1jZW50ZXIgbWItMlwiPlxuICAgICAgICAgICAgQWNjZXNzIFJlc3RyaWN0ZWRcbiAgICAgICAgICA8L2gxPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTUwIGJvcmRlciBib3JkZXItcmVkLTIwMCByb3VuZGVkLWxnIHAtNCBtYi02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnRcIj5cbiAgICAgICAgICAgICAgPEFsZXJ0Q2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1yZWQtNjAwIG10LTAuNSBtci0yIGZsZXgtc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTgwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3IgfHwgJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIHBhZ2UuJ31cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAge3VzZXJSb2xlICYmIChcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCB0ZXh0LXhzIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgWW91ciByb2xlOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+e3VzZXJSb2xlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5iYWNrKCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTIgYmctZ3JheS0xMDAgdGV4dC1ncmF5LTcwMCByb3VuZGVkLWxnIGhvdmVyOmJnLWdyYXktMjAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgR28gQmFja1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goJy9hdXRoL2xvZ2luJyl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgUmV0dXJuIHRvIExvZ2luXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkcmVuO1xufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJvdXRlciIsImNyZWF0ZUNsaWVudCIsIkxvY2siLCJBbGVydENpcmNsZSIsIkF1dGhHdWFyZCIsImNoaWxkcmVuIiwiYWxsb3dlZFJvbGVzIiwicmVkaXJlY3RUbyIsInJlcXVpcmVBdXRoIiwicm91dGVyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJhdXRob3JpemVkIiwic2V0QXV0aG9yaXplZCIsInVzZXJSb2xlIiwic2V0VXNlclJvbGUiLCJlcnJvciIsInNldEVycm9yIiwiY2hlY2tBdXRoIiwiZGF0YSIsInN1cGFiYXNlIiwidXNlciIsInVzZXJFcnJvciIsImF1dGgiLCJnZXRVc2VyIiwiY29uc29sZSIsImxvZyIsInB1c2giLCJpZCIsImVtYWlsIiwicmVzcG9uc2UiLCJmZXRjaCIsImNyZWRlbnRpYWxzIiwiaGVhZGVycyIsImpzb24iLCJoYXNVc2VyIiwiaGFzUm9sZSIsInJvbGUiLCJoYXNQcm9maWxlIiwicHJvZmlsZSIsInByb2ZpbGVSb2xlIiwib2siLCJKU09OIiwic3RyaW5naWZ5IiwiYWN0dWFsUm9sZSIsInNldHRpbmdUbyIsImxlbmd0aCIsImlzSW5jbHVkZWQiLCJpbmNsdWRlcyIsImlzQWxsb3dlZCIsImpvaW4iLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwiaDEiLCJzcGFuIiwiYnV0dG9uIiwib25DbGljayIsImJhY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/AuthGuard.js\n"));

/***/ })

});